2023-12-08 10:20:54.505 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-08 10:20:54.672 +07:00 [DBG] Hosting starting
2023-12-08 10:20:54.742 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-08 10:20:54.746 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-08 10:20:54.782 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-08 10:20:54.797 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-08 10:20:54.801 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 10:20:54.804 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-08 10:20:54.806 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 10:20:54.808 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-08 10:20:54.809 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-08 10:20:54.810 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-08 10:20:54.811 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-08 10:20:55.542 +07:00 [INF] Now listening on: https://localhost:7278
2023-12-08 10:20:55.543 +07:00 [INF] Now listening on: http://localhost:5225
2023-12-08 10:20:55.543 +07:00 [DBG] Loaded hosting startup assembly Moc
2023-12-08 10:20:55.543 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-08 10:20:55.543 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-08 10:20:55.543 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-08 10:20:55.543 +07:00 [INF] Hosting environment: Development
2023-12-08 10:20:55.543 +07:00 [INF] Content root path: D:\Moc
2023-12-08 10:20:55.543 +07:00 [DBG] Hosting started
2023-12-08 10:20:55.754 +07:00 [DBG] Connection id "0HMVNJIOE1JB3" accepted.
2023-12-08 10:20:55.755 +07:00 [DBG] Connection id "0HMVNJIOE1JB3" started.
2023-12-08 10:20:55.824 +07:00 [DBG] Connection id "0HMVNJIOE1JB4" accepted.
2023-12-08 10:20:55.824 +07:00 [DBG] Connection id "0HMVNJIOE1JB4" started.
2023-12-08 10:20:56.563 +07:00 [DBG] Connection id "0HMVNJIOE1JB5" accepted.
2023-12-08 10:20:56.577 +07:00 [DBG] Connection id "0HMVNJIOE1JB6" accepted.
2023-12-08 10:20:56.578 +07:00 [DBG] Connection id "0HMVNJIOE1JB5" started.
2023-12-08 10:20:56.658 +07:00 [DBG] Connection id "0HMVNJIOE1JB7" accepted.
2023-12-08 10:20:56.658 +07:00 [DBG] Connection id "0HMVNJIOE1JB6" started.
2023-12-08 10:20:56.658 +07:00 [DBG] Connection id "0HMVNJIOE1JB7" started.
2023-12-08 10:20:56.799 +07:00 [DBG] Connection id "0HMVNJIOE1JB5" received FIN.
2023-12-08 10:20:56.821 +07:00 [DBG] Connection 0HMVNJIOE1JB5 established using the following protocol: "Tls13"
2023-12-08 10:20:56.821 +07:00 [DBG] Connection 0HMVNJIOE1JB6 established using the following protocol: "Tls13"
2023-12-08 10:20:56.915 +07:00 [DBG] Connection id "0HMVNJIOE1JB5" is closed. The last processed stream ID was 0.
2023-12-08 10:20:56.916 +07:00 [DBG] Connection id "0HMVNJIOE1JB5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 10:20:56.928 +07:00 [DBG] The connection queue processing loop for 0HMVNJIOE1JB5 completed.
2023-12-08 10:20:56.936 +07:00 [DBG] Connection id "0HMVNJIOE1JB5" stopped.
2023-12-08 10:20:57.100 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/index.html - -
2023-12-08 10:20:57.167 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-08 10:20:57.202 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-08 10:20:57.202 +07:00 [DBG] Request did not match any endpoints
2023-12-08 10:20:57.387 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-08 10:20:57.753 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-08 10:20:57.759 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/index.html - - - 200 - text/html;charset=utf-8 658.6231ms
2023-12-08 10:20:57.830 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_vs/browserLink - -
2023-12-08 10:20:57.830 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - -
2023-12-08 10:20:57.851 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - - - 200 12338 application/javascript;+charset=utf-8 20.6604ms
2023-12-08 10:20:57.888 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.6905ms
2023-12-08 10:20:59.048 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - -
2023-12-08 10:20:59.048 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-08 10:20:59.048 +07:00 [DBG] Request did not match any endpoints
2023-12-08 10:20:59.374 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 326.2522ms
2023-12-08 10:21:00.807 +07:00 [DBG] Connection id "0HMVNJIOE1JB7" received FIN.
2023-12-08 10:21:00.807 +07:00 [DBG] Connection id "0HMVNJIOE1JB6" received FIN.
2023-12-08 10:21:00.808 +07:00 [DBG] Connection id "0HMVNJIOE1JB7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 10:21:00.808 +07:00 [DBG] Connection id "0HMVNJIOE1JB7" disconnecting.
2023-12-08 10:21:00.809 +07:00 [DBG] Connection id "0HMVNJIOE1JB6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 10:21:00.809 +07:00 [DBG] Connection id "0HMVNJIOE1JB6" is closed. The last processed stream ID was 7.
2023-12-08 10:21:00.809 +07:00 [DBG] The connection queue processing loop for 0HMVNJIOE1JB6 completed.
2023-12-08 10:21:00.810 +07:00 [DBG] Connection id "0HMVNJIOE1JB7" stopped.
2023-12-08 10:21:00.810 +07:00 [DBG] Connection id "0HMVNJIOE1JB6" stopped.
2023-12-08 10:21:05.770 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-08 10:21:05.770 +07:00 [DBG] Connection id "0HMVNJIOE1JB3" stopped.
2023-12-08 10:21:05.770 +07:00 [DBG] Connection id "0HMVNJIOE1JB3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 10:21:05.825 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-08 10:21:05.825 +07:00 [DBG] Connection id "0HMVNJIOE1JB4" stopped.
2023-12-08 10:21:05.825 +07:00 [DBG] Connection id "0HMVNJIOE1JB4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 10:21:21.578 +07:00 [DBG] Connection id "0HMVNJIOE1JB8" accepted.
2023-12-08 10:21:21.578 +07:00 [DBG] Connection id "0HMVNJIOE1JB8" started.
2023-12-08 10:21:21.582 +07:00 [DBG] Connection 0HMVNJIOE1JB8 established using the following protocol: "Tls13"
2023-12-08 10:21:21.584 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53
2023-12-08 10:21:21.590 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-08 10:21:21.595 +07:00 [DBG] Endpoint 'Moc.Controllers.UsersController.Login (Moc)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-08 10:21:21.596 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 10:21:21.598 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 10:21:22.113 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-08 10:21:22.118 +07:00 [INF] Executing endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 10:21:22.152 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Moc.DTO.LoginRequestDTO) on controller Moc.Controllers.UsersController (Moc).
2023-12-08 10:21:22.153 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 10:21:22.153 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 10:21:22.154 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-08 10:21:22.154 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 10:21:22.154 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 10:21:22.155 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 10:21:22.630 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-08 10:21:22.653 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 10:21:22.696 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 10:21:22.698 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-08 10:21:22.699 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 10:21:22.700 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 10:21:22.763 +07:00 [DBG] Connection id "0HMVNJIOE1JB8", Request id "0HMVNJIOE1JB8:00000001": started reading request body.
2023-12-08 10:21:22.763 +07:00 [DBG] Connection id "0HMVNJIOE1JB8", Request id "0HMVNJIOE1JB8:00000001": done reading request body.
2023-12-08 10:21:22.872 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 10:21:22.872 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 10:21:22.872 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 10:21:22.880 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 10:21:23.383 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 10:21:23.587 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-08 10:21:23.833 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-08 10:21:23.872 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 10:21:23.873 +07:00 [DBG] Creating DbConnection.
2023-12-08 10:21:23.894 +07:00 [DBG] Created DbConnection. (18ms).
2023-12-08 10:21:23.899 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-12-08 10:21:23.912 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (41ms).
2023-12-08 10:21:23.915 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:24.649 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:24.657 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 10:21:24.891 +07:00 [INF] Executed DbCommand (236ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 10:21:24.915 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 10:21:24.938 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 10:21:24.947 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 50ms reading results.
2023-12-08 10:21:24.950 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:24.957 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (7ms).
2023-12-08 10:21:25.302 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 10:21:25.303 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-08 10:21:25.303 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-08 10:21:25.303 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-08 10:21:25.304 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 10:21:25.304 +07:00 [INF] Executing OkObjectResult, writing value of type 'Moc.Models.APIResponse'.
2023-12-08 10:21:25.347 +07:00 [INF] Executed action Moc.Controllers.UsersController.Login (Moc) in 3190.0648ms
2023-12-08 10:21:25.347 +07:00 [INF] Executed endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 10:21:25.350 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 10:21:25.359 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:25.362 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-12-08 10:21:25.363 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53 - 200 339 application/json;+charset=utf-8 3778.9860ms
2023-12-08 10:21:30.832 +07:00 [DBG] Connection id "0HMVNJIOE1JB8" received FIN.
2023-12-08 10:21:30.832 +07:00 [DBG] Connection id "0HMVNJIOE1JB8" is closed. The last processed stream ID was 1.
2023-12-08 10:21:30.832 +07:00 [DBG] Connection id "0HMVNJIOE1JB8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 10:21:30.832 +07:00 [DBG] The connection queue processing loop for 0HMVNJIOE1JB8 completed.
2023-12-08 10:21:30.833 +07:00 [DBG] Connection id "0HMVNJIOE1JB8" stopped.
2023-12-08 10:21:52.088 +07:00 [DBG] Connection id "0HMVNJIOE1JB9" accepted.
2023-12-08 10:21:52.090 +07:00 [DBG] Connection id "0HMVNJIOE1JB9" started.
2023-12-08 10:21:52.102 +07:00 [DBG] Connection 0HMVNJIOE1JB9 established using the following protocol: "Tls13"
2023-12-08 10:21:52.104 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 10:21:52.118 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 10:21:52.118 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 10:21:52.118 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 10:21:52.120 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 10:21:52.162 +07:00 [DBG] Successfully validated the token.
2023-12-08 10:21:52.164 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 10:21:52.170 +07:00 [DBG] Authorization was successful.
2023-12-08 10:21:52.171 +07:00 [INF] Executing endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 10:21:52.177 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Moc.Models.APIResponse]] GetVillas(System.String) on controller Moc.Controllers.VillaController (Moc).
2023-12-08 10:21:52.177 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 10:21:52.177 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 10:21:52.177 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-08 10:21:52.177 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 10:21:52.177 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 10:21:52.177 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 10:21:52.266 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 10:21:52.266 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-08 10:21:52.266 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-08 10:21:52.267 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-08 10:21:52.267 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 10:21:52.267 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 10:21:52.267 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-08 10:21:52.267 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-08 10:21:52.514 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 10:21:56.086 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .OrderBy( => .Name)'
2023-12-08 10:21:56.095 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v
        ORDER BY v.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)'
2023-12-08 10:21:56.104 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 10:21:56.104 +07:00 [DBG] Creating DbConnection.
2023-12-08 10:21:56.105 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-08 10:21:56.105 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-08 10:21:56.105 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-08 10:21:56.107 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:56.110 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:56.111 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 10:21:56.248 +07:00 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 10:21:56.259 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 10:21:56.279 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 10:21:56.281 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 10:21:56.281 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 32ms reading results.
2023-12-08 10:21:56.283 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:56.283 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-08 10:21:56.299 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 10:21:56.300 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-12-08 10:21:56.302 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-12-08 10:21:56.302 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-12-08 10:21:56.303 +07:00 [INF] Executed action Moc.Controllers.VillaController.GetVillas (Moc) in 4125.7151ms
2023-12-08 10:21:56.303 +07:00 [INF] Executed endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 10:21:56.304 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 10:21:56.304 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:56.304 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 10:21:56.304 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 406 0 - 4200.3681ms
2023-12-08 10:21:58.965 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 10:21:58.965 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 10:21:58.965 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 10:21:58.965 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 10:21:58.965 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 10:21:58.967 +07:00 [DBG] Successfully validated the token.
2023-12-08 10:21:58.967 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 10:21:58.969 +07:00 [DBG] Authorization was successful.
2023-12-08 10:21:58.970 +07:00 [INF] Executing endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 10:21:58.970 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Moc.Models.APIResponse]] GetVillas(System.String) on controller Moc.Controllers.VillaController (Moc).
2023-12-08 10:21:58.970 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 10:21:58.970 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 10:21:58.970 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-08 10:21:58.970 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 10:21:58.970 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 10:21:58.970 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 10:21:58.970 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 10:21:58.970 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-08 10:21:58.971 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-08 10:21:58.971 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-08 10:21:58.971 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 10:21:58.971 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 10:21:58.971 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-08 10:21:58.971 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-08 10:21:59.023 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 10:21:59.030 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 10:21:59.030 +07:00 [DBG] Creating DbConnection.
2023-12-08 10:21:59.030 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-08 10:21:59.031 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-08 10:21:59.031 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-08 10:21:59.031 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:59.031 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:59.031 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 10:21:59.037 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 10:21:59.037 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 10:21:59.037 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 10:21:59.037 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 10:21:59.037 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-08 10:21:59.038 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:59.038 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-08 10:21:59.038 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 10:21:59.038 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-08 10:21:59.038 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 10:21:59.038 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Moc.DTO.VillaDTO, Moc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-08 10:21:59.045 +07:00 [INF] Executed action Moc.Controllers.VillaController.GetVillas (Moc) in 74.69ms
2023-12-08 10:21:59.045 +07:00 [INF] Executed endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 10:21:59.045 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 10:21:59.045 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 10:21:59.045 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 10:21:59.045 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 200 252 application/json;+charset=utf-8 79.9610ms
2023-12-08 10:22:00.871 +07:00 [DBG] Connection id "0HMVNJIOE1JB9" received FIN.
2023-12-08 10:22:00.871 +07:00 [DBG] Connection id "0HMVNJIOE1JB9" is closed. The last processed stream ID was 3.
2023-12-08 10:22:00.871 +07:00 [DBG] Connection id "0HMVNJIOE1JB9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 10:22:00.872 +07:00 [DBG] The connection queue processing loop for 0HMVNJIOE1JB9 completed.
2023-12-08 10:22:00.872 +07:00 [DBG] Connection id "0HMVNJIOE1JB9" stopped.
2023-12-08 10:22:43.894 +07:00 [DBG] Connection id "0HMVNJIOE1JBA" accepted.
2023-12-08 10:22:43.894 +07:00 [DBG] Connection id "0HMVNJIOE1JBA" started.
2023-12-08 10:22:43.918 +07:00 [DBG] Connection 0HMVNJIOE1JBA established using the following protocol: "Tls13"
2023-12-08 10:22:43.920 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 10:22:43.921 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 10:22:43.921 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 10:22:43.921 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 10:22:43.922 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 10:22:43.926 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-08 10:22:43.930 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-08 10:22:43.936 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-08 10:22:43.936 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 401 0 - 16.6562ms
2023-12-08 10:22:45.953 +07:00 [DBG] Connection id "0HMVNJIOE1JBA" received FIN.
2023-12-08 10:22:45.954 +07:00 [DBG] Connection id "0HMVNJIOE1JBA" is closed. The last processed stream ID was 1.
2023-12-08 10:22:45.954 +07:00 [DBG] Connection id "0HMVNJIOE1JBA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 10:22:45.954 +07:00 [DBG] The connection queue processing loop for 0HMVNJIOE1JBA completed.
2023-12-08 10:22:45.954 +07:00 [DBG] Connection id "0HMVNJIOE1JBA" stopped.
2023-12-08 15:00:17.611 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-08 15:00:17.850 +07:00 [DBG] Hosting starting
2023-12-08 15:00:17.916 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-08 15:00:17.920 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-08 15:00:17.951 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-08 15:00:17.961 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-08 15:00:17.963 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 15:00:17.965 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-08 15:00:17.967 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 15:00:17.970 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-08 15:00:17.971 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-08 15:00:17.972 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-08 15:00:17.972 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-08 15:00:18.616 +07:00 [INF] Now listening on: https://localhost:7278
2023-12-08 15:00:18.616 +07:00 [INF] Now listening on: http://localhost:5225
2023-12-08 15:00:18.616 +07:00 [DBG] Loaded hosting startup assembly Moc
2023-12-08 15:00:18.616 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-08 15:00:18.616 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-08 15:00:18.616 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-08 15:00:18.616 +07:00 [INF] Hosting environment: Development
2023-12-08 15:00:18.617 +07:00 [INF] Content root path: D:\Moc
2023-12-08 15:00:18.617 +07:00 [DBG] Hosting started
2023-12-08 15:00:18.878 +07:00 [DBG] Connection id "0HMVNOES7KVNO" accepted.
2023-12-08 15:00:18.879 +07:00 [DBG] Connection id "0HMVNOES7KVNO" started.
2023-12-08 15:00:19.011 +07:00 [DBG] Connection id "0HMVNOES7KVNP" accepted.
2023-12-08 15:00:19.011 +07:00 [DBG] Connection id "0HMVNOES7KVNP" started.
2023-12-08 15:00:20.036 +07:00 [DBG] Connection id "0HMVNOES7KVNQ" accepted.
2023-12-08 15:00:20.057 +07:00 [DBG] Connection id "0HMVNOES7KVNQ" started.
2023-12-08 15:00:20.323 +07:00 [DBG] Connection 0HMVNOES7KVNQ established using the following protocol: "Tls13"
2023-12-08 15:00:20.706 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/index.html - -
2023-12-08 15:00:20.818 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-08 15:00:20.888 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-08 15:00:20.888 +07:00 [DBG] Request did not match any endpoints
2023-12-08 15:00:21.222 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-08 15:00:21.954 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-08 15:00:21.965 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/index.html - - - 200 - text/html;charset=utf-8 1259.8252ms
2023-12-08 15:00:22.107 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_vs/browserLink - -
2023-12-08 15:00:22.111 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - -
2023-12-08 15:00:22.177 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - - - 200 12338 application/javascript;+charset=utf-8 64.0625ms
2023-12-08 15:00:22.298 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 191.7638ms
2023-12-08 15:00:23.235 +07:00 [DBG] Connection id "0HMVNOES7KVNQ" received FIN.
2023-12-08 15:00:23.301 +07:00 [DBG] Connection id "0HMVNOES7KVNQ" is closed. The last processed stream ID was 5.
2023-12-08 15:00:23.313 +07:00 [DBG] Connection id "0HMVNOES7KVNQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:00:23.315 +07:00 [DBG] The connection queue processing loop for 0HMVNOES7KVNQ completed.
2023-12-08 15:00:23.321 +07:00 [DBG] Connection id "0HMVNOES7KVNQ" stopped.
2023-12-08 15:00:23.946 +07:00 [DBG] Connection id "0HMVNOES7KVNR" accepted.
2023-12-08 15:00:23.947 +07:00 [DBG] Connection id "0HMVNOES7KVNR" started.
2023-12-08 15:00:23.952 +07:00 [DBG] Connection 0HMVNOES7KVNR established using the following protocol: "Tls13"
2023-12-08 15:00:23.955 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - -
2023-12-08 15:00:23.956 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-08 15:00:23.956 +07:00 [DBG] Request did not match any endpoints
2023-12-08 15:00:26.673 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2718.0619ms
2023-12-08 15:00:28.244 +07:00 [DBG] Connection id "0HMVNOES7KVNR" received FIN.
2023-12-08 15:00:28.244 +07:00 [DBG] Connection id "0HMVNOES7KVNR" is closed. The last processed stream ID was 1.
2023-12-08 15:00:28.244 +07:00 [DBG] Connection id "0HMVNOES7KVNR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:00:28.245 +07:00 [DBG] The connection queue processing loop for 0HMVNOES7KVNR completed.
2023-12-08 15:00:28.245 +07:00 [DBG] Connection id "0HMVNOES7KVNR" stopped.
2023-12-08 15:00:28.903 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-08 15:00:28.903 +07:00 [DBG] Connection id "0HMVNOES7KVNO" stopped.
2023-12-08 15:00:28.903 +07:00 [DBG] Connection id "0HMVNOES7KVNO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:00:29.019 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-08 15:00:29.019 +07:00 [DBG] Connection id "0HMVNOES7KVNP" stopped.
2023-12-08 15:00:29.019 +07:00 [DBG] Connection id "0HMVNOES7KVNP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:00:45.073 +07:00 [DBG] Connection id "0HMVNOES7KVNS" accepted.
2023-12-08 15:00:45.073 +07:00 [DBG] Connection id "0HMVNOES7KVNS" started.
2023-12-08 15:00:45.077 +07:00 [DBG] Connection 0HMVNOES7KVNS established using the following protocol: "Tls13"
2023-12-08 15:00:45.078 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53
2023-12-08 15:00:45.086 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-08 15:00:45.092 +07:00 [DBG] Endpoint 'Moc.Controllers.UsersController.Login (Moc)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-08 15:00:45.093 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:00:45.096 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:00:45.874 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-08 15:00:45.884 +07:00 [DBG] The request cannot be served from cache because it uses the HTTP method: POST.
2023-12-08 15:00:45.947 +07:00 [INF] Executing endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:00:45.989 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Moc.DTO.LoginRequestDTO) on controller Moc.Controllers.UsersController (Moc).
2023-12-08 15:00:45.991 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:00:45.991 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:00:45.992 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-08 15:00:45.992 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:00:45.992 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:00:45.994 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:00:46.602 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-08 15:00:46.637 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:00:46.695 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:00:46.699 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-08 15:00:46.700 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:00:46.700 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:00:46.774 +07:00 [DBG] Connection id "0HMVNOES7KVNS", Request id "0HMVNOES7KVNS:00000001": started reading request body.
2023-12-08 15:00:46.774 +07:00 [DBG] Connection id "0HMVNOES7KVNS", Request id "0HMVNOES7KVNS:00000001": done reading request body.
2023-12-08 15:00:46.963 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:00:46.963 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:00:46.963 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:00:46.974 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:00:47.683 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:00:48.016 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-08 15:00:48.314 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-08 15:00:48.362 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:00:48.364 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:00:48.390 +07:00 [DBG] Created DbConnection. (22ms).
2023-12-08 15:00:48.396 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (35ms).
2023-12-08 15:00:48.406 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (46ms).
2023-12-08 15:00:48.409 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:00:49.343 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:00:49.353 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:00:49.484 +07:00 [INF] Executed DbCommand (136ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:00:49.522 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:00:49.554 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:00:49.565 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 73ms reading results.
2023-12-08 15:00:49.568 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:00:49.577 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (9ms).
2023-12-08 15:00:49.984 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:00:49.986 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-08 15:00:49.987 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-08 15:00:49.987 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-08 15:00:49.988 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:00:49.988 +07:00 [INF] Executing OkObjectResult, writing value of type 'Moc.Models.APIResponse'.
2023-12-08 15:00:50.050 +07:00 [INF] Executed action Moc.Controllers.UsersController.Login (Moc) in 4052.4936ms
2023-12-08 15:00:50.051 +07:00 [INF] Executed endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:00:50.055 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:00:50.065 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:00:50.070 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2023-12-08 15:00:50.071 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53 - 200 339 application/json;+charset=utf-8 4993.0474ms
2023-12-08 15:00:53.268 +07:00 [DBG] Connection id "0HMVNOES7KVNS" received FIN.
2023-12-08 15:00:53.268 +07:00 [DBG] Connection id "0HMVNOES7KVNS" is closed. The last processed stream ID was 1.
2023-12-08 15:00:53.268 +07:00 [DBG] Connection id "0HMVNOES7KVNS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:00:53.269 +07:00 [DBG] The connection queue processing loop for 0HMVNOES7KVNS completed.
2023-12-08 15:00:53.269 +07:00 [DBG] Connection id "0HMVNOES7KVNS" stopped.
2023-12-08 15:01:16.265 +07:00 [DBG] Connection id "0HMVNOES7KVNT" accepted.
2023-12-08 15:01:16.266 +07:00 [DBG] Connection id "0HMVNOES7KVNT" started.
2023-12-08 15:01:16.273 +07:00 [DBG] Connection 0HMVNOES7KVNT established using the following protocol: "Tls13"
2023-12-08 15:01:16.277 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:01:16.280 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:01:16.280 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:01:16.281 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:01:16.281 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:01:16.336 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:01:16.338 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:01:16.342 +07:00 [DBG] Authorization was successful.
2023-12-08 15:01:16.343 +07:00 [DBG] The request cannot be served from cache because it contains an 'Authorization' header.
2023-12-08 15:01:16.343 +07:00 [INF] Executing endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:01:16.349 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Moc.Models.APIResponse]] GetVillas(System.String) on controller Moc.Controllers.VillaController (Moc).
2023-12-08 15:01:16.349 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:01:16.349 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:01:16.349 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-08 15:01:16.349 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:01:16.349 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:01:16.349 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:01:16.438 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:01:16.439 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-08 15:01:16.439 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-08 15:01:16.440 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-08 15:01:16.440 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:01:16.440 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:01:16.440 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-08 15:01:16.440 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-08 15:01:16.703 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:01:20.646 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .OrderBy( => .Name)'
2023-12-08 15:01:20.652 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v
        ORDER BY v.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)'
2023-12-08 15:01:20.659 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:01:20.660 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:01:20.660 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-08 15:01:20.660 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:01:20.660 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:01:20.662 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:20.664 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:20.665 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:01:20.697 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:01:20.706 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:01:20.722 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:01:20.725 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:01:20.725 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 28ms reading results.
2023-12-08 15:01:20.727 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:20.728 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-08 15:01:20.747 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:01:20.749 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-12-08 15:01:20.752 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-12-08 15:01:20.752 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-12-08 15:01:20.753 +07:00 [INF] Executed action Moc.Controllers.VillaController.GetVillas (Moc) in 4403.777ms
2023-12-08 15:01:20.753 +07:00 [INF] Executed endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:01:20.754 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:01:20.754 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:20.754 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 15:01:20.755 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 406 0 - 4477.3105ms
2023-12-08 15:01:21.677 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:01:21.677 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:01:21.677 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:01:21.677 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:01:21.677 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:01:21.682 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:01:21.682 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:01:21.684 +07:00 [DBG] Authorization was successful.
2023-12-08 15:01:21.685 +07:00 [DBG] The request cannot be served from cache because it contains an 'Authorization' header.
2023-12-08 15:01:21.685 +07:00 [INF] Executing endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:01:21.686 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Moc.Models.APIResponse]] GetVillas(System.String) on controller Moc.Controllers.VillaController (Moc).
2023-12-08 15:01:21.686 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:01:21.686 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:01:21.686 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-08 15:01:21.686 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:01:21.686 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:01:21.686 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:01:21.687 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:01:21.687 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-08 15:01:21.687 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-08 15:01:21.687 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-08 15:01:21.687 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:01:21.687 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:01:21.687 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-08 15:01:21.687 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-08 15:01:21.765 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:01:21.771 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:01:21.771 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:01:21.771 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-08 15:01:21.771 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:01:21.771 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:01:21.771 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:21.771 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:21.771 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:01:21.774 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:01:21.774 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:01:21.775 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:01:21.775 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:01:21.775 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-08 15:01:21.775 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:21.775 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-08 15:01:21.775 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:01:21.775 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-08 15:01:21.775 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:01:21.775 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Moc.DTO.VillaDTO, Moc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-08 15:01:21.780 +07:00 [INF] Executed action Moc.Controllers.VillaController.GetVillas (Moc) in 94.3979ms
2023-12-08 15:01:21.780 +07:00 [INF] Executed endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:01:21.781 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:01:21.781 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:21.781 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 15:01:21.781 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 200 252 application/json;+charset=utf-8 103.7792ms
2023-12-08 15:01:23.276 +07:00 [DBG] Connection id "0HMVNOES7KVNT" received FIN.
2023-12-08 15:01:23.276 +07:00 [DBG] Connection id "0HMVNOES7KVNT" is closed. The last processed stream ID was 3.
2023-12-08 15:01:23.276 +07:00 [DBG] Connection id "0HMVNOES7KVNT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:01:23.276 +07:00 [DBG] The connection queue processing loop for 0HMVNOES7KVNT completed.
2023-12-08 15:01:23.277 +07:00 [DBG] Connection id "0HMVNOES7KVNT" stopped.
2023-12-08 15:01:57.255 +07:00 [DBG] Connection id "0HMVNOES7KVNU" accepted.
2023-12-08 15:01:57.255 +07:00 [DBG] Connection id "0HMVNOES7KVNU" started.
2023-12-08 15:01:57.265 +07:00 [DBG] Connection 0HMVNOES7KVNU established using the following protocol: "Tls13"
2023-12-08 15:01:57.269 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 54
2023-12-08 15:01:57.273 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-08 15:01:57.307 +07:00 [DBG] Endpoint 'Moc.Controllers.UsersController.Login (Moc)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-08 15:01:57.307 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:01:57.307 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:01:57.334 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:01:57.334 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:01:57.334 +07:00 [DBG] The request cannot be served from cache because it uses the HTTP method: POST.
2023-12-08 15:01:57.334 +07:00 [INF] Executing endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:01:57.334 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Moc.DTO.LoginRequestDTO) on controller Moc.Controllers.UsersController (Moc).
2023-12-08 15:01:57.334 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:01:57.334 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:01:57.334 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-08 15:01:57.334 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:01:57.334 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:01:57.334 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:01:57.335 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:01:57.335 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:01:57.335 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-08 15:01:57.335 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:01:57.335 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:01:57.335 +07:00 [DBG] Connection id "0HMVNOES7KVNU", Request id "0HMVNOES7KVNU:00000001": started reading request body.
2023-12-08 15:01:57.335 +07:00 [DBG] Connection id "0HMVNOES7KVNU", Request id "0HMVNOES7KVNU:00000001": done reading request body.
2023-12-08 15:01:57.336 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:01:57.336 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:01:57.336 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:01:57.336 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:01:57.338 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:01:57.339 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:01:57.339 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:01:57.339 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-08 15:01:57.339 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:01:57.339 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:01:57.339 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:57.339 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:57.339 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:01:57.342 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:01:57.343 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:01:57.343 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:01:57.343 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-08 15:01:57.343 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:57.343 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-08 15:01:57.343 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:01:57.343 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-08 15:01:57.343 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-08 15:01:57.343 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-08 15:01:57.343 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:01:57.343 +07:00 [INF] Executing OkObjectResult, writing value of type 'Moc.Models.APIResponse'.
2023-12-08 15:01:57.344 +07:00 [INF] Executed action Moc.Controllers.UsersController.Login (Moc) in 9.3331ms
2023-12-08 15:01:57.344 +07:00 [INF] Executed endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:01:57.344 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:01:57.344 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:01:57.344 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 15:01:57.344 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 54 - 200 341 application/json;+charset=utf-8 74.9061ms
2023-12-08 15:01:58.337 +07:00 [DBG] Connection id "0HMVNOES7KVNU" received FIN.
2023-12-08 15:01:58.337 +07:00 [DBG] Connection id "0HMVNOES7KVNU" is closed. The last processed stream ID was 1.
2023-12-08 15:01:58.337 +07:00 [DBG] Connection id "0HMVNOES7KVNU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:01:58.337 +07:00 [DBG] The connection queue processing loop for 0HMVNOES7KVNU completed.
2023-12-08 15:01:58.351 +07:00 [DBG] Connection id "0HMVNOES7KVNU" stopped.
2023-12-08 15:02:14.605 +07:00 [DBG] Connection id "0HMVNOES7KVNV" accepted.
2023-12-08 15:02:14.605 +07:00 [DBG] Connection id "0HMVNOES7KVNV" started.
2023-12-08 15:02:14.609 +07:00 [DBG] Connection 0HMVNOES7KVNV established using the following protocol: "Tls13"
2023-12-08 15:02:14.610 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:02:14.610 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:02:14.610 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:02:14.610 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:02:14.610 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:02:14.611 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:02:14.611 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:02:14.613 +07:00 [DBG] Authorization was successful.
2023-12-08 15:02:14.613 +07:00 [DBG] The request cannot be served from cache because it contains an 'Authorization' header.
2023-12-08 15:02:14.613 +07:00 [INF] Executing endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:02:14.613 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Moc.Models.APIResponse]] GetVillas(System.String) on controller Moc.Controllers.VillaController (Moc).
2023-12-08 15:02:14.613 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:02:14.613 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:02:14.613 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-08 15:02:14.613 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:02:14.613 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:02:14.613 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:02:14.616 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:02:14.616 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-08 15:02:14.616 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-08 15:02:14.616 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-08 15:02:14.616 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:02:14.616 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:02:14.616 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-08 15:02:14.616 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-08 15:02:14.617 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:02:14.618 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:02:14.618 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:02:14.618 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-08 15:02:14.618 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:02:14.618 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:02:14.618 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:02:14.618 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:02:14.618 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:02:14.622 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:02:14.624 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:02:14.624 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:02:14.625 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:02:14.625 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 1ms reading results.
2023-12-08 15:02:14.625 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:02:14.625 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-08 15:02:14.625 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:02:14.625 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-08 15:02:14.625 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:02:14.625 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Moc.DTO.VillaDTO, Moc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-08 15:02:14.626 +07:00 [INF] Executed action Moc.Controllers.VillaController.GetVillas (Moc) in 12.284ms
2023-12-08 15:02:14.626 +07:00 [INF] Executed endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:02:14.626 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:02:14.626 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:02:14.626 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 15:02:14.626 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 200 252 application/json;+charset=utf-8 16.0619ms
2023-12-08 15:02:17.192 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:02:17.192 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:02:17.192 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:02:17.192 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:02:17.192 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:02:17.193 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:02:17.193 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:02:17.193 +07:00 [DBG] Authorization was successful.
2023-12-08 15:02:17.193 +07:00 [DBG] The request cannot be served from cache because it contains an 'Authorization' header.
2023-12-08 15:02:17.193 +07:00 [INF] Executing endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:02:17.193 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Moc.Models.APIResponse]] GetVillas(System.String) on controller Moc.Controllers.VillaController (Moc).
2023-12-08 15:02:17.193 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:02:17.193 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:02:17.193 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-08 15:02:17.193 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:02:17.193 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:02:17.193 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:02:17.194 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:02:17.194 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-08 15:02:17.194 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-08 15:02:17.194 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-08 15:02:17.194 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:02:17.194 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:02:17.194 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-08 15:02:17.194 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-08 15:02:17.195 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:02:17.195 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:02:17.195 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:02:17.195 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-08 15:02:17.195 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:02:17.195 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:02:17.195 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:02:17.196 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:02:17.196 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:02:17.201 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:02:17.202 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:02:17.202 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:02:17.202 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:02:17.203 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 1ms reading results.
2023-12-08 15:02:17.203 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:02:17.203 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-08 15:02:17.203 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:02:17.203 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-08 15:02:17.203 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:02:17.203 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Moc.DTO.VillaDTO, Moc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-08 15:02:17.203 +07:00 [INF] Executed action Moc.Controllers.VillaController.GetVillas (Moc) in 9.8053ms
2023-12-08 15:02:17.203 +07:00 [INF] Executed endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:02:17.203 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:02:17.204 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:02:17.204 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 15:02:17.204 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 200 252 application/json;+charset=utf-8 11.8676ms
2023-12-08 15:02:18.383 +07:00 [DBG] Connection id "0HMVNOES7KVNV" received FIN.
2023-12-08 15:02:18.384 +07:00 [DBG] Connection id "0HMVNOES7KVNV" is closed. The last processed stream ID was 3.
2023-12-08 15:02:18.384 +07:00 [DBG] Connection id "0HMVNOES7KVNV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:02:18.384 +07:00 [DBG] The connection queue processing loop for 0HMVNOES7KVNV completed.
2023-12-08 15:02:18.386 +07:00 [DBG] Connection id "0HMVNOES7KVNV" stopped.
2023-12-08 15:02:55.155 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-08 15:02:55.276 +07:00 [DBG] Hosting starting
2023-12-08 15:02:55.300 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-08 15:02:55.305 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-08 15:02:55.313 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-08 15:02:55.320 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-08 15:02:55.322 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 15:02:55.323 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-08 15:02:55.325 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 15:02:55.327 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-08 15:02:55.327 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-08 15:02:55.328 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-08 15:02:55.329 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-08 15:02:55.545 +07:00 [INF] Now listening on: https://localhost:7278
2023-12-08 15:02:55.545 +07:00 [INF] Now listening on: http://localhost:5225
2023-12-08 15:02:55.545 +07:00 [DBG] Loaded hosting startup assembly Moc
2023-12-08 15:02:55.545 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-08 15:02:55.545 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-08 15:02:55.546 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-08 15:02:55.546 +07:00 [INF] Hosting environment: Development
2023-12-08 15:02:55.546 +07:00 [INF] Content root path: D:\Moc
2023-12-08 15:02:55.546 +07:00 [DBG] Hosting started
2023-12-08 15:02:55.968 +07:00 [DBG] Connection id "0HMVNOGB1PAP5" received FIN.
2023-12-08 15:02:55.973 +07:00 [DBG] Connection id "0HMVNOGB1PAP5" accepted.
2023-12-08 15:02:55.975 +07:00 [DBG] Connection id "0HMVNOGB1PAP5" started.
2023-12-08 15:02:55.999 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-08 15:02:56.038 +07:00 [DBG] Connection id "0HMVNOGB1PAP5" stopped.
2023-12-08 15:02:56.040 +07:00 [DBG] Connection id "0HMVNOGB1PAP5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:02:56.578 +07:00 [DBG] Connection id "0HMVNOGB1PAP6" accepted.
2023-12-08 15:02:56.603 +07:00 [DBG] Connection id "0HMVNOGB1PAP6" started.
2023-12-08 15:02:56.771 +07:00 [DBG] Connection 0HMVNOGB1PAP6 established using the following protocol: "Tls13"
2023-12-08 15:02:56.988 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/index.html - -
2023-12-08 15:02:57.048 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-08 15:02:57.094 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-08 15:02:57.095 +07:00 [DBG] Request did not match any endpoints
2023-12-08 15:02:57.344 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-08 15:02:57.787 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-08 15:02:57.795 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/index.html - - - 200 - text/html;charset=utf-8 810.1805ms
2023-12-08 15:02:57.950 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - -
2023-12-08 15:02:57.950 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_vs/browserLink - -
2023-12-08 15:02:57.965 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - - - 200 12338 application/javascript;+charset=utf-8 14.1322ms
2023-12-08 15:02:58.002 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.0829ms
2023-12-08 15:02:58.427 +07:00 [DBG] Connection id "0HMVNOGB1PAP6" received FIN.
2023-12-08 15:02:58.430 +07:00 [DBG] The connection queue processing loop for 0HMVNOGB1PAP6 completed.
2023-12-08 15:02:58.433 +07:00 [DBG] Connection id "0HMVNOGB1PAP6" is closed. The last processed stream ID was 5.
2023-12-08 15:02:58.434 +07:00 [DBG] Connection id "0HMVNOGB1PAP6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:02:58.437 +07:00 [DBG] Connection id "0HMVNOGB1PAP6" stopped.
2023-12-08 15:02:59.224 +07:00 [DBG] Connection id "0HMVNOGB1PAP7" accepted.
2023-12-08 15:02:59.224 +07:00 [DBG] Connection id "0HMVNOGB1PAP7" started.
2023-12-08 15:02:59.229 +07:00 [DBG] Connection 0HMVNOGB1PAP7 established using the following protocol: "Tls13"
2023-12-08 15:02:59.232 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - -
2023-12-08 15:02:59.233 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-08 15:02:59.233 +07:00 [DBG] Request did not match any endpoints
2023-12-08 15:02:59.501 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 268.9219ms
2023-12-08 15:03:08.437 +07:00 [DBG] Connection id "0HMVNOGB1PAP7" received FIN.
2023-12-08 15:03:08.437 +07:00 [DBG] Connection id "0HMVNOGB1PAP7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:03:08.437 +07:00 [DBG] Connection id "0HMVNOGB1PAP7" is closed. The last processed stream ID was 1.
2023-12-08 15:03:08.438 +07:00 [DBG] The connection queue processing loop for 0HMVNOGB1PAP7 completed.
2023-12-08 15:03:08.438 +07:00 [DBG] Connection id "0HMVNOGB1PAP7" stopped.
2023-12-08 15:03:25.856 +07:00 [DBG] Connection id "0HMVNOGB1PAP8" accepted.
2023-12-08 15:03:25.856 +07:00 [DBG] Connection id "0HMVNOGB1PAP8" started.
2023-12-08 15:03:25.861 +07:00 [DBG] Connection 0HMVNOGB1PAP8 established using the following protocol: "Tls13"
2023-12-08 15:03:25.874 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:03:25.882 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:03:25.887 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:03:25.888 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:03:25.890 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:03:26.170 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:03:26.171 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:03:26.178 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-08 15:03:26.180 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-08 15:03:26.180 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 403 0 - 306.0658ms
2023-12-08 15:03:28.466 +07:00 [DBG] Connection id "0HMVNOGB1PAP8" received FIN.
2023-12-08 15:03:28.466 +07:00 [DBG] Connection id "0HMVNOGB1PAP8" is closed. The last processed stream ID was 1.
2023-12-08 15:03:28.466 +07:00 [DBG] Connection id "0HMVNOGB1PAP8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:03:28.466 +07:00 [DBG] The connection queue processing loop for 0HMVNOGB1PAP8 completed.
2023-12-08 15:03:28.466 +07:00 [DBG] Connection id "0HMVNOGB1PAP8" stopped.
2023-12-08 15:03:58.228 +07:00 [DBG] Connection id "0HMVNOGB1PAP9" accepted.
2023-12-08 15:03:58.261 +07:00 [DBG] Connection id "0HMVNOGB1PAP9" started.
2023-12-08 15:03:58.268 +07:00 [DBG] Connection 0HMVNOGB1PAP9 established using the following protocol: "Tls13"
2023-12-08 15:03:58.273 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:03:58.280 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:03:58.280 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:03:58.281 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:03:58.281 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:03:58.287 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenException: IDX10612: Decryption failed. Header.Enc is null or empty, it must be specified.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.DecryptToken(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-08 15:03:58.288 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10612: Decryption failed. Header.Enc is null or empty, it must be specified.
2023-12-08 15:03:58.290 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-08 15:03:58.297 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-08 15:03:58.297 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 401 0 - 24.5745ms
2023-12-08 15:03:58.508 +07:00 [DBG] Connection id "0HMVNOGB1PAP9" received FIN.
2023-12-08 15:03:58.508 +07:00 [DBG] Connection id "0HMVNOGB1PAP9" is closed. The last processed stream ID was 1.
2023-12-08 15:03:58.509 +07:00 [DBG] Connection id "0HMVNOGB1PAP9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:03:58.509 +07:00 [DBG] The connection queue processing loop for 0HMVNOGB1PAP9 completed.
2023-12-08 15:03:58.509 +07:00 [DBG] Connection id "0HMVNOGB1PAP9" stopped.
2023-12-08 15:05:53.463 +07:00 [DBG] Connection id "0HMVNOGB1PAPA" accepted.
2023-12-08 15:05:53.464 +07:00 [DBG] Connection id "0HMVNOGB1PAPA" started.
2023-12-08 15:05:53.472 +07:00 [DBG] Connection 0HMVNOGB1PAPA established using the following protocol: "Tls13"
2023-12-08 15:05:53.478 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53
2023-12-08 15:05:53.478 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-08 15:05:53.478 +07:00 [DBG] Endpoint 'Moc.Controllers.UsersController.Login (Moc)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-08 15:05:53.478 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:05:53.478 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:05:53.481 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenException: IDX10612: Decryption failed. Header.Enc is null or empty, it must be specified.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.DecryptToken(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-08 15:05:53.482 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10612: Decryption failed. Header.Enc is null or empty, it must be specified.
2023-12-08 15:05:53.486 +07:00 [DBG] The request cannot be served from cache because it uses the HTTP method: POST.
2023-12-08 15:05:53.495 +07:00 [INF] Executing endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:05:53.530 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Moc.DTO.LoginRequestDTO) on controller Moc.Controllers.UsersController (Moc).
2023-12-08 15:05:53.531 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:05:53.532 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:05:53.532 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-08 15:05:53.532 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:05:53.532 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:05:53.534 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:05:53.670 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-08 15:05:53.688 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:05:53.702 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:05:53.704 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-08 15:05:53.704 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:05:53.705 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:05:53.710 +07:00 [DBG] Connection id "0HMVNOGB1PAPA", Request id "0HMVNOGB1PAPA:00000001": started reading request body.
2023-12-08 15:05:53.710 +07:00 [DBG] Connection id "0HMVNOGB1PAPA", Request id "0HMVNOGB1PAPA:00000001": done reading request body.
2023-12-08 15:05:53.768 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:05:53.768 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:05:53.768 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:05:53.774 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:05:54.258 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:05:54.337 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-08 15:05:54.553 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-08 15:05:54.589 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:05:54.590 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:05:54.615 +07:00 [DBG] Created DbConnection. (22ms).
2023-12-08 15:05:54.620 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (32ms).
2023-12-08 15:05:54.628 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (40ms).
2023-12-08 15:05:54.630 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:05:54.944 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:05:54.951 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:05:54.987 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:05:55.006 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:05:55.021 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:05:55.026 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 35ms reading results.
2023-12-08 15:05:55.027 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:05:55.033 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (4ms).
2023-12-08 15:05:55.043 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:05:55.044 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-08 15:05:55.044 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-08 15:05:55.044 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-08 15:05:55.045 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:05:55.045 +07:00 [INF] Executing OkObjectResult, writing value of type 'Moc.Models.APIResponse'.
2023-12-08 15:05:55.077 +07:00 [INF] Executed action Moc.Controllers.UsersController.Login (Moc) in 1542.224ms
2023-12-08 15:05:55.077 +07:00 [INF] Executed endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:05:55.081 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:05:55.084 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:05:55.086 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-08 15:05:55.086 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53 - 200 339 application/json;+charset=utf-8 1608.7081ms
2023-12-08 15:06:03.705 +07:00 [DBG] Connection id "0HMVNOGB1PAPA" received FIN.
2023-12-08 15:06:03.705 +07:00 [DBG] Connection id "0HMVNOGB1PAPA" is closed. The last processed stream ID was 1.
2023-12-08 15:06:03.705 +07:00 [DBG] Connection id "0HMVNOGB1PAPA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:06:03.706 +07:00 [DBG] The connection queue processing loop for 0HMVNOGB1PAPA completed.
2023-12-08 15:06:03.707 +07:00 [DBG] Connection id "0HMVNOGB1PAPA" stopped.
2023-12-08 15:06:20.728 +07:00 [DBG] Connection id "0HMVNOGB1PAPB" accepted.
2023-12-08 15:06:20.728 +07:00 [DBG] Connection id "0HMVNOGB1PAPB" started.
2023-12-08 15:06:20.730 +07:00 [DBG] Connection 0HMVNOGB1PAPB established using the following protocol: "Tls13"
2023-12-08 15:06:20.731 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:06:20.732 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:06:20.732 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:06:20.732 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:06:20.733 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:06:20.742 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:06:20.742 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:06:20.747 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-08 15:06:20.748 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-08 15:06:20.748 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 403 0 - 16.6417ms
2023-12-08 15:06:23.723 +07:00 [DBG] Connection id "0HMVNOGB1PAPB" received FIN.
2023-12-08 15:06:23.723 +07:00 [DBG] Connection id "0HMVNOGB1PAPB" is closed. The last processed stream ID was 1.
2023-12-08 15:06:23.723 +07:00 [DBG] Connection id "0HMVNOGB1PAPB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:06:23.723 +07:00 [DBG] The connection queue processing loop for 0HMVNOGB1PAPB completed.
2023-12-08 15:06:23.724 +07:00 [DBG] Connection id "0HMVNOGB1PAPB" stopped.
2023-12-08 15:06:25.635 +07:00 [DBG] Connection id "0HMVNOGB1PAPC" accepted.
2023-12-08 15:06:25.636 +07:00 [DBG] Connection id "0HMVNOGB1PAPC" started.
2023-12-08 15:06:25.639 +07:00 [DBG] Connection 0HMVNOGB1PAPC established using the following protocol: "Tls13"
2023-12-08 15:06:25.640 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:06:25.640 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:06:25.640 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:06:25.640 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:06:25.640 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:06:25.641 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:06:25.641 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:06:25.641 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-08 15:06:25.641 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-08 15:06:25.641 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 403 0 - 1.3172ms
2023-12-08 15:06:33.744 +07:00 [DBG] Connection id "0HMVNOGB1PAPC" received FIN.
2023-12-08 15:06:33.744 +07:00 [DBG] Connection id "0HMVNOGB1PAPC" is closed. The last processed stream ID was 1.
2023-12-08 15:06:33.744 +07:00 [DBG] Connection id "0HMVNOGB1PAPC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:06:33.744 +07:00 [DBG] The connection queue processing loop for 0HMVNOGB1PAPC completed.
2023-12-08 15:06:33.744 +07:00 [DBG] Connection id "0HMVNOGB1PAPC" stopped.
2023-12-08 15:07:04.782 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-08 15:07:04.890 +07:00 [DBG] Hosting starting
2023-12-08 15:07:04.919 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-08 15:07:04.925 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-08 15:07:04.937 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-08 15:07:04.945 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-08 15:07:04.947 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 15:07:04.949 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-08 15:07:04.950 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 15:07:04.952 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-08 15:07:04.953 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-08 15:07:04.953 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-08 15:07:04.954 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-08 15:07:05.158 +07:00 [INF] Now listening on: https://localhost:7278
2023-12-08 15:07:05.158 +07:00 [INF] Now listening on: http://localhost:5225
2023-12-08 15:07:05.159 +07:00 [DBG] Loaded hosting startup assembly Moc
2023-12-08 15:07:05.159 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-08 15:07:05.159 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-08 15:07:05.159 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-08 15:07:05.159 +07:00 [INF] Hosting environment: Development
2023-12-08 15:07:05.159 +07:00 [INF] Content root path: D:\Moc
2023-12-08 15:07:05.159 +07:00 [DBG] Hosting started
2023-12-08 15:07:05.514 +07:00 [DBG] Connection id "0HMVNOILDKHTQ" received FIN.
2023-12-08 15:07:05.518 +07:00 [DBG] Connection id "0HMVNOILDKHTQ" accepted.
2023-12-08 15:07:05.519 +07:00 [DBG] Connection id "0HMVNOILDKHTQ" started.
2023-12-08 15:07:05.536 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-08 15:07:05.570 +07:00 [DBG] Connection id "0HMVNOILDKHTQ" stopped.
2023-12-08 15:07:05.572 +07:00 [DBG] Connection id "0HMVNOILDKHTQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:07:06.110 +07:00 [DBG] Connection id "0HMVNOILDKHTR" accepted.
2023-12-08 15:07:06.111 +07:00 [DBG] Connection id "0HMVNOILDKHTR" started.
2023-12-08 15:07:06.290 +07:00 [DBG] Connection 0HMVNOILDKHTR established using the following protocol: "Tls13"
2023-12-08 15:07:06.459 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/index.html - -
2023-12-08 15:07:06.510 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-08 15:07:06.544 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-08 15:07:06.545 +07:00 [DBG] Request did not match any endpoints
2023-12-08 15:07:06.720 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-08 15:07:06.847 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-08 15:07:06.854 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/index.html - - - 200 - text/html;charset=utf-8 398.9848ms
2023-12-08 15:07:06.924 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - -
2023-12-08 15:07:06.924 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_vs/browserLink - -
2023-12-08 15:07:06.960 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - - - 200 12338 application/javascript;+charset=utf-8 35.6689ms
2023-12-08 15:07:06.978 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.3836ms
2023-12-08 15:07:08.151 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - -
2023-12-08 15:07:08.151 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-08 15:07:08.151 +07:00 [DBG] Request did not match any endpoints
2023-12-08 15:07:08.336 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.6688ms
2023-12-08 15:07:13.801 +07:00 [DBG] Connection id "0HMVNOILDKHTR" received FIN.
2023-12-08 15:07:13.802 +07:00 [DBG] The connection queue processing loop for 0HMVNOILDKHTR completed.
2023-12-08 15:07:13.804 +07:00 [DBG] Connection id "0HMVNOILDKHTR" is closed. The last processed stream ID was 7.
2023-12-08 15:07:13.805 +07:00 [DBG] Connection id "0HMVNOILDKHTR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:07:13.816 +07:00 [DBG] Connection id "0HMVNOILDKHTR" stopped.
2023-12-08 15:07:40.326 +07:00 [DBG] Connection id "0HMVNOILDKHTS" accepted.
2023-12-08 15:07:40.356 +07:00 [DBG] Connection id "0HMVNOILDKHTS" started.
2023-12-08 15:07:40.364 +07:00 [DBG] Connection 0HMVNOILDKHTS established using the following protocol: "Tls13"
2023-12-08 15:07:40.366 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:07:40.380 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:07:40.383 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:07:40.383 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:07:40.385 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:07:40.748 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:07:40.750 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:07:40.764 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-08 15:07:40.767 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-08 15:07:40.768 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 403 0 - 401.4912ms
2023-12-08 15:07:43.830 +07:00 [DBG] Connection id "0HMVNOILDKHTS" received FIN.
2023-12-08 15:07:43.831 +07:00 [DBG] Connection id "0HMVNOILDKHTS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:07:43.831 +07:00 [DBG] Connection id "0HMVNOILDKHTS" is closed. The last processed stream ID was 1.
2023-12-08 15:07:43.831 +07:00 [DBG] The connection queue processing loop for 0HMVNOILDKHTS completed.
2023-12-08 15:07:43.831 +07:00 [DBG] Connection id "0HMVNOILDKHTS" stopped.
2023-12-08 15:07:44.126 +07:00 [DBG] Connection id "0HMVNOILDKHTT" accepted.
2023-12-08 15:07:44.127 +07:00 [DBG] Connection id "0HMVNOILDKHTT" started.
2023-12-08 15:07:44.130 +07:00 [DBG] Connection 0HMVNOILDKHTT established using the following protocol: "Tls13"
2023-12-08 15:07:44.133 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:07:44.134 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:07:44.135 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:07:44.135 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:07:44.135 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:07:44.145 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:07:44.145 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:07:44.148 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-08 15:07:44.148 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-08 15:07:44.148 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 403 0 - 15.6945ms
2023-12-08 15:07:48.833 +07:00 [DBG] Connection id "0HMVNOILDKHTT" received FIN.
2023-12-08 15:07:48.833 +07:00 [DBG] Connection id "0HMVNOILDKHTT" is closed. The last processed stream ID was 1.
2023-12-08 15:07:48.833 +07:00 [DBG] Connection id "0HMVNOILDKHTT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:07:48.834 +07:00 [DBG] The connection queue processing loop for 0HMVNOILDKHTT completed.
2023-12-08 15:07:48.834 +07:00 [DBG] Connection id "0HMVNOILDKHTT" stopped.
2023-12-08 15:08:29.287 +07:00 [DBG] Connection id "0HMVNOILDKHTU" accepted.
2023-12-08 15:08:29.291 +07:00 [DBG] Connection id "0HMVNOILDKHTU" started.
2023-12-08 15:08:29.309 +07:00 [DBG] Connection 0HMVNOILDKHTU established using the following protocol: "Tls13"
2023-12-08 15:08:29.317 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53
2023-12-08 15:08:29.333 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-08 15:08:29.334 +07:00 [DBG] Endpoint 'Moc.Controllers.UsersController.Login (Moc)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-08 15:08:29.334 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:08:29.334 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:08:29.361 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:08:29.361 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:08:29.383 +07:00 [DBG] The request cannot be served from cache because it uses the HTTP method: POST.
2023-12-08 15:08:29.423 +07:00 [INF] Executing endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:08:29.542 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Moc.DTO.LoginRequestDTO) on controller Moc.Controllers.UsersController (Moc).
2023-12-08 15:08:29.547 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:08:29.547 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:08:29.548 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-08 15:08:29.548 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:08:29.548 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:08:29.553 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:08:30.048 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-08 15:08:30.119 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:08:30.167 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:08:30.176 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-08 15:08:30.180 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:08:30.181 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:08:30.200 +07:00 [DBG] Connection id "0HMVNOILDKHTU", Request id "0HMVNOILDKHTU:00000001": started reading request body.
2023-12-08 15:08:30.201 +07:00 [DBG] Connection id "0HMVNOILDKHTU", Request id "0HMVNOILDKHTU:00000001": done reading request body.
2023-12-08 15:08:30.424 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:08:30.424 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:08:30.425 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:08:30.459 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:08:32.107 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:08:32.366 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-08 15:08:33.129 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-08 15:08:33.242 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:08:33.248 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:08:33.331 +07:00 [DBG] Created DbConnection. (73ms).
2023-12-08 15:08:33.353 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (116ms).
2023-12-08 15:08:33.384 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (150ms).
2023-12-08 15:08:33.391 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:08:34.119 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:08:34.143 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:08:34.288 +07:00 [INF] Executed DbCommand (144ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:08:34.375 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:08:34.445 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:08:34.466 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 164ms reading results.
2023-12-08 15:08:34.472 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:08:34.488 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (15ms).
2023-12-08 15:08:34.535 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:08:34.540 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-08 15:08:34.540 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-08 15:08:34.540 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-08 15:08:34.543 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:08:34.545 +07:00 [INF] Executing OkObjectResult, writing value of type 'Moc.Models.APIResponse'.
2023-12-08 15:08:34.706 +07:00 [INF] Executed action Moc.Controllers.UsersController.Login (Moc) in 5152.3637ms
2023-12-08 15:08:34.707 +07:00 [INF] Executed endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:08:34.716 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:08:34.727 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:08:34.735 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2023-12-08 15:08:34.736 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53 - 200 359 application/json;+charset=utf-8 5419.5048ms
2023-12-08 15:08:38.912 +07:00 [DBG] Connection id "0HMVNOILDKHTU" received FIN.
2023-12-08 15:08:38.912 +07:00 [DBG] Connection id "0HMVNOILDKHTU" is closed. The last processed stream ID was 1.
2023-12-08 15:08:38.913 +07:00 [DBG] Connection id "0HMVNOILDKHTU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:08:38.913 +07:00 [DBG] The connection queue processing loop for 0HMVNOILDKHTU completed.
2023-12-08 15:08:38.914 +07:00 [DBG] Connection id "0HMVNOILDKHTU" stopped.
2023-12-08 15:08:53.488 +07:00 [DBG] Connection id "0HMVNOILDKHTV" accepted.
2023-12-08 15:08:53.488 +07:00 [DBG] Connection id "0HMVNOILDKHTV" started.
2023-12-08 15:08:53.495 +07:00 [DBG] Connection 0HMVNOILDKHTV established using the following protocol: "Tls13"
2023-12-08 15:08:53.499 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:08:53.499 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:08:53.499 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:08:53.499 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:08:53.500 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:08:53.501 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:08:53.501 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:08:53.507 +07:00 [DBG] Authorization was successful.
2023-12-08 15:08:53.508 +07:00 [DBG] The request cannot be served from cache because it contains an 'Authorization' header.
2023-12-08 15:08:53.509 +07:00 [INF] Executing endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:08:53.533 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Moc.Models.APIResponse]] GetVillas(System.String) on controller Moc.Controllers.VillaController (Moc).
2023-12-08 15:08:53.533 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:08:53.533 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:08:53.533 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-08 15:08:53.533 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:08:53.533 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:08:53.533 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:08:53.805 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:08:53.807 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-08 15:08:53.808 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-08 15:08:53.811 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-08 15:08:53.811 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:08:53.812 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:08:53.812 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-08 15:08:53.812 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-08 15:08:53.896 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:08:56.501 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .OrderBy( => .Name)'
2023-12-08 15:08:56.523 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v
        ORDER BY v.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)'
2023-12-08 15:08:56.553 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:08:56.553 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:08:56.555 +07:00 [DBG] Created DbConnection. (1ms).
2023-12-08 15:08:56.555 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-08 15:08:56.556 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-08 15:08:56.561 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:08:56.567 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:08:56.568 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:08:56.633 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:08:56.675 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:08:56.730 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:08:56.741 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:08:56.741 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 108ms reading results.
2023-12-08 15:08:56.746 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:08:56.747 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (1ms).
2023-12-08 15:08:56.803 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:08:56.808 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-08 15:08:56.810 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:08:56.810 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Moc.DTO.VillaDTO, Moc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-08 15:08:56.828 +07:00 [INF] Executed action Moc.Controllers.VillaController.GetVillas (Moc) in 3294.8915ms
2023-12-08 15:08:56.830 +07:00 [INF] Executed endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:08:56.832 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:08:56.833 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:08:56.833 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 15:08:56.833 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 200 252 application/json;+charset=utf-8 3335.2292ms
2023-12-08 15:08:58.940 +07:00 [DBG] Connection id "0HMVNOILDKHTV" received FIN.
2023-12-08 15:08:58.940 +07:00 [DBG] Connection id "0HMVNOILDKHTV" is closed. The last processed stream ID was 1.
2023-12-08 15:08:58.940 +07:00 [DBG] Connection id "0HMVNOILDKHTV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:08:58.941 +07:00 [DBG] The connection queue processing loop for 0HMVNOILDKHTV completed.
2023-12-08 15:08:58.941 +07:00 [DBG] Connection id "0HMVNOILDKHTV" stopped.
2023-12-08 15:21:40.322 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-08 15:21:40.428 +07:00 [DBG] Hosting starting
2023-12-08 15:21:40.452 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-08 15:21:40.456 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-08 15:21:40.470 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-08 15:21:40.480 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-08 15:21:40.482 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 15:21:40.483 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-08 15:21:40.484 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 15:21:40.486 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-08 15:21:40.487 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-08 15:21:40.488 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-08 15:21:40.489 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-08 15:21:40.737 +07:00 [INF] Now listening on: https://localhost:7278
2023-12-08 15:21:40.737 +07:00 [INF] Now listening on: http://localhost:5225
2023-12-08 15:21:40.737 +07:00 [DBG] Loaded hosting startup assembly Moc
2023-12-08 15:21:40.737 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-08 15:21:40.737 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-08 15:21:40.738 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-08 15:21:40.738 +07:00 [INF] Hosting environment: Development
2023-12-08 15:21:40.738 +07:00 [INF] Content root path: D:\Moc
2023-12-08 15:21:40.738 +07:00 [DBG] Hosting started
2023-12-08 15:21:40.789 +07:00 [DBG] Connection id "0HMVNOQQ8T9CD" received FIN.
2023-12-08 15:21:40.793 +07:00 [DBG] Connection id "0HMVNOQQ8T9CD" accepted.
2023-12-08 15:21:40.794 +07:00 [DBG] Connection id "0HMVNOQQ8T9CD" started.
2023-12-08 15:21:40.823 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-08 15:21:40.880 +07:00 [DBG] Connection id "0HMVNOQQ8T9CD" stopped.
2023-12-08 15:21:40.882 +07:00 [DBG] Connection id "0HMVNOQQ8T9CD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:21:41.516 +07:00 [DBG] Connection id "0HMVNOQQ8T9CE" accepted.
2023-12-08 15:21:41.545 +07:00 [DBG] Connection id "0HMVNOQQ8T9CE" started.
2023-12-08 15:21:41.680 +07:00 [DBG] Connection 0HMVNOQQ8T9CE established using the following protocol: "Tls13"
2023-12-08 15:21:41.884 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/index.html - -
2023-12-08 15:21:41.980 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-08 15:21:42.027 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-08 15:21:42.028 +07:00 [DBG] Request did not match any endpoints
2023-12-08 15:21:42.263 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-08 15:21:42.442 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-08 15:21:42.447 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/index.html - - - 200 - text/html;charset=utf-8 575.2424ms
2023-12-08 15:21:42.547 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_vs/browserLink - -
2023-12-08 15:21:42.547 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - -
2023-12-08 15:21:42.580 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - - - 200 12338 application/javascript;+charset=utf-8 32.3681ms
2023-12-08 15:21:42.615 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.5028ms
2023-12-08 15:21:43.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - -
2023-12-08 15:21:43.734 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-08 15:21:43.734 +07:00 [DBG] Request did not match any endpoints
2023-12-08 15:21:44.042 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 308.4581ms
2023-12-08 15:21:45.137 +07:00 [DBG] Connection id "0HMVNOQQ8T9CE" received FIN.
2023-12-08 15:21:45.140 +07:00 [DBG] The connection queue processing loop for 0HMVNOQQ8T9CE completed.
2023-12-08 15:21:45.143 +07:00 [DBG] Connection id "0HMVNOQQ8T9CE" is closed. The last processed stream ID was 7.
2023-12-08 15:21:45.144 +07:00 [DBG] Connection id "0HMVNOQQ8T9CE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:21:45.147 +07:00 [DBG] Connection id "0HMVNOQQ8T9CE" stopped.
2023-12-08 15:22:02.581 +07:00 [DBG] Connection id "0HMVNOQQ8T9CF" accepted.
2023-12-08 15:22:02.581 +07:00 [DBG] Connection id "0HMVNOQQ8T9CF" started.
2023-12-08 15:22:02.586 +07:00 [DBG] Connection 0HMVNOQQ8T9CF established using the following protocol: "Tls13"
2023-12-08 15:22:02.588 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:22:02.596 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:22:02.600 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:22:02.601 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:22:02.605 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:22:02.904 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:22:02.906 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:22:02.912 +07:00 [DBG] Authorization was successful.
2023-12-08 15:22:02.915 +07:00 [DBG] The request cannot be served from cache because it contains an 'Authorization' header.
2023-12-08 15:22:02.924 +07:00 [INF] Executing endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:22:02.965 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Moc.Models.APIResponse]] GetVillas(System.String) on controller Moc.Controllers.VillaController (Moc).
2023-12-08 15:22:02.968 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:22:02.969 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:22:02.969 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-08 15:22:02.969 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:22:02.970 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:22:02.975 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:22:03.169 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-08 15:22:03.263 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:22:03.280 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-08 15:22:03.283 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-08 15:22:03.283 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-08 15:22:03.283 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:22:03.283 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:22:03.283 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-08 15:22:03.284 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-08 15:22:03.833 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:22:05.023 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .OrderBy( => .Name)'
2023-12-08 15:22:05.183 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v
        ORDER BY v.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)'
2023-12-08 15:22:05.210 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:22:05.212 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:22:05.239 +07:00 [DBG] Created DbConnection. (24ms).
2023-12-08 15:22:05.245 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (36ms).
2023-12-08 15:22:05.248 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (39ms).
2023-12-08 15:22:05.254 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:05.485 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:05.493 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:22:05.546 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:22:05.577 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:22:05.611 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:22:05.619 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:22:05.624 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 73ms reading results.
2023-12-08 15:22:05.628 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:05.635 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (6ms).
2023-12-08 15:22:05.662 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:22:05.666 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-12-08 15:22:05.670 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-12-08 15:22:05.671 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-12-08 15:22:05.676 +07:00 [INF] Executed action Moc.Controllers.VillaController.GetVillas (Moc) in 2701.6483ms
2023-12-08 15:22:05.677 +07:00 [INF] Executed endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:22:05.681 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:22:05.686 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:05.688 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-08 15:22:05.688 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 406 0 - 3099.9929ms
2023-12-08 15:22:07.904 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:22:07.905 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:22:07.905 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:22:07.906 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:22:07.906 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:22:07.910 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:22:07.911 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:22:07.916 +07:00 [DBG] Authorization was successful.
2023-12-08 15:22:07.916 +07:00 [DBG] The request cannot be served from cache because it contains an 'Authorization' header.
2023-12-08 15:22:07.916 +07:00 [INF] Executing endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:22:07.917 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Moc.Models.APIResponse]] GetVillas(System.String) on controller Moc.Controllers.VillaController (Moc).
2023-12-08 15:22:07.917 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:22:07.917 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:22:07.917 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-08 15:22:07.917 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:22:07.917 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:22:07.917 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:22:07.919 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:22:07.920 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-08 15:22:07.920 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-08 15:22:07.920 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-08 15:22:07.920 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:22:07.920 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:22:07.920 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-08 15:22:07.920 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-08 15:22:07.958 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:22:07.965 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:22:07.965 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:22:07.966 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-08 15:22:07.966 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-08 15:22:07.966 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-08 15:22:07.966 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:07.968 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:07.968 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:22:07.974 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:22:07.975 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:22:07.975 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:22:07.975 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:22:07.976 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-08 15:22:07.976 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:07.976 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-08 15:22:07.977 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:22:07.977 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-08 15:22:07.978 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:22:07.978 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Moc.DTO.VillaDTO, Moc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-08 15:22:08.084 +07:00 [INF] Executed action Moc.Controllers.VillaController.GetVillas (Moc) in 167.3318ms
2023-12-08 15:22:08.085 +07:00 [INF] Executed endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:22:08.085 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:22:08.085 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:08.085 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 15:22:08.085 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 200 252 application/json;+charset=utf-8 181.0564ms
2023-12-08 15:22:10.162 +07:00 [DBG] Connection id "0HMVNOQQ8T9CF" received FIN.
2023-12-08 15:22:10.162 +07:00 [DBG] Connection id "0HMVNOQQ8T9CF" is closed. The last processed stream ID was 3.
2023-12-08 15:22:10.162 +07:00 [DBG] Connection id "0HMVNOQQ8T9CF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:22:10.163 +07:00 [DBG] The connection queue processing loop for 0HMVNOQQ8T9CF completed.
2023-12-08 15:22:10.163 +07:00 [DBG] Connection id "0HMVNOQQ8T9CF" stopped.
2023-12-08 15:22:29.787 +07:00 [DBG] Connection id "0HMVNOQQ8T9CG" accepted.
2023-12-08 15:22:29.787 +07:00 [DBG] Connection id "0HMVNOQQ8T9CG" started.
2023-12-08 15:22:29.791 +07:00 [DBG] Connection 0HMVNOQQ8T9CG established using the following protocol: "Tls13"
2023-12-08 15:22:29.793 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53
2023-12-08 15:22:29.794 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-08 15:22:29.794 +07:00 [DBG] Endpoint 'Moc.Controllers.UsersController.Login (Moc)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-08 15:22:29.794 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:22:29.794 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:22:29.797 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:22:29.797 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:22:29.797 +07:00 [DBG] The request cannot be served from cache because it uses the HTTP method: POST.
2023-12-08 15:22:29.797 +07:00 [INF] Executing endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:22:29.805 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Moc.DTO.LoginRequestDTO) on controller Moc.Controllers.UsersController (Moc).
2023-12-08 15:22:29.805 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:22:29.805 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:22:29.805 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-08 15:22:29.805 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:22:29.805 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:22:29.805 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:22:29.806 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:22:29.806 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:22:29.807 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-08 15:22:29.808 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:22:29.808 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:22:29.814 +07:00 [DBG] Connection id "0HMVNOQQ8T9CG", Request id "0HMVNOQQ8T9CG:00000001": started reading request body.
2023-12-08 15:22:29.815 +07:00 [DBG] Connection id "0HMVNOQQ8T9CG", Request id "0HMVNOQQ8T9CG:00000001": done reading request body.
2023-12-08 15:22:29.833 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:22:29.833 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:22:29.833 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:22:29.838 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:22:29.888 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:22:29.899 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-08 15:22:29.935 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-08 15:22:29.948 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:22:29.948 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:22:29.948 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-08 15:22:29.948 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:22:29.950 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-08 15:22:29.951 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:29.952 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:29.954 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:22:29.966 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:22:29.968 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:22:29.974 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:22:29.974 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 8ms reading results.
2023-12-08 15:22:29.975 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:29.977 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-08 15:22:29.987 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:22:29.987 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-08 15:22:29.987 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-08 15:22:29.987 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-08 15:22:29.988 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:22:29.988 +07:00 [INF] Executing OkObjectResult, writing value of type 'Moc.Models.APIResponse'.
2023-12-08 15:22:29.992 +07:00 [INF] Executed action Moc.Controllers.UsersController.Login (Moc) in 187.4297ms
2023-12-08 15:22:29.993 +07:00 [INF] Executed endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:22:29.993 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:22:29.994 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:22:29.994 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 15:22:29.994 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53 - 200 372 application/json;+charset=utf-8 200.9081ms
2023-12-08 15:22:30.181 +07:00 [DBG] Connection id "0HMVNOQQ8T9CG" received FIN.
2023-12-08 15:22:30.182 +07:00 [DBG] Connection id "0HMVNOQQ8T9CG" is closed. The last processed stream ID was 1.
2023-12-08 15:22:30.182 +07:00 [DBG] Connection id "0HMVNOQQ8T9CG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:22:30.182 +07:00 [DBG] The connection queue processing loop for 0HMVNOQQ8T9CG completed.
2023-12-08 15:22:30.183 +07:00 [DBG] Connection id "0HMVNOQQ8T9CG" stopped.
2023-12-08 15:22:58.218 +07:00 [DBG] Connection id "0HMVNOQQ8T9CH" accepted.
2023-12-08 15:22:58.220 +07:00 [DBG] Connection id "0HMVNOQQ8T9CH" started.
2023-12-08 15:22:58.230 +07:00 [DBG] Connection 0HMVNOQQ8T9CH established using the following protocol: "Tls13"
2023-12-08 15:22:58.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:22:58.242 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:22:58.242 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:22:58.242 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:22:58.242 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:22:58.243 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:22:58.243 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:22:58.245 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-08 15:22:58.247 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-08 15:22:58.248 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 403 0 - 5.6060ms
2023-12-08 15:23:05.195 +07:00 [DBG] Connection id "0HMVNOQQ8T9CH" received FIN.
2023-12-08 15:23:05.195 +07:00 [DBG] Connection id "0HMVNOQQ8T9CH" is closed. The last processed stream ID was 1.
2023-12-08 15:23:05.195 +07:00 [DBG] Connection id "0HMVNOQQ8T9CH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:23:05.195 +07:00 [DBG] The connection queue processing loop for 0HMVNOQQ8T9CH completed.
2023-12-08 15:23:05.195 +07:00 [DBG] Connection id "0HMVNOQQ8T9CH" stopped.
2023-12-08 15:24:46.588 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-08 15:24:46.675 +07:00 [DBG] Hosting starting
2023-12-08 15:24:46.695 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-08 15:24:46.698 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-08 15:24:46.706 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-08 15:24:46.713 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-08 15:24:46.714 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 15:24:46.716 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-08 15:24:46.717 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 15:24:46.719 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-08 15:24:46.720 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-08 15:24:46.721 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-08 15:24:46.721 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-08 15:24:46.903 +07:00 [INF] Now listening on: https://localhost:7278
2023-12-08 15:24:46.903 +07:00 [INF] Now listening on: http://localhost:5225
2023-12-08 15:24:46.903 +07:00 [DBG] Loaded hosting startup assembly Moc
2023-12-08 15:24:46.904 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-08 15:24:46.904 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-08 15:24:46.904 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-08 15:24:46.904 +07:00 [INF] Hosting environment: Development
2023-12-08 15:24:46.904 +07:00 [INF] Content root path: D:\Moc
2023-12-08 15:24:46.904 +07:00 [DBG] Hosting started
2023-12-08 15:24:47.276 +07:00 [DBG] Connection id "0HMVNOSHRCIUA" received FIN.
2023-12-08 15:24:47.281 +07:00 [DBG] Connection id "0HMVNOSHRCIUA" accepted.
2023-12-08 15:24:47.283 +07:00 [DBG] Connection id "0HMVNOSHRCIUA" started.
2023-12-08 15:24:47.299 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-08 15:24:47.332 +07:00 [DBG] Connection id "0HMVNOSHRCIUA" stopped.
2023-12-08 15:24:47.335 +07:00 [DBG] Connection id "0HMVNOSHRCIUA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:24:47.878 +07:00 [DBG] Connection id "0HMVNOSHRCIUB" accepted.
2023-12-08 15:24:47.880 +07:00 [DBG] Connection id "0HMVNOSHRCIUB" started.
2023-12-08 15:24:47.998 +07:00 [DBG] Connection 0HMVNOSHRCIUB established using the following protocol: "Tls13"
2023-12-08 15:24:48.222 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/index.html - -
2023-12-08 15:24:48.282 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-08 15:24:48.319 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-08 15:24:48.320 +07:00 [DBG] Request did not match any endpoints
2023-12-08 15:24:48.500 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-08 15:24:48.651 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-08 15:24:48.654 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/index.html - - - 200 - text/html;charset=utf-8 437.9137ms
2023-12-08 15:24:48.765 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - -
2023-12-08 15:24:48.765 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_vs/browserLink - -
2023-12-08 15:24:48.799 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - - - 200 12338 application/javascript;+charset=utf-8 33.3742ms
2023-12-08 15:24:48.823 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.6423ms
2023-12-08 15:24:50.047 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - -
2023-12-08 15:24:50.047 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-08 15:24:50.047 +07:00 [DBG] Request did not match any endpoints
2023-12-08 15:24:50.299 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 252.0072ms
2023-12-08 15:24:50.327 +07:00 [DBG] Connection id "0HMVNOSHRCIUB" received FIN.
2023-12-08 15:24:50.331 +07:00 [DBG] The connection queue processing loop for 0HMVNOSHRCIUB completed.
2023-12-08 15:24:50.336 +07:00 [DBG] Connection id "0HMVNOSHRCIUB" is closed. The last processed stream ID was 7.
2023-12-08 15:24:50.336 +07:00 [DBG] Connection id "0HMVNOSHRCIUB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:24:50.340 +07:00 [DBG] Connection id "0HMVNOSHRCIUB" stopped.
2023-12-08 15:25:05.618 +07:00 [DBG] Connection id "0HMVNOSHRCIUC" accepted.
2023-12-08 15:25:05.619 +07:00 [DBG] Connection id "0HMVNOSHRCIUC" started.
2023-12-08 15:25:05.622 +07:00 [DBG] Connection 0HMVNOSHRCIUC established using the following protocol: "Tls13"
2023-12-08 15:25:05.624 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53
2023-12-08 15:25:05.634 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-08 15:25:05.635 +07:00 [DBG] Endpoint 'Moc.Controllers.UsersController.Login (Moc)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-08 15:25:05.636 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:25:05.637 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:25:05.702 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-08 15:25:05.705 +07:00 [DBG] The request cannot be served from cache because it uses the HTTP method: POST.
2023-12-08 15:25:05.716 +07:00 [INF] Executing endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:25:05.734 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Moc.DTO.LoginRequestDTO) on controller Moc.Controllers.UsersController (Moc).
2023-12-08 15:25:05.735 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:25:05.735 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:25:05.736 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-08 15:25:05.736 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:25:05.736 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:25:05.737 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:25:05.867 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-08 15:25:05.889 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 15:25:05.902 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:25:05.904 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-08 15:25:05.905 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:25:05.906 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 15:25:05.921 +07:00 [DBG] Connection id "0HMVNOSHRCIUC", Request id "0HMVNOSHRCIUC:00000001": started reading request body.
2023-12-08 15:25:05.921 +07:00 [DBG] Connection id "0HMVNOSHRCIUC", Request id "0HMVNOSHRCIUC:00000001": done reading request body.
2023-12-08 15:25:06.006 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:25:06.006 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:25:06.007 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 15:25:06.016 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 15:25:06.432 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:25:06.480 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-08 15:25:06.659 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-08 15:25:06.695 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:25:06.696 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:25:06.713 +07:00 [DBG] Created DbConnection. (14ms).
2023-12-08 15:25:06.718 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (23ms).
2023-12-08 15:25:06.728 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2023-12-08 15:25:06.729 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:06.927 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:06.934 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:25:06.975 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 15:25:06.994 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:25:07.017 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:25:07.025 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 46ms reading results.
2023-12-08 15:25:07.027 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:07.031 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (3ms).
2023-12-08 15:25:07.115 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:25:07.116 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-08 15:25:07.116 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-08 15:25:07.116 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-08 15:25:07.117 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:25:07.117 +07:00 [INF] Executing OkObjectResult, writing value of type 'Moc.Models.APIResponse'.
2023-12-08 15:25:07.149 +07:00 [INF] Executed action Moc.Controllers.UsersController.Login (Moc) in 1410.3858ms
2023-12-08 15:25:07.149 +07:00 [INF] Executed endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 15:25:07.151 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:25:07.156 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:07.157 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-08 15:25:07.158 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53 - 200 376 application/json;+charset=utf-8 1533.9722ms
2023-12-08 15:25:10.339 +07:00 [DBG] Connection id "0HMVNOSHRCIUC" received FIN.
2023-12-08 15:25:10.339 +07:00 [DBG] Connection id "0HMVNOSHRCIUC" is closed. The last processed stream ID was 1.
2023-12-08 15:25:10.339 +07:00 [DBG] Connection id "0HMVNOSHRCIUC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:25:10.340 +07:00 [DBG] The connection queue processing loop for 0HMVNOSHRCIUC completed.
2023-12-08 15:25:10.340 +07:00 [DBG] Connection id "0HMVNOSHRCIUC" stopped.
2023-12-08 15:25:44.089 +07:00 [DBG] Connection id "0HMVNOSHRCIUD" accepted.
2023-12-08 15:25:44.092 +07:00 [DBG] Connection id "0HMVNOSHRCIUD" started.
2023-12-08 15:25:44.099 +07:00 [DBG] Connection 0HMVNOSHRCIUD established using the following protocol: "Tls13"
2023-12-08 15:25:44.103 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:25:44.106 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:25:44.107 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:25:44.107 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:25:44.107 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:25:44.165 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:25:44.167 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:25:44.173 +07:00 [DBG] Authorization was successful.
2023-12-08 15:25:44.174 +07:00 [DBG] The request cannot be served from cache because it contains an 'Authorization' header.
2023-12-08 15:25:44.174 +07:00 [INF] Executing endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:25:44.181 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Moc.Models.APIResponse]] GetVillas(System.String) on controller Moc.Controllers.VillaController (Moc).
2023-12-08 15:25:44.181 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:25:44.181 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:25:44.181 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-08 15:25:44.181 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:25:44.181 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:25:44.181 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:25:44.289 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:25:44.290 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-08 15:25:44.290 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-08 15:25:44.291 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-08 15:25:44.291 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:25:44.291 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:25:44.291 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-08 15:25:44.291 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-08 15:25:44.312 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:25:45.124 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .OrderBy( => .Name)'
2023-12-08 15:25:45.131 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v
        ORDER BY v.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)'
2023-12-08 15:25:45.138 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:25:45.138 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:25:45.139 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-08 15:25:45.139 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:25:45.139 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:25:45.140 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:45.142 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:45.142 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:25:45.182 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:25:45.198 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:25:45.216 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:25:45.218 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:25:45.219 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 36ms reading results.
2023-12-08 15:25:45.220 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:45.220 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-08 15:25:45.241 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:25:45.243 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-12-08 15:25:45.246 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-12-08 15:25:45.247 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-12-08 15:25:45.249 +07:00 [INF] Executed action Moc.Controllers.VillaController.GetVillas (Moc) in 1067.0902ms
2023-12-08 15:25:45.249 +07:00 [INF] Executed endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:25:45.251 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:25:45.251 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:45.251 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 15:25:45.252 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 406 0 - 1148.9022ms
2023-12-08 15:25:50.396 +07:00 [DBG] Connection id "0HMVNOSHRCIUD" received FIN.
2023-12-08 15:25:50.396 +07:00 [DBG] Connection id "0HMVNOSHRCIUD" is closed. The last processed stream ID was 1.
2023-12-08 15:25:50.396 +07:00 [DBG] Connection id "0HMVNOSHRCIUD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:25:50.396 +07:00 [DBG] The connection queue processing loop for 0HMVNOSHRCIUD completed.
2023-12-08 15:25:50.396 +07:00 [DBG] Connection id "0HMVNOSHRCIUD" stopped.
2023-12-08 15:25:52.514 +07:00 [DBG] Connection id "0HMVNOSHRCIUE" accepted.
2023-12-08 15:25:52.514 +07:00 [DBG] Connection id "0HMVNOSHRCIUE" started.
2023-12-08 15:25:52.516 +07:00 [DBG] Connection 0HMVNOSHRCIUE established using the following protocol: "Tls13"
2023-12-08 15:25:52.518 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 15:25:52.518 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 15:25:52.518 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 15:25:52.518 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:25:52.519 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 15:25:52.534 +07:00 [DBG] Successfully validated the token.
2023-12-08 15:25:52.534 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 15:25:52.540 +07:00 [DBG] Authorization was successful.
2023-12-08 15:25:52.541 +07:00 [DBG] The request cannot be served from cache because it contains an 'Authorization' header.
2023-12-08 15:25:52.542 +07:00 [INF] Executing endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:25:52.542 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Moc.Models.APIResponse]] GetVillas(System.String) on controller Moc.Controllers.VillaController (Moc).
2023-12-08 15:25:52.542 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 15:25:52.542 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 15:25:52.542 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-08 15:25:52.542 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 15:25:52.542 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 15:25:52.542 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:25:52.542 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.VillaController (Moc)
2023-12-08 15:25:52.543 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-08 15:25:52.543 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-08 15:25:52.544 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-08 15:25:52.544 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:25:52.544 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-08 15:25:52.544 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-08 15:25:52.544 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-08 15:25:52.603 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 15:25:52.607 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 15:25:52.607 +07:00 [DBG] Creating DbConnection.
2023-12-08 15:25:52.607 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-08 15:25:52.607 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:25:52.607 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-08 15:25:52.607 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:52.607 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:52.607 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:25:52.611 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-08 15:25:52.612 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:25:52.612 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 15:25:52.612 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 15:25:52.612 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-08 15:25:52.612 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:52.612 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-08 15:25:52.612 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 15:25:52.613 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-08 15:25:52.613 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 15:25:52.613 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Moc.DTO.VillaDTO, Moc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-08 15:25:52.618 +07:00 [INF] Executed action Moc.Controllers.VillaController.GetVillas (Moc) in 76.2549ms
2023-12-08 15:25:52.618 +07:00 [INF] Executed endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 15:25:52.618 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 15:25:52.618 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 15:25:52.618 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-08 15:25:52.619 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 200 252 application/json;+charset=utf-8 100.4794ms
2023-12-08 15:26:00.404 +07:00 [DBG] Connection id "0HMVNOSHRCIUE" received FIN.
2023-12-08 15:26:00.404 +07:00 [DBG] Connection id "0HMVNOSHRCIUE" is closed. The last processed stream ID was 1.
2023-12-08 15:26:00.404 +07:00 [DBG] Connection id "0HMVNOSHRCIUE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 15:26:00.405 +07:00 [DBG] The connection queue processing loop for 0HMVNOSHRCIUE completed.
2023-12-08 15:26:00.405 +07:00 [DBG] Connection id "0HMVNOSHRCIUE" stopped.
2023-12-08 16:21:06.943 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-08 16:21:07.111 +07:00 [DBG] Hosting starting
2023-12-08 16:21:07.154 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-08 16:21:07.169 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-08 16:21:07.207 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-08 16:21:07.232 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-08 16:21:07.234 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 16:21:07.235 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-08 16:21:07.236 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-08 16:21:07.238 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-08 16:21:07.239 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-08 16:21:07.240 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-08 16:21:07.240 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-08 16:21:07.533 +07:00 [INF] Now listening on: https://localhost:7278
2023-12-08 16:21:07.533 +07:00 [INF] Now listening on: http://localhost:5225
2023-12-08 16:21:07.533 +07:00 [DBG] Loaded hosting startup assembly Moc
2023-12-08 16:21:07.533 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-08 16:21:07.533 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-08 16:21:07.533 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-08 16:21:07.533 +07:00 [INF] Hosting environment: Development
2023-12-08 16:21:07.533 +07:00 [INF] Content root path: D:\Moc
2023-12-08 16:21:07.533 +07:00 [DBG] Hosting started
2023-12-08 16:21:07.673 +07:00 [DBG] Connection id "0HMVNPS19C1DB" received FIN.
2023-12-08 16:21:07.677 +07:00 [DBG] Connection id "0HMVNPS19C1DB" accepted.
2023-12-08 16:21:07.678 +07:00 [DBG] Connection id "0HMVNPS19C1DB" started.
2023-12-08 16:21:07.707 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-08 16:21:07.770 +07:00 [DBG] Connection id "0HMVNPS19C1DB" stopped.
2023-12-08 16:21:07.772 +07:00 [DBG] Connection id "0HMVNPS19C1DB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 16:21:08.331 +07:00 [DBG] Connection id "0HMVNPS19C1DC" accepted.
2023-12-08 16:21:08.332 +07:00 [DBG] Connection id "0HMVNPS19C1DC" started.
2023-12-08 16:21:08.590 +07:00 [DBG] Connection 0HMVNPS19C1DC established using the following protocol: "Tls13"
2023-12-08 16:21:08.726 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/index.html - -
2023-12-08 16:21:08.806 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-08 16:21:08.849 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-08 16:21:08.849 +07:00 [DBG] Request did not match any endpoints
2023-12-08 16:21:08.991 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-08 16:21:09.145 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-08 16:21:09.148 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/index.html - - - 200 - text/html;charset=utf-8 431.0672ms
2023-12-08 16:21:09.283 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - -
2023-12-08 16:21:09.283 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/_vs/browserLink - -
2023-12-08 16:21:09.323 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_framework/aspnetcore-browser-refresh.js - - - 200 12338 application/javascript;+charset=utf-8 40.1900ms
2023-12-08 16:21:09.341 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.5730ms
2023-12-08 16:21:10.362 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - -
2023-12-08 16:21:10.362 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-08 16:21:10.362 +07:00 [DBG] Request did not match any endpoints
2023-12-08 16:21:10.560 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 197.6884ms
2023-12-08 16:21:15.433 +07:00 [DBG] Connection id "0HMVNPS19C1DC" received FIN.
2023-12-08 16:21:15.436 +07:00 [DBG] The connection queue processing loop for 0HMVNPS19C1DC completed.
2023-12-08 16:21:15.438 +07:00 [DBG] Connection id "0HMVNPS19C1DC" is closed. The last processed stream ID was 7.
2023-12-08 16:21:15.438 +07:00 [DBG] Connection id "0HMVNPS19C1DC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 16:21:15.442 +07:00 [DBG] Connection id "0HMVNPS19C1DC" stopped.
2023-12-08 16:21:31.152 +07:00 [DBG] Connection id "0HMVNPS19C1DD" accepted.
2023-12-08 16:21:31.152 +07:00 [DBG] Connection id "0HMVNPS19C1DD" started.
2023-12-08 16:21:31.155 +07:00 [DBG] Connection 0HMVNPS19C1DD established using the following protocol: "Tls13"
2023-12-08 16:21:31.157 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53
2023-12-08 16:21:31.165 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-08 16:21:31.172 +07:00 [DBG] Endpoint 'Moc.Controllers.UsersController.Login (Moc)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-08 16:21:31.173 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 16:21:31.177 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 16:21:31.255 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-08 16:21:31.259 +07:00 [DBG] The request cannot be served from cache because it uses the HTTP method: POST.
2023-12-08 16:21:31.270 +07:00 [INF] Executing endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 16:21:31.295 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Moc.DTO.LoginRequestDTO) on controller Moc.Controllers.UsersController (Moc).
2023-12-08 16:21:31.298 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-08 16:21:31.298 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-08 16:21:31.298 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-08 16:21:31.298 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-08 16:21:31.298 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-08 16:21:31.300 +07:00 [DBG] Executing controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 16:21:31.451 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-08 16:21:31.472 +07:00 [DBG] Executed controller factory for controller Moc.Controllers.UsersController (Moc)
2023-12-08 16:21:31.487 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 16:21:31.489 +07:00 [DBG] Attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-08 16:21:31.489 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 16:21:31.489 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-08 16:21:31.506 +07:00 [DBG] Connection id "0HMVNPS19C1DD", Request id "0HMVNPS19C1DD:00000001": started reading request body.
2023-12-08 16:21:31.506 +07:00 [DBG] Connection id "0HMVNPS19C1DD", Request id "0HMVNPS19C1DD:00000001": done reading request body.
2023-12-08 16:21:31.583 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 16:21:31.584 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 16:21:31.584 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO' ...
2023-12-08 16:21:31.590 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Moc.DTO.LoginRequestDTO'.
2023-12-08 16:21:32.026 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-08 16:21:32.108 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-08 16:21:32.292 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    Moc.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-08 16:21:32.320 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-08 16:21:32.321 +07:00 [DBG] Creating DbConnection.
2023-12-08 16:21:32.340 +07:00 [DBG] Created DbConnection. (17ms).
2023-12-08 16:21:32.346 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-12-08 16:21:32.354 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (35ms).
2023-12-08 16:21:32.356 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-08 16:21:32.619 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-08 16:21:32.626 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 16:21:32.685 +07:00 [INF] Executed DbCommand (58ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-08 16:21:32.703 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-08 16:21:32.719 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-08 16:21:32.724 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 35ms reading results.
2023-12-08 16:21:32.726 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-08 16:21:32.731 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (4ms).
2023-12-08 16:21:32.817 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-08 16:21:32.818 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-08 16:21:32.818 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-08 16:21:32.818 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-08 16:21:32.818 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-08 16:21:32.819 +07:00 [INF] Executing OkObjectResult, writing value of type 'Moc.Models.APIResponse'.
2023-12-08 16:21:32.852 +07:00 [INF] Executed action Moc.Controllers.UsersController.Login (Moc) in 1551.0498ms
2023-12-08 16:21:32.852 +07:00 [INF] Executed endpoint 'Moc.Controllers.UsersController.Login (Moc)'
2023-12-08 16:21:32.855 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-08 16:21:32.858 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-08 16:21:32.860 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-08 16:21:32.861 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7278/api/UsersAuth/login application/json-patch+json 53 - 200 339 application/json;+charset=utf-8 1703.8082ms
2023-12-08 16:21:35.471 +07:00 [DBG] Connection id "0HMVNPS19C1DD" received FIN.
2023-12-08 16:21:35.471 +07:00 [DBG] Connection id "0HMVNPS19C1DD" is closed. The last processed stream ID was 1.
2023-12-08 16:21:35.471 +07:00 [DBG] Connection id "0HMVNPS19C1DD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 16:21:35.471 +07:00 [DBG] The connection queue processing loop for 0HMVNPS19C1DD completed.
2023-12-08 16:21:35.472 +07:00 [DBG] Connection id "0HMVNPS19C1DD" stopped.
2023-12-08 16:21:59.338 +07:00 [DBG] Connection id "0HMVNPS19C1DE" accepted.
2023-12-08 16:21:59.338 +07:00 [DBG] Connection id "0HMVNPS19C1DE" started.
2023-12-08 16:21:59.350 +07:00 [DBG] Connection 0HMVNPS19C1DE established using the following protocol: "Tls13"
2023-12-08 16:21:59.355 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 16:21:59.363 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 16:21:59.364 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 16:21:59.364 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 16:21:59.364 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 16:21:59.418 +07:00 [DBG] Successfully validated the token.
2023-12-08 16:21:59.419 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 16:21:59.427 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-08 16:21:59.430 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-08 16:21:59.430 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 403 0 - 75.2027ms
2023-12-08 16:22:03.493 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7278/api/Villa - -
2023-12-08 16:22:03.493 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-08 16:22:03.493 +07:00 [DBG] Endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-08 16:22:03.493 +07:00 [DBG] Request matched endpoint 'Moc.Controllers.VillaController.GetVillas (Moc)'
2023-12-08 16:22:03.493 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-08 16:22:03.495 +07:00 [DBG] Successfully validated the token.
2023-12-08 16:22:03.495 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-08 16:22:03.497 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-08 16:22:03.497 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-08 16:22:03.498 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7278/api/Villa - - - 403 0 - 5.4050ms
2023-12-08 16:22:05.504 +07:00 [DBG] Connection id "0HMVNPS19C1DE" received FIN.
2023-12-08 16:22:05.504 +07:00 [DBG] Connection id "0HMVNPS19C1DE" is closed. The last processed stream ID was 3.
2023-12-08 16:22:05.504 +07:00 [DBG] Connection id "0HMVNPS19C1DE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-08 16:22:05.504 +07:00 [DBG] The connection queue processing loop for 0HMVNPS19C1DE completed.
2023-12-08 16:22:05.504 +07:00 [DBG] Connection id "0HMVNPS19C1DE" stopped.
