2023-12-06 08:51:02.466 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 08:51:02.698 +07:00 [DBG] Hosting starting
2023-12-06 08:51:03.582 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 08:51:03.582 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 08:51:03.582 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 08:51:03.582 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 08:51:03.582 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 08:51:03.582 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 08:51:03.583 +07:00 [INF] Hosting environment: Development
2023-12-06 08:51:03.583 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 08:51:03.583 +07:00 [DBG] Hosting started
2023-12-06 08:51:03.661 +07:00 [DBG] Connection id "0HMVLVN71QD70" accepted.
2023-12-06 08:51:03.663 +07:00 [DBG] Connection id "0HMVLVN71QD70" started.
2023-12-06 08:51:03.790 +07:00 [DBG] Connection id "0HMVLVN71QD71" accepted.
2023-12-06 08:51:03.790 +07:00 [DBG] Connection id "0HMVLVN71QD71" started.
2023-12-06 08:51:04.962 +07:00 [DBG] Connection id "0HMVLVN71QD72" accepted.
2023-12-06 08:51:04.965 +07:00 [DBG] Connection id "0HMVLVN71QD72" started.
2023-12-06 08:51:05.357 +07:00 [DBG] Connection 0HMVLVN71QD72 established using the following protocol: "Tls13"
2023-12-06 08:51:05.953 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 08:51:06.107 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 08:51:06.181 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 08:51:06.182 +07:00 [DBG] Request did not match any endpoints
2023-12-06 08:51:06.511 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 08:51:07.243 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 08:51:07.250 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 1303.1648ms
2023-12-06 08:51:07.965 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 08:51:07.981 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 08:51:07.982 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 16.5441ms
2023-12-06 08:51:08.099 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 117.5531ms
2023-12-06 08:51:10.562 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 08:51:10.562 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 08:51:10.562 +07:00 [DBG] Request did not match any endpoints
2023-12-06 08:51:11.017 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 454.7477ms
2023-12-06 08:51:13.689 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-06 08:51:13.692 +07:00 [DBG] Connection id "0HMVLVN71QD70" stopped.
2023-12-06 08:51:13.694 +07:00 [DBG] Connection id "0HMVLVN71QD70" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 08:51:13.806 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-06 08:51:13.806 +07:00 [DBG] Connection id "0HMVLVN71QD71" stopped.
2023-12-06 08:51:13.806 +07:00 [DBG] Connection id "0HMVLVN71QD71" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 08:51:15.756 +07:00 [DBG] Connection id "0HMVLVN71QD72" received FIN.
2023-12-06 08:51:15.767 +07:00 [DBG] The connection queue processing loop for 0HMVLVN71QD72 completed.
2023-12-06 08:51:15.767 +07:00 [DBG] Connection id "0HMVLVN71QD72" is closed. The last processed stream ID was 7.
2023-12-06 08:51:15.768 +07:00 [DBG] Connection id "0HMVLVN71QD72" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 08:51:15.770 +07:00 [DBG] Connection id "0HMVLVN71QD72" stopped.
2023-12-06 08:51:18.834 +07:00 [DBG] Connection id "0HMVLVN71QD73" accepted.
2023-12-06 08:51:18.835 +07:00 [DBG] Connection id "0HMVLVN71QD73" started.
2023-12-06 08:51:18.851 +07:00 [DBG] Connection 0HMVLVN71QD73 established using the following protocol: "Tls13"
2023-12-06 08:51:18.854 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa - -
2023-12-06 08:51:18.859 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 08:51:18.861 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 08:51:18.861 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 08:51:18.868 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-06 08:51:18.871 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-06 08:51:19.027 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa - - - 500 - text/plain;+charset=utf-8 172.9850ms
2023-12-06 08:51:20.759 +07:00 [DBG] Connection id "0HMVLVN71QD73" received FIN.
2023-12-06 08:51:20.759 +07:00 [DBG] Connection id "0HMVLVN71QD73" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 08:51:20.759 +07:00 [DBG] Connection id "0HMVLVN71QD73" is closed. The last processed stream ID was 1.
2023-12-06 08:51:20.759 +07:00 [DBG] The connection queue processing loop for 0HMVLVN71QD73 completed.
2023-12-06 08:51:20.760 +07:00 [DBG] Connection id "0HMVLVN71QD73" stopped.
2023-12-06 08:51:32.946 +07:00 [DBG] Connection id "0HMVLVN71QD74" accepted.
2023-12-06 08:51:32.947 +07:00 [DBG] Connection id "0HMVLVN71QD74" started.
2023-12-06 08:51:32.951 +07:00 [DBG] Connection 0HMVLVN71QD74 established using the following protocol: "Tls13"
2023-12-06 08:51:32.952 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa - -
2023-12-06 08:51:32.953 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 08:51:32.954 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 08:51:32.954 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 08:51:32.955 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-06 08:51:32.957 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-06 08:51:32.958 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa - - - 500 - text/plain;+charset=utf-8 5.7953ms
2023-12-06 08:51:35.777 +07:00 [DBG] Connection id "0HMVLVN71QD74" received FIN.
2023-12-06 08:51:35.777 +07:00 [DBG] Connection id "0HMVLVN71QD74" is closed. The last processed stream ID was 1.
2023-12-06 08:51:35.777 +07:00 [DBG] Connection id "0HMVLVN71QD74" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 08:51:35.777 +07:00 [DBG] The connection queue processing loop for 0HMVLVN71QD74 completed.
2023-12-06 08:51:35.777 +07:00 [DBG] Connection id "0HMVLVN71QD74" stopped.
2023-12-06 08:52:33.854 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 08:52:33.989 +07:00 [DBG] Hosting starting
2023-12-06 08:52:34.270 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 08:52:34.270 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 08:52:34.270 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 08:52:34.270 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 08:52:34.270 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 08:52:34.271 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 08:52:34.271 +07:00 [INF] Hosting environment: Development
2023-12-06 08:52:34.271 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 08:52:34.271 +07:00 [DBG] Hosting started
2023-12-06 08:52:34.498 +07:00 [DBG] Connection id "0HMVLVO243QSG" accepted.
2023-12-06 08:52:34.500 +07:00 [DBG] Connection id "0HMVLVO243QSG" started.
2023-12-06 08:52:34.507 +07:00 [DBG] Connection id "0HMVLVO243QSH" accepted.
2023-12-06 08:52:34.507 +07:00 [DBG] Connection id "0HMVLVO243QSH" started.
2023-12-06 08:52:34.537 +07:00 [DBG] Connection id "0HMVLVO243QSH" received FIN.
2023-12-06 08:52:34.537 +07:00 [DBG] Connection id "0HMVLVO243QSG" received FIN.
2023-12-06 08:52:34.554 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 08:52:34.554 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 08:52:34.610 +07:00 [DBG] Connection id "0HMVLVO243QSH" stopped.
2023-12-06 08:52:34.610 +07:00 [DBG] Connection id "0HMVLVO243QSG" stopped.
2023-12-06 08:52:34.617 +07:00 [DBG] Connection id "0HMVLVO243QSG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 08:52:34.617 +07:00 [DBG] Connection id "0HMVLVO243QSH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 08:52:35.363 +07:00 [DBG] Connection id "0HMVLVO243QSI" accepted.
2023-12-06 08:52:35.432 +07:00 [DBG] Connection id "0HMVLVO243QSI" started.
2023-12-06 08:52:35.772 +07:00 [DBG] Connection 0HMVLVO243QSI established using the following protocol: "Tls13"
2023-12-06 08:52:36.041 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 08:52:36.107 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 08:52:36.201 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 08:52:36.202 +07:00 [DBG] Request did not match any endpoints
2023-12-06 08:52:36.509 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 08:52:36.802 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 08:52:36.808 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 770.6081ms
2023-12-06 08:52:36.942 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 08:52:36.942 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 08:52:36.985 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 42.3062ms
2023-12-06 08:52:37.072 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 129.6447ms
2023-12-06 08:52:38.626 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 08:52:38.627 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 08:52:38.627 +07:00 [DBG] Request did not match any endpoints
2023-12-06 08:52:38.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 319.6301ms
2023-12-06 08:52:40.862 +07:00 [DBG] Connection id "0HMVLVO243QSI" received FIN.
2023-12-06 08:52:40.865 +07:00 [DBG] The connection queue processing loop for 0HMVLVO243QSI completed.
2023-12-06 08:52:40.871 +07:00 [DBG] Connection id "0HMVLVO243QSI" is closed. The last processed stream ID was 7.
2023-12-06 08:52:40.871 +07:00 [DBG] Connection id "0HMVLVO243QSI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 08:52:40.881 +07:00 [DBG] Connection id "0HMVLVO243QSI" stopped.
2023-12-06 08:52:42.855 +07:00 [DBG] Connection id "0HMVLVO243QSJ" accepted.
2023-12-06 08:52:42.855 +07:00 [DBG] Connection id "0HMVLVO243QSJ" started.
2023-12-06 08:52:42.862 +07:00 [DBG] Connection 0HMVLVO243QSJ established using the following protocol: "Tls13"
2023-12-06 08:52:42.865 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa - -
2023-12-06 08:52:42.877 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 08:52:42.883 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 08:52:42.883 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 08:52:42.893 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-06 08:52:42.899 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-06 08:52:42.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa - - - 500 - text/plain;+charset=utf-8 37.0952ms
2023-12-06 08:52:45.863 +07:00 [DBG] Connection id "0HMVLVO243QSJ" received FIN.
2023-12-06 08:52:45.863 +07:00 [DBG] Connection id "0HMVLVO243QSJ" is closed. The last processed stream ID was 1.
2023-12-06 08:52:45.863 +07:00 [DBG] Connection id "0HMVLVO243QSJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 08:52:45.863 +07:00 [DBG] The connection queue processing loop for 0HMVLVO243QSJ completed.
2023-12-06 08:52:45.863 +07:00 [DBG] Connection id "0HMVLVO243QSJ" stopped.
2023-12-06 09:24:36.262 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 09:24:36.394 +07:00 [DBG] Hosting starting
2023-12-06 09:24:36.482 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-06 09:24:36.486 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-06 09:24:36.533 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-06 09:24:36.542 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-06 09:24:36.543 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 09:24:36.545 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-06 09:24:36.546 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 09:24:36.549 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-06 09:24:36.550 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-06 09:24:36.551 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-06 09:24:36.552 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-06 09:24:36.833 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 09:24:36.833 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 09:24:36.833 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 09:24:36.833 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 09:24:36.833 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 09:24:36.834 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 09:24:36.834 +07:00 [INF] Hosting environment: Development
2023-12-06 09:24:36.834 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 09:24:36.834 +07:00 [DBG] Hosting started
2023-12-06 09:24:36.863 +07:00 [DBG] Connection id "0HMVM09V172C5" accepted.
2023-12-06 09:24:36.864 +07:00 [DBG] Connection id "0HMVM09V172C5" started.
2023-12-06 09:24:36.905 +07:00 [DBG] Connection id "0HMVM09V172C5" received FIN.
2023-12-06 09:24:36.914 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 09:24:36.981 +07:00 [DBG] Connection id "0HMVM09V172C5" stopped.
2023-12-06 09:24:36.984 +07:00 [DBG] Connection id "0HMVM09V172C5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 09:24:37.654 +07:00 [DBG] Connection id "0HMVM09V172C6" accepted.
2023-12-06 09:24:37.666 +07:00 [DBG] Connection id "0HMVM09V172C6" started.
2023-12-06 09:24:37.872 +07:00 [DBG] Connection 0HMVM09V172C6 established using the following protocol: "Tls13"
2023-12-06 09:24:38.062 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 09:24:38.165 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 09:24:38.242 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 09:24:38.243 +07:00 [DBG] Request did not match any endpoints
2023-12-06 09:24:38.441 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 09:24:38.719 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 09:24:38.727 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 673.3979ms
2023-12-06 09:24:38.800 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 09:24:38.800 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 09:24:38.833 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 32.7695ms
2023-12-06 09:24:38.878 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 78.4448ms
2023-12-06 09:24:39.452 +07:00 [DBG] Connection id "0HMVM09V172C6" received FIN.
2023-12-06 09:24:39.461 +07:00 [DBG] The connection queue processing loop for 0HMVM09V172C6 completed.
2023-12-06 09:24:39.463 +07:00 [DBG] Connection id "0HMVM09V172C6" is closed. The last processed stream ID was 5.
2023-12-06 09:24:39.463 +07:00 [DBG] Connection id "0HMVM09V172C6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 09:24:39.467 +07:00 [DBG] Connection id "0HMVM09V172C6" stopped.
2023-12-06 09:24:40.097 +07:00 [DBG] Connection id "0HMVM09V172C7" accepted.
2023-12-06 09:24:40.097 +07:00 [DBG] Connection id "0HMVM09V172C7" started.
2023-12-06 09:24:40.101 +07:00 [DBG] Connection 0HMVM09V172C7 established using the following protocol: "Tls13"
2023-12-06 09:24:40.104 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 09:24:40.104 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 09:24:40.105 +07:00 [DBG] Request did not match any endpoints
2023-12-06 09:24:40.413 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 309.2826ms
2023-12-06 09:24:44.451 +07:00 [DBG] Connection id "0HMVM09V172C7" received FIN.
2023-12-06 09:24:44.452 +07:00 [DBG] Connection id "0HMVM09V172C7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 09:24:44.452 +07:00 [DBG] Connection id "0HMVM09V172C7" is closed. The last processed stream ID was 1.
2023-12-06 09:24:44.452 +07:00 [DBG] The connection queue processing loop for 0HMVM09V172C7 completed.
2023-12-06 09:24:44.453 +07:00 [DBG] Connection id "0HMVM09V172C7" stopped.
2023-12-06 09:37:50.591 +07:00 [DBG] Connection id "0HMVM09V172C8" accepted.
2023-12-06 09:37:50.597 +07:00 [DBG] Connection id "0HMVM09V172C8" started.
2023-12-06 09:37:50.643 +07:00 [DBG] Connection 0HMVM09V172C8 established using the following protocol: "Tls13"
2023-12-06 09:37:50.688 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53
2023-12-06 09:37:50.755 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 09:37:50.761 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 09:37:50.769 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 09:37:50.785 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 09:37:51.870 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 09:37:51.887 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 09:37:51.997 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 09:37:52.000 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 09:37:52.001 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 09:37:52.002 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 09:37:52.003 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 09:37:52.003 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 09:37:52.006 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 09:37:52.533 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-06 09:37:52.578 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 09:37:52.623 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 09:37:52.626 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 09:37:52.628 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 09:37:52.628 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 09:37:52.684 +07:00 [DBG] Connection id "0HMVM09V172C8", Request id "0HMVM09V172C8:00000001": started reading request body.
2023-12-06 09:37:52.685 +07:00 [DBG] Connection id "0HMVM09V172C8", Request id "0HMVM09V172C8:00000001": done reading request body.
2023-12-06 09:37:52.832 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 09:37:52.832 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 09:37:52.832 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 09:37:52.849 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 09:37:53.452 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 09:37:53.784 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-06 09:37:54.017 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-06 09:37:54.060 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 09:37:54.063 +07:00 [DBG] Creating DbConnection.
2023-12-06 09:37:54.101 +07:00 [DBG] Created DbConnection. (32ms).
2023-12-06 09:37:54.110 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (50ms).
2023-12-06 09:37:54.125 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (66ms).
2023-12-06 09:37:54.130 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 09:37:55.054 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 09:37:55.064 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 09:37:55.249 +07:00 [INF] Executed DbCommand (185ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 09:37:55.274 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 09:37:55.304 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 09:37:55.317 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 59ms reading results.
2023-12-06 09:37:55.320 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 09:37:55.327 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (6ms).
2023-12-06 09:37:55.809 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 09:37:55.812 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 09:37:55.812 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 09:37:55.812 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 09:37:55.814 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 09:37:55.815 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 09:37:55.887 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 3879.9345ms
2023-12-06 09:37:55.887 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 09:37:55.891 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 09:37:55.897 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 09:37:55.900 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2023-12-06 09:37:55.901 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53 - 200 359 application/json;+charset=utf-8 5217.5691ms
2023-12-06 09:38:00.543 +07:00 [DBG] Connection id "0HMVM09V172C8" received FIN.
2023-12-06 09:38:00.543 +07:00 [DBG] Connection id "0HMVM09V172C8" is closed. The last processed stream ID was 1.
2023-12-06 09:38:00.543 +07:00 [DBG] Connection id "0HMVM09V172C8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 09:38:00.548 +07:00 [DBG] The connection queue processing loop for 0HMVM09V172C8 completed.
2023-12-06 09:38:00.566 +07:00 [DBG] Connection id "0HMVM09V172C8" stopped.
2023-12-06 09:38:49.455 +07:00 [DBG] Connection id "0HMVM09V172C9" received FIN.
2023-12-06 09:38:49.460 +07:00 [DBG] Connection id "0HMVM09V172C9" accepted.
2023-12-06 09:38:49.461 +07:00 [DBG] Connection id "0HMVM09V172C9" started.
2023-12-06 09:38:49.461 +07:00 [DBG] Connection id "0HMVM09V172CA" accepted.
2023-12-06 09:38:49.465 +07:00 [DBG] Connection id "0HMVM09V172CA" started.
2023-12-06 09:38:49.480 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 09:38:49.481 +07:00 [DBG] Connection 0HMVM09V172CA established using the following protocol: "Tls13"
2023-12-06 09:38:49.486 +07:00 [DBG] Connection id "0HMVM09V172C9" stopped.
2023-12-06 09:38:49.486 +07:00 [DBG] Connection id "0HMVM09V172C9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 09:38:49.505 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa/2 application/json 81
2023-12-06 09:38:49.507 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/2'
2023-12-06 09:38:49.508 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/2'
2023-12-06 09:38:49.508 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 09:38:49.511 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 09:38:49.513 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 09:38:49.523 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-06 09:38:49.529 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-06 09:38:49.530 +07:00 [DBG] Connection id "0HMVM09V172CA" completed keep alive response.
2023-12-06 09:38:49.530 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa/2 application/json 81 - 401 0 - 26.0013ms
2023-12-06 09:38:49.530 +07:00 [DBG] Connection id "0HMVM09V172CA", Request id "0HMVM09V172CA:00000001": started reading request body.
2023-12-06 09:38:49.532 +07:00 [DBG] Connection id "0HMVM09V172CA", Request id "0HMVM09V172CA:00000001": done reading request body.
2023-12-06 09:39:06.474 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa/2 application/json 81
2023-12-06 09:39:06.474 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/2'
2023-12-06 09:39:06.474 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/2'
2023-12-06 09:39:06.474 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 09:39:06.475 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 09:39:06.476 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 09:39:06.478 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-06 09:39:06.481 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-06 09:39:06.482 +07:00 [DBG] Connection id "0HMVM09V172CA" completed keep alive response.
2023-12-06 09:39:06.483 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa/2 application/json 81 - 401 0 - 8.3590ms
2023-12-06 09:39:06.483 +07:00 [DBG] Connection id "0HMVM09V172CA", Request id "0HMVM09V172CA:00000002": started reading request body.
2023-12-06 09:39:06.483 +07:00 [DBG] Connection id "0HMVM09V172CA", Request id "0HMVM09V172CA:00000002": done reading request body.
2023-12-06 09:39:19.064 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa/2 application/json 81
2023-12-06 09:39:19.064 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/2'
2023-12-06 09:39:19.064 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/2'
2023-12-06 09:39:19.064 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 09:39:19.065 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 09:39:19.121 +07:00 [DBG] Successfully validated the token.
2023-12-06 09:39:19.123 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 09:39:19.125 +07:00 [DBG] Authorization was successful.
2023-12-06 09:39:19.126 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 09:39:19.135 +07:00 [INF] Route matched with {action = "GetVilla", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVilla(Int32) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 09:39:19.135 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 09:39:19.135 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 09:39:19.135 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 09:39:19.135 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 09:39:19.135 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 09:39:19.135 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 09:39:19.226 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 09:39:19.229 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-06 09:39:19.230 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-06 09:39:19.232 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-06 09:39:19.232 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-06 09:39:19.232 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-06 09:39:19.233 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-06 09:39:19.260 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 09:39:19.265 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(s => s.Id == __id_0)
    .FirstOrDefault()'
2023-12-06 09:39:19.271 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MOC1.Data.ApplicationContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-06 09:39:19.284 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 09:39:19.284 +07:00 [DBG] Creating DbConnection.
2023-12-06 09:39:19.285 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 09:39:19.285 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 09:39:19.285 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 09:39:19.287 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 09:39:19.289 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 09:39:19.290 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-12-06 09:39:19.348 +07:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-12-06 09:39:19.370 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 09:39:19.418 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 09:39:19.419 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 70ms reading results.
2023-12-06 09:39:19.421 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 09:39:19.421 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 09:39:19.438 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 09:39:19.438 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 09:39:19.438 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 09:39:19.438 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 09:39:19.439 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 09:39:19.439 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 09:39:19.448 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVilla (MOC1) in 312.7264ms
2023-12-06 09:39:19.449 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 09:39:19.450 +07:00 [DBG] Connection id "0HMVM09V172CA" completed keep alive response.
2023-12-06 09:39:19.451 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 09:39:19.451 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 09:39:19.451 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 09:39:19.451 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa/2 application/json 81 - 200 197 application/json;+charset=utf-8 387.1227ms
2023-12-06 09:39:19.451 +07:00 [DBG] Connection id "0HMVM09V172CA", Request id "0HMVM09V172CA:00000003": started reading request body.
2023-12-06 09:39:19.451 +07:00 [DBG] Connection id "0HMVM09V172CA", Request id "0HMVM09V172CA:00000003": done reading request body.
2023-12-06 09:39:47.764 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa/2 application/json 81
2023-12-06 09:39:47.766 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/2'
2023-12-06 09:39:47.766 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/2'
2023-12-06 09:39:47.766 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 09:39:47.766 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 09:39:47.767 +07:00 [DBG] Successfully validated the token.
2023-12-06 09:39:47.767 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 09:39:47.768 +07:00 [DBG] Authorization was successful.
2023-12-06 09:39:47.768 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 09:39:47.768 +07:00 [INF] Route matched with {action = "GetVilla", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVilla(Int32) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 09:39:47.768 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 09:39:47.768 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 09:39:47.768 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 09:39:47.768 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 09:39:47.768 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 09:39:47.768 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 09:39:47.771 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 09:39:47.771 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-06 09:39:47.772 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-06 09:39:47.773 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-06 09:39:47.773 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-06 09:39:47.773 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-06 09:39:47.773 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-06 09:39:47.834 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 09:39:47.840 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 09:39:47.840 +07:00 [DBG] Creating DbConnection.
2023-12-06 09:39:47.841 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 09:39:47.841 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 09:39:47.841 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 09:39:47.841 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 09:39:47.841 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 09:39:47.841 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-12-06 09:39:47.846 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-12-06 09:39:47.846 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 09:39:47.847 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 09:39:47.847 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 09:39:47.847 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 09:39:47.847 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 09:39:47.848 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 09:39:47.848 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 09:39:47.848 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 09:39:47.848 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 09:39:47.848 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 09:39:47.848 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 09:39:47.848 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVilla (MOC1) in 80.2481ms
2023-12-06 09:39:47.848 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 09:39:47.848 +07:00 [DBG] Connection id "0HMVM09V172CA" completed keep alive response.
2023-12-06 09:39:47.849 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 09:39:47.849 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 09:39:47.849 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 09:39:47.849 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa/2 application/json 81 - 200 197 application/json;+charset=utf-8 86.5450ms
2023-12-06 09:39:47.849 +07:00 [DBG] Connection id "0HMVM09V172CA", Request id "0HMVM09V172CA:00000004": started reading request body.
2023-12-06 09:39:47.849 +07:00 [DBG] Connection id "0HMVM09V172CA", Request id "0HMVM09V172CA:00000004": done reading request body.
2023-12-06 09:46:57.873 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 09:46:58.040 +07:00 [DBG] Hosting starting
2023-12-06 09:46:58.093 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-06 09:46:58.098 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-06 09:46:58.118 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-06 09:46:58.133 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-06 09:46:58.137 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 09:46:58.139 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-06 09:46:58.141 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 09:46:58.145 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-06 09:46:58.147 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-06 09:46:58.149 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-06 09:46:58.151 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-06 09:46:58.465 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 09:46:58.466 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 09:46:58.466 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 09:46:58.466 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 09:46:58.466 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 09:46:58.466 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 09:46:58.467 +07:00 [INF] Hosting environment: Development
2023-12-06 09:46:58.467 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 09:46:58.467 +07:00 [DBG] Hosting started
2023-12-06 09:46:58.859 +07:00 [DBG] Connection id "0HMVM0MEVFG51" received FIN.
2023-12-06 09:46:58.865 +07:00 [DBG] Connection id "0HMVM0MEVFG51" accepted.
2023-12-06 09:46:58.867 +07:00 [DBG] Connection id "0HMVM0MEVFG51" started.
2023-12-06 09:46:58.894 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 09:46:58.974 +07:00 [DBG] Connection id "0HMVM0MEVFG51" stopped.
2023-12-06 09:46:58.978 +07:00 [DBG] Connection id "0HMVM0MEVFG51" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 09:46:59.681 +07:00 [DBG] Connection id "0HMVM0MEVFG52" accepted.
2023-12-06 09:46:59.782 +07:00 [DBG] Connection id "0HMVM0MEVFG52" started.
2023-12-06 09:46:59.980 +07:00 [DBG] Connection 0HMVM0MEVFG52 established using the following protocol: "Tls13"
2023-12-06 09:47:00.391 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 09:47:00.502 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 09:47:00.630 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 09:47:00.631 +07:00 [DBG] Request did not match any endpoints
2023-12-06 09:47:01.016 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 09:47:01.344 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 09:47:01.349 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 970.5852ms
2023-12-06 09:47:01.480 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 09:47:01.481 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 09:47:01.509 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 27.6980ms
2023-12-06 09:47:01.588 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 107.2012ms
2023-12-06 09:47:03.255 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 09:47:03.256 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 09:47:03.256 +07:00 [DBG] Request did not match any endpoints
2023-12-06 09:47:03.701 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 445.5587ms
2023-12-06 09:47:06.190 +07:00 [DBG] Connection id "0HMVM0MEVFG52" received FIN.
2023-12-06 09:47:06.195 +07:00 [DBG] The connection queue processing loop for 0HMVM0MEVFG52 completed.
2023-12-06 09:47:06.198 +07:00 [DBG] Connection id "0HMVM0MEVFG52" is closed. The last processed stream ID was 7.
2023-12-06 09:47:06.199 +07:00 [DBG] Connection id "0HMVM0MEVFG52" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 09:47:06.205 +07:00 [DBG] Connection id "0HMVM0MEVFG52" stopped.
2023-12-06 13:29:04.672 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 13:29:04.856 +07:00 [DBG] Hosting starting
2023-12-06 13:29:04.919 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-06 13:29:04.922 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-06 13:29:04.968 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-06 13:29:04.981 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-06 13:29:04.984 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 13:29:04.986 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-06 13:29:04.988 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 13:29:04.991 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-06 13:29:04.993 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-06 13:29:04.994 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-06 13:29:04.995 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-06 13:29:05.558 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 13:29:05.558 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 13:29:05.559 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 13:29:05.559 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 13:29:05.559 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 13:29:05.559 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 13:29:05.559 +07:00 [INF] Hosting environment: Development
2023-12-06 13:29:05.559 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 13:29:05.559 +07:00 [DBG] Hosting started
2023-12-06 13:29:05.707 +07:00 [DBG] Connection id "0HMVM4IIM6KIE" accepted.
2023-12-06 13:29:05.708 +07:00 [DBG] Connection id "0HMVM4IIM6KIE" started.
2023-12-06 13:29:05.713 +07:00 [DBG] Connection id "0HMVM4IIM6KIF" accepted.
2023-12-06 13:29:05.713 +07:00 [DBG] Connection id "0HMVM4IIM6KIF" started.
2023-12-06 13:29:05.734 +07:00 [DBG] Connection id "0HMVM4IIM6KIE" received FIN.
2023-12-06 13:29:05.734 +07:00 [DBG] Connection id "0HMVM4IIM6KIF" received FIN.
2023-12-06 13:29:05.749 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 13:29:05.749 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 13:29:05.927 +07:00 [DBG] Connection id "0HMVM4IIM6KIE" stopped.
2023-12-06 13:29:05.927 +07:00 [DBG] Connection id "0HMVM4IIM6KIF" stopped.
2023-12-06 13:29:05.929 +07:00 [DBG] Connection id "0HMVM4IIM6KIE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:29:05.929 +07:00 [DBG] Connection id "0HMVM4IIM6KIF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:29:06.661 +07:00 [DBG] Connection id "0HMVM4IIM6KIG" accepted.
2023-12-06 13:29:06.670 +07:00 [DBG] Connection id "0HMVM4IIM6KIG" started.
2023-12-06 13:29:06.855 +07:00 [DBG] Connection 0HMVM4IIM6KIG established using the following protocol: "Tls13"
2023-12-06 13:29:07.145 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 13:29:07.266 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 13:29:07.332 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 13:29:07.332 +07:00 [DBG] Request did not match any endpoints
2023-12-06 13:29:07.531 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 13:29:07.941 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 13:29:07.946 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 803.8631ms
2023-12-06 13:29:08.213 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 13:29:08.213 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 13:29:08.229 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 15.4335ms
2023-12-06 13:29:08.264 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.2470ms
2023-12-06 13:29:09.209 +07:00 [DBG] Connection id "0HMVM4IIM6KIG" received FIN.
2023-12-06 13:29:09.229 +07:00 [DBG] The connection queue processing loop for 0HMVM4IIM6KIG completed.
2023-12-06 13:29:09.229 +07:00 [DBG] Connection id "0HMVM4IIM6KIG" is closed. The last processed stream ID was 5.
2023-12-06 13:29:09.229 +07:00 [DBG] Connection id "0HMVM4IIM6KIG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:29:09.231 +07:00 [DBG] Connection id "0HMVM4IIM6KIG" stopped.
2023-12-06 13:29:11.125 +07:00 [DBG] Connection id "0HMVM4IIM6KIH" accepted.
2023-12-06 13:29:11.126 +07:00 [DBG] Connection id "0HMVM4IIM6KIH" started.
2023-12-06 13:29:11.145 +07:00 [DBG] Connection 0HMVM4IIM6KIH established using the following protocol: "Tls13"
2023-12-06 13:29:11.160 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 13:29:11.161 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 13:29:11.161 +07:00 [DBG] Request did not match any endpoints
2023-12-06 13:29:11.715 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 554.8225ms
2023-12-06 13:29:19.204 +07:00 [DBG] Connection id "0HMVM4IIM6KIH" received FIN.
2023-12-06 13:29:19.205 +07:00 [DBG] Connection id "0HMVM4IIM6KIH" is closed. The last processed stream ID was 1.
2023-12-06 13:29:19.205 +07:00 [DBG] Connection id "0HMVM4IIM6KIH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:29:19.206 +07:00 [DBG] The connection queue processing loop for 0HMVM4IIM6KIH completed.
2023-12-06 13:29:19.206 +07:00 [DBG] Connection id "0HMVM4IIM6KIH" stopped.
2023-12-06 13:29:32.721 +07:00 [DBG] Connection id "0HMVM4IIM6KII" accepted.
2023-12-06 13:29:32.721 +07:00 [DBG] Connection id "0HMVM4IIM6KII" started.
2023-12-06 13:29:32.728 +07:00 [DBG] Connection 0HMVM4IIM6KII established using the following protocol: "Tls13"
2023-12-06 13:29:32.729 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa/2 - -
2023-12-06 13:29:32.749 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/2'
2023-12-06 13:29:32.752 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/2'
2023-12-06 13:29:32.752 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 13:29:32.754 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 13:29:33.457 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 13:29:33.470 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-06 13:29:33.475 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-06 13:29:33.475 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa/2 - - - 401 0 - 746.0248ms
2023-12-06 13:29:34.222 +07:00 [DBG] Connection id "0HMVM4IIM6KII" received FIN.
2023-12-06 13:29:34.222 +07:00 [DBG] Connection id "0HMVM4IIM6KII" is closed. The last processed stream ID was 1.
2023-12-06 13:29:34.223 +07:00 [DBG] Connection id "0HMVM4IIM6KII" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:29:34.223 +07:00 [DBG] The connection queue processing loop for 0HMVM4IIM6KII completed.
2023-12-06 13:29:34.225 +07:00 [DBG] Connection id "0HMVM4IIM6KII" stopped.
2023-12-06 13:29:39.168 +07:00 [DBG] Connection id "0HMVM4IIM6KIJ" accepted.
2023-12-06 13:29:39.169 +07:00 [DBG] Connection id "0HMVM4IIM6KIJ" started.
2023-12-06 13:29:39.171 +07:00 [DBG] Connection 0HMVM4IIM6KIJ established using the following protocol: "Tls13"
2023-12-06 13:29:39.173 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa/2 - -
2023-12-06 13:29:39.174 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/2'
2023-12-06 13:29:39.174 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/2'
2023-12-06 13:29:39.175 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 13:29:39.175 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 13:29:39.181 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 13:29:39.183 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-06 13:29:39.184 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-06 13:29:39.184 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa/2 - - - 401 0 - 11.5285ms
2023-12-06 13:29:44.232 +07:00 [DBG] Connection id "0HMVM4IIM6KIJ" received FIN.
2023-12-06 13:29:44.233 +07:00 [DBG] Connection id "0HMVM4IIM6KIJ" is closed. The last processed stream ID was 1.
2023-12-06 13:29:44.233 +07:00 [DBG] Connection id "0HMVM4IIM6KIJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:29:44.233 +07:00 [DBG] The connection queue processing loop for 0HMVM4IIM6KIJ completed.
2023-12-06 13:29:44.233 +07:00 [DBG] Connection id "0HMVM4IIM6KIJ" stopped.
2023-12-06 13:30:09.953 +07:00 [DBG] Connection id "0HMVM4IIM6KIK" accepted.
2023-12-06 13:30:09.954 +07:00 [DBG] Connection id "0HMVM4IIM6KIK" started.
2023-12-06 13:30:09.961 +07:00 [DBG] Connection 0HMVM4IIM6KIK established using the following protocol: "Tls13"
2023-12-06 13:30:09.962 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa - -
2023-12-06 13:30:09.962 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 13:30:09.963 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 13:30:09.963 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 13:30:09.963 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 13:30:09.968 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 13:30:09.971 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-06 13:30:09.972 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-06 13:30:09.972 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa - - - 401 0 - 9.9174ms
2023-12-06 13:30:19.283 +07:00 [DBG] Connection id "0HMVM4IIM6KIK" received FIN.
2023-12-06 13:30:19.284 +07:00 [DBG] Connection id "0HMVM4IIM6KIK" is closed. The last processed stream ID was 1.
2023-12-06 13:30:19.284 +07:00 [DBG] Connection id "0HMVM4IIM6KIK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:30:19.284 +07:00 [DBG] The connection queue processing loop for 0HMVM4IIM6KIK completed.
2023-12-06 13:30:19.284 +07:00 [DBG] Connection id "0HMVM4IIM6KIK" stopped.
2023-12-06 13:30:41.742 +07:00 [DBG] Connection id "0HMVM4IIM6KIL" accepted.
2023-12-06 13:30:41.744 +07:00 [DBG] Connection id "0HMVM4IIM6KIL" started.
2023-12-06 13:30:41.754 +07:00 [DBG] Connection 0HMVM4IIM6KIL established using the following protocol: "Tls13"
2023-12-06 13:30:41.755 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53
2023-12-06 13:30:41.760 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 13:30:41.760 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 13:30:41.760 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 13:30:41.779 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 13:30:41.779 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 13:30:41.782 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 13:30:41.808 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 13:30:41.809 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 13:30:41.809 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 13:30:41.809 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 13:30:41.810 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 13:30:41.810 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 13:30:41.811 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 13:30:42.275 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-06 13:30:42.297 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 13:30:42.338 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 13:30:42.340 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 13:30:42.341 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 13:30:42.341 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 13:30:42.390 +07:00 [DBG] Connection id "0HMVM4IIM6KIL", Request id "0HMVM4IIM6KIL:00000001": started reading request body.
2023-12-06 13:30:42.390 +07:00 [DBG] Connection id "0HMVM4IIM6KIL", Request id "0HMVM4IIM6KIL:00000001": done reading request body.
2023-12-06 13:30:42.477 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 13:30:42.477 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 13:30:42.477 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 13:30:42.485 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 13:30:42.980 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 13:30:43.237 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-06 13:30:43.422 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-06 13:30:43.453 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 13:30:43.455 +07:00 [DBG] Creating DbConnection.
2023-12-06 13:30:43.482 +07:00 [DBG] Created DbConnection. (24ms).
2023-12-06 13:30:43.489 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (36ms).
2023-12-06 13:30:43.500 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (48ms).
2023-12-06 13:30:43.502 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 13:30:44.385 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 13:30:44.391 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 13:30:44.518 +07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 13:30:44.548 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 13:30:44.571 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 13:30:44.581 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 56ms reading results.
2023-12-06 13:30:44.584 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 13:30:44.589 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (5ms).
2023-12-06 13:30:44.964 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 13:30:44.966 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 13:30:44.966 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 13:30:44.966 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 13:30:44.967 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 13:30:44.967 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 13:30:45.013 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 3198.6404ms
2023-12-06 13:30:45.014 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 13:30:45.017 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 13:30:45.022 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 13:30:45.025 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-12-06 13:30:45.026 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53 - 200 359 application/json;+charset=utf-8 3270.4404ms
2023-12-06 13:30:46.921 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa - -
2023-12-06 13:30:46.922 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 13:30:46.922 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 13:30:46.922 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 13:30:46.922 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 13:30:46.922 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 13:30:46.922 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-06 13:30:46.922 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-06 13:30:46.922 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa - - - 401 0 - 0.8670ms
2023-12-06 13:30:49.332 +07:00 [DBG] Connection id "0HMVM4IIM6KIL" received FIN.
2023-12-06 13:30:49.333 +07:00 [DBG] Connection id "0HMVM4IIM6KIL" is closed. The last processed stream ID was 3.
2023-12-06 13:30:49.333 +07:00 [DBG] Connection id "0HMVM4IIM6KIL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:30:49.333 +07:00 [DBG] The connection queue processing loop for 0HMVM4IIM6KIL completed.
2023-12-06 13:30:49.333 +07:00 [DBG] Connection id "0HMVM4IIM6KIL" stopped.
2023-12-06 13:31:07.724 +07:00 [DBG] Connection id "0HMVM4IIM6KIM" accepted.
2023-12-06 13:31:07.724 +07:00 [DBG] Connection id "0HMVM4IIM6KIM" started.
2023-12-06 13:31:07.727 +07:00 [DBG] Connection 0HMVM4IIM6KIM established using the following protocol: "Tls13"
2023-12-06 13:31:07.728 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa - -
2023-12-06 13:31:07.728 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 13:31:07.728 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 13:31:07.729 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 13:31:07.730 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 13:31:07.791 +07:00 [DBG] Successfully validated the token.
2023-12-06 13:31:07.793 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 13:31:07.794 +07:00 [DBG] Authorization was successful.
2023-12-06 13:31:07.794 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 13:31:07.797 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 13:31:07.797 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 13:31:07.797 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 13:31:07.797 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 13:31:07.797 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 13:31:07.797 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 13:31:07.797 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 13:31:07.864 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 13:31:08.048 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 13:31:11.545 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .OrderBy( => .Name)'
2023-12-06 13:31:11.551 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v
        ORDER BY v.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)'
2023-12-06 13:31:11.559 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 13:31:11.559 +07:00 [DBG] Creating DbConnection.
2023-12-06 13:31:11.559 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 13:31:11.559 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 13:31:11.559 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 13:31:11.562 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 13:31:11.565 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 13:31:11.565 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 13:31:11.606 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 13:31:11.615 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 13:31:11.628 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 13:31:11.628 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 13:31:11.631 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 13:31:11.631 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 24ms reading results.
2023-12-06 13:31:11.632 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 13:31:11.633 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 13:31:11.649 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 13:31:11.651 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 13:31:11.651 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 13:31:11.651 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 13:31:11.658 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 3860.683ms
2023-12-06 13:31:11.658 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 13:31:11.659 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 13:31:11.660 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 13:31:11.660 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 13:31:11.660 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa - - - 200 387 application/json;+charset=utf-8 3931.8898ms
2023-12-06 13:31:16.482 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa/2 - -
2023-12-06 13:31:16.482 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/2'
2023-12-06 13:31:16.482 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/2'
2023-12-06 13:31:16.482 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 13:31:16.482 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 13:31:16.483 +07:00 [DBG] Successfully validated the token.
2023-12-06 13:31:16.483 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 13:31:16.484 +07:00 [DBG] Authorization was successful.
2023-12-06 13:31:16.484 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 13:31:16.493 +07:00 [INF] Route matched with {action = "GetVilla", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVilla(Int32) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 13:31:16.493 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 13:31:16.493 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 13:31:16.493 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 13:31:16.493 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 13:31:16.493 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 13:31:16.493 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 13:31:16.494 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 13:31:16.497 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-06 13:31:16.499 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-06 13:31:16.502 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-06 13:31:16.502 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-06 13:31:16.502 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-06 13:31:16.504 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-06 13:31:16.564 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 13:31:16.567 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(s => s.Id == __id_0)
    .FirstOrDefault()'
2023-12-06 13:31:16.574 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MOC1.Data.ApplicationContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-06 13:31:16.577 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 13:31:16.577 +07:00 [DBG] Creating DbConnection.
2023-12-06 13:31:16.577 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 13:31:16.577 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 13:31:16.577 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 13:31:16.577 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 13:31:16.577 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 13:31:16.578 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-12-06 13:31:16.584 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-12-06 13:31:16.585 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 13:31:16.586 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 13:31:16.586 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 1ms reading results.
2023-12-06 13:31:16.586 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 13:31:16.586 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 13:31:16.589 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 13:31:16.589 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 13:31:16.589 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 13:31:16.589 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 13:31:16.589 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVilla (MOC1) in 96.4391ms
2023-12-06 13:31:16.589 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 13:31:16.590 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 13:31:16.590 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 13:31:16.590 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 13:31:16.590 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa/2 - - - 200 197 application/json;+charset=utf-8 108.0422ms
2023-12-06 13:31:19.397 +07:00 [DBG] Connection id "0HMVM4IIM6KIM" received FIN.
2023-12-06 13:31:19.397 +07:00 [DBG] Connection id "0HMVM4IIM6KIM" is closed. The last processed stream ID was 3.
2023-12-06 13:31:19.397 +07:00 [DBG] Connection id "0HMVM4IIM6KIM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:31:19.397 +07:00 [DBG] The connection queue processing loop for 0HMVM4IIM6KIM completed.
2023-12-06 13:31:19.398 +07:00 [DBG] Connection id "0HMVM4IIM6KIM" stopped.
2023-12-06 13:31:31.848 +07:00 [DBG] Connection id "0HMVM4IIM6KIN" accepted.
2023-12-06 13:31:31.848 +07:00 [DBG] Connection id "0HMVM4IIM6KIN" started.
2023-12-06 13:31:31.851 +07:00 [DBG] Connection 0HMVM4IIM6KIN established using the following protocol: "Tls13"
2023-12-06 13:31:31.872 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7189/api/Villa/2 - -
2023-12-06 13:31:31.873 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/2'
2023-12-06 13:31:31.873 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.DeleteVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/2'
2023-12-06 13:31:31.873 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.DeleteVilla (MOC1)'
2023-12-06 13:31:31.873 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 13:31:31.874 +07:00 [DBG] Successfully validated the token.
2023-12-06 13:31:31.874 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 13:31:31.874 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (custom)
2023-12-06 13:31:31.877 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-06 13:31:31.877 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7189/api/Villa/2 - - - 403 0 - 5.0300ms
2023-12-06 13:31:39.422 +07:00 [DBG] Connection id "0HMVM4IIM6KIN" received FIN.
2023-12-06 13:31:39.422 +07:00 [DBG] Connection id "0HMVM4IIM6KIN" is closed. The last processed stream ID was 1.
2023-12-06 13:31:39.422 +07:00 [DBG] Connection id "0HMVM4IIM6KIN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:31:39.423 +07:00 [DBG] The connection queue processing loop for 0HMVM4IIM6KIN completed.
2023-12-06 13:31:39.423 +07:00 [DBG] Connection id "0HMVM4IIM6KIN" stopped.
2023-12-06 13:31:40.113 +07:00 [DBG] Connection id "0HMVM4IIM6KIO" accepted.
2023-12-06 13:31:40.113 +07:00 [DBG] Connection id "0HMVM4IIM6KIO" started.
2023-12-06 13:31:40.116 +07:00 [DBG] Connection 0HMVM4IIM6KIO established using the following protocol: "Tls13"
2023-12-06 13:31:40.118 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7189/api/Villa/2 - -
2023-12-06 13:31:40.118 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/2'
2023-12-06 13:31:40.118 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.DeleteVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/2'
2023-12-06 13:31:40.118 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.DeleteVilla (MOC1)'
2023-12-06 13:31:40.118 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 13:31:40.118 +07:00 [DBG] Successfully validated the token.
2023-12-06 13:31:40.119 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 13:31:40.119 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (custom)
2023-12-06 13:31:40.119 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-06 13:31:40.119 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7189/api/Villa/2 - - - 403 0 - 1.6699ms
2023-12-06 13:31:49.426 +07:00 [DBG] Connection id "0HMVM4IIM6KIO" received FIN.
2023-12-06 13:31:49.427 +07:00 [DBG] Connection id "0HMVM4IIM6KIO" is closed. The last processed stream ID was 1.
2023-12-06 13:31:49.427 +07:00 [DBG] Connection id "0HMVM4IIM6KIO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:31:49.427 +07:00 [DBG] The connection queue processing loop for 0HMVM4IIM6KIO completed.
2023-12-06 13:31:49.427 +07:00 [DBG] Connection id "0HMVM4IIM6KIO" stopped.
2023-12-06 13:32:22.624 +07:00 [DBG] Connection id "0HMVM4IIM6KIP" accepted.
2023-12-06 13:32:22.626 +07:00 [DBG] Connection id "0HMVM4IIM6KIP" started.
2023-12-06 13:32:22.645 +07:00 [DBG] Connection 0HMVM4IIM6KIP established using the following protocol: "Tls13"
2023-12-06 13:32:22.647 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7189/api/Villa/2 - -
2023-12-06 13:32:22.647 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/2'
2023-12-06 13:32:22.647 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.DeleteVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/2'
2023-12-06 13:32:22.647 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.DeleteVilla (MOC1)'
2023-12-06 13:32:22.647 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 13:32:22.651 +07:00 [DBG] Successfully validated the token.
2023-12-06 13:32:22.651 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 13:32:22.653 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (custom)
2023-12-06 13:32:22.653 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-06 13:32:22.653 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7189/api/Villa/2 - - - 403 0 - 6.1564ms
2023-12-06 13:32:29.477 +07:00 [DBG] Connection id "0HMVM4IIM6KIP" received FIN.
2023-12-06 13:32:29.478 +07:00 [DBG] Connection id "0HMVM4IIM6KIP" is closed. The last processed stream ID was 1.
2023-12-06 13:32:29.478 +07:00 [DBG] Connection id "0HMVM4IIM6KIP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:32:29.478 +07:00 [DBG] The connection queue processing loop for 0HMVM4IIM6KIP completed.
2023-12-06 13:32:29.479 +07:00 [DBG] Connection id "0HMVM4IIM6KIP" stopped.
2023-12-06 13:47:43.986 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 13:47:44.215 +07:00 [DBG] Hosting starting
2023-12-06 13:47:44.267 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-06 13:47:44.277 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-06 13:47:44.300 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-06 13:47:44.316 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-06 13:47:44.319 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 13:47:44.322 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-06 13:47:44.323 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 13:47:44.326 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-06 13:47:44.327 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-06 13:47:44.328 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-06 13:47:44.329 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-06 13:47:44.746 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 13:47:44.746 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 13:47:44.746 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 13:47:44.746 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 13:47:44.746 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 13:47:44.746 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 13:47:44.746 +07:00 [INF] Hosting environment: Development
2023-12-06 13:47:44.746 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 13:47:44.746 +07:00 [DBG] Hosting started
2023-12-06 13:47:45.085 +07:00 [DBG] Connection id "0HMVM4T09DTL1" received FIN.
2023-12-06 13:47:45.090 +07:00 [DBG] Connection id "0HMVM4T09DTL1" accepted.
2023-12-06 13:47:45.091 +07:00 [DBG] Connection id "0HMVM4T09DTL1" started.
2023-12-06 13:47:45.116 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 13:47:45.190 +07:00 [DBG] Connection id "0HMVM4T09DTL1" stopped.
2023-12-06 13:47:45.194 +07:00 [DBG] Connection id "0HMVM4T09DTL1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:47:46.272 +07:00 [DBG] Connection id "0HMVM4T09DTL2" accepted.
2023-12-06 13:47:46.283 +07:00 [DBG] Connection id "0HMVM4T09DTL2" started.
2023-12-06 13:47:46.798 +07:00 [DBG] Connection 0HMVM4T09DTL2 established using the following protocol: "Tls13"
2023-12-06 13:47:47.429 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 13:47:47.540 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 13:47:47.632 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 13:47:47.632 +07:00 [DBG] Request did not match any endpoints
2023-12-06 13:47:47.988 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 13:47:48.361 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 13:47:48.366 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 949.4500ms
2023-12-06 13:47:48.527 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 13:47:48.527 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 13:47:48.556 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 29.1003ms
2023-12-06 13:47:48.674 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 146.7759ms
2023-12-06 13:47:51.113 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 13:47:51.113 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 13:47:51.113 +07:00 [DBG] Request did not match any endpoints
2023-12-06 13:47:51.503 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 390.1336ms
2023-12-06 13:47:56.200 +07:00 [DBG] Connection id "0HMVM4T09DTL2" received FIN.
2023-12-06 13:47:56.203 +07:00 [DBG] The connection queue processing loop for 0HMVM4T09DTL2 completed.
2023-12-06 13:47:56.207 +07:00 [DBG] Connection id "0HMVM4T09DTL2" is closed. The last processed stream ID was 7.
2023-12-06 13:47:56.207 +07:00 [DBG] Connection id "0HMVM4T09DTL2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 13:47:56.215 +07:00 [DBG] Connection id "0HMVM4T09DTL2" stopped.
2023-12-06 14:35:49.071 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 14:35:49.450 +07:00 [DBG] Hosting starting
2023-12-06 14:35:49.539 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-06 14:35:49.548 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-06 14:35:49.576 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-06 14:35:49.598 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-06 14:35:49.602 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 14:35:49.613 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-06 14:35:49.617 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 14:35:49.623 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-06 14:35:49.625 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-06 14:35:49.627 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-06 14:35:49.629 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-06 14:35:51.440 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 14:35:51.440 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 14:35:51.441 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 14:35:51.441 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 14:35:51.441 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 14:35:51.441 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 14:35:51.442 +07:00 [INF] Hosting environment: Development
2023-12-06 14:35:51.442 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 14:35:51.442 +07:00 [DBG] Hosting started
2023-12-06 14:35:51.952 +07:00 [DBG] Connection id "0HMVM5NSKNDSM" accepted.
2023-12-06 14:35:51.957 +07:00 [DBG] Connection id "0HMVM5NSKNDSM" started.
2023-12-06 14:35:51.962 +07:00 [DBG] Connection id "0HMVM5NSKNDSM" received FIN.
2023-12-06 14:35:52.081 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 14:35:52.178 +07:00 [DBG] Connection id "0HMVM5NSKNDSM" stopped.
2023-12-06 14:35:52.237 +07:00 [DBG] Connection id "0HMVM5NSKNDSM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:35:53.135 +07:00 [DBG] Connection id "0HMVM5NSKNDSN" accepted.
2023-12-06 14:35:53.501 +07:00 [DBG] Connection id "0HMVM5NSKNDSN" started.
2023-12-06 14:35:54.489 +07:00 [DBG] Connection 0HMVM5NSKNDSN established using the following protocol: "Tls13"
2023-12-06 14:35:56.656 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 14:35:57.370 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 14:35:57.541 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 14:35:57.541 +07:00 [DBG] Request did not match any endpoints
2023-12-06 14:35:58.377 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 14:35:58.923 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 14:35:58.932 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 2280.7026ms
2023-12-06 14:36:00.764 +07:00 [DBG] Connection id "0HMVM5NSKNDSN" received FIN.
2023-12-06 14:36:00.775 +07:00 [DBG] The connection queue processing loop for 0HMVM5NSKNDSN completed.
2023-12-06 14:36:00.780 +07:00 [DBG] Connection id "0HMVM5NSKNDSN" is closed. The last processed stream ID was 1.
2023-12-06 14:36:00.781 +07:00 [DBG] Connection id "0HMVM5NSKNDSN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:36:00.800 +07:00 [DBG] Connection id "0HMVM5NSKNDSN" stopped.
2023-12-06 14:36:01.310 +07:00 [DBG] Connection id "0HMVM5NSKNDSO" accepted.
2023-12-06 14:36:01.312 +07:00 [DBG] Connection id "0HMVM5NSKNDSO" started.
2023-12-06 14:36:01.333 +07:00 [DBG] Connection 0HMVM5NSKNDSO established using the following protocol: "Tls13"
2023-12-06 14:36:01.386 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 14:36:01.412 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 36.3289ms
2023-12-06 14:36:01.550 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 14:36:01.813 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 263.2633ms
2023-12-06 14:36:05.749 +07:00 [DBG] Connection id "0HMVM5NSKNDSO" received FIN.
2023-12-06 14:36:05.749 +07:00 [DBG] Connection id "0HMVM5NSKNDSO" is closed. The last processed stream ID was 3.
2023-12-06 14:36:05.749 +07:00 [DBG] Connection id "0HMVM5NSKNDSO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:36:05.750 +07:00 [DBG] The connection queue processing loop for 0HMVM5NSKNDSO completed.
2023-12-06 14:36:05.750 +07:00 [DBG] Connection id "0HMVM5NSKNDSO" stopped.
2023-12-06 14:36:05.989 +07:00 [DBG] Connection id "0HMVM5NSKNDSP" accepted.
2023-12-06 14:36:05.989 +07:00 [DBG] Connection id "0HMVM5NSKNDSP" started.
2023-12-06 14:36:05.994 +07:00 [DBG] Connection 0HMVM5NSKNDSP established using the following protocol: "Tls13"
2023-12-06 14:36:05.996 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 14:36:05.997 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 14:36:05.997 +07:00 [DBG] Request did not match any endpoints
2023-12-06 14:36:06.395 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 398.9441ms
2023-12-06 14:36:10.755 +07:00 [DBG] Connection id "0HMVM5NSKNDSP" received FIN.
2023-12-06 14:36:10.755 +07:00 [DBG] Connection id "0HMVM5NSKNDSP" is closed. The last processed stream ID was 1.
2023-12-06 14:36:10.755 +07:00 [DBG] Connection id "0HMVM5NSKNDSP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:36:10.755 +07:00 [DBG] The connection queue processing loop for 0HMVM5NSKNDSP completed.
2023-12-06 14:36:10.756 +07:00 [DBG] Connection id "0HMVM5NSKNDSP" stopped.
2023-12-06 14:38:25.523 +07:00 [DBG] Connection id "0HMVM5NSKNDSQ" accepted.
2023-12-06 14:38:25.528 +07:00 [DBG] Connection id "0HMVM5NSKNDSQ" started.
2023-12-06 14:38:25.550 +07:00 [DBG] Connection 0HMVM5NSKNDSQ established using the following protocol: "Tls13"
2023-12-06 14:38:25.633 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa - -
2023-12-06 14:38:25.667 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 14:38:25.671 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 14:38:25.675 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:38:25.694 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 14:38:26.221 +07:00 [DBG] Successfully validated the token.
2023-12-06 14:38:26.223 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 14:38:26.239 +07:00 [DBG] Authorization was successful.
2023-12-06 14:38:26.242 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:38:26.327 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 14:38:26.331 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 14:38:26.331 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 14:38:26.333 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 14:38:26.333 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 14:38:26.333 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 14:38:26.336 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:38:26.640 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-06 14:38:26.788 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:38:27.477 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 14:38:28.765 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .OrderBy( => .Name)'
2023-12-06 14:38:28.971 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v
        ORDER BY v.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)'
2023-12-06 14:38:29.018 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 14:38:29.022 +07:00 [DBG] Creating DbConnection.
2023-12-06 14:38:29.063 +07:00 [DBG] Created DbConnection. (38ms).
2023-12-06 14:38:29.068 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2023-12-06 14:38:29.070 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (56ms).
2023-12-06 14:38:29.076 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:29.346 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:29.354 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 14:38:29.519 +07:00 [INF] Executed DbCommand (167ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 14:38:29.552 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:38:29.589 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:38:29.590 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:38:29.597 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 14:38:29.603 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 79ms reading results.
2023-12-06 14:38:29.606 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:29.614 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (7ms).
2023-12-06 14:38:29.642 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 14:38:29.646 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-12-06 14:38:29.654 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-12-06 14:38:29.655 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-12-06 14:38:29.659 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 3322.0762ms
2023-12-06 14:38:29.660 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:38:29.664 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 14:38:29.667 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:29.668 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-06 14:38:29.669 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa - - - 406 0 - 4036.6295ms
2023-12-06 14:38:30.958 +07:00 [DBG] Connection id "0HMVM5NSKNDSQ" received FIN.
2023-12-06 14:38:30.959 +07:00 [DBG] Connection id "0HMVM5NSKNDSQ" is closed. The last processed stream ID was 1.
2023-12-06 14:38:30.964 +07:00 [DBG] Connection id "0HMVM5NSKNDSQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:38:30.966 +07:00 [DBG] The connection queue processing loop for 0HMVM5NSKNDSQ completed.
2023-12-06 14:38:30.966 +07:00 [DBG] Connection id "0HMVM5NSKNDSQ" stopped.
2023-12-06 14:38:36.346 +07:00 [DBG] Connection id "0HMVM5NSKNDSR" accepted.
2023-12-06 14:38:36.347 +07:00 [DBG] Connection id "0HMVM5NSKNDSR" started.
2023-12-06 14:38:36.363 +07:00 [DBG] Connection 0HMVM5NSKNDSR established using the following protocol: "Tls13"
2023-12-06 14:38:36.368 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa - -
2023-12-06 14:38:36.370 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 14:38:36.371 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 14:38:36.371 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:38:36.371 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 14:38:36.384 +07:00 [DBG] Successfully validated the token.
2023-12-06 14:38:36.386 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 14:38:36.398 +07:00 [DBG] Authorization was successful.
2023-12-06 14:38:36.399 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:38:36.400 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 14:38:36.400 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 14:38:36.400 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 14:38:36.400 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 14:38:36.400 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 14:38:36.400 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 14:38:36.400 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:38:36.401 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:38:36.430 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 14:38:36.437 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 14:38:36.437 +07:00 [DBG] Creating DbConnection.
2023-12-06 14:38:36.440 +07:00 [DBG] Created DbConnection. (1ms).
2023-12-06 14:38:36.442 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-12-06 14:38:36.442 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-12-06 14:38:36.443 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:36.446 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:36.446 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 14:38:36.454 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 14:38:36.455 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:38:36.456 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:38:36.456 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:38:36.458 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 14:38:36.458 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 4ms reading results.
2023-12-06 14:38:36.459 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:36.459 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 14:38:36.460 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 14:38:36.460 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 14:38:36.461 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 14:38:36.461 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 14:38:36.627 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 227.2579ms
2023-12-06 14:38:36.627 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:38:36.627 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 14:38:36.628 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:36.628 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 14:38:36.629 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa - - - 200 387 application/json;+charset=utf-8 260.5002ms
2023-12-06 14:38:40.980 +07:00 [DBG] Connection id "0HMVM5NSKNDSR" received FIN.
2023-12-06 14:38:40.980 +07:00 [DBG] Connection id "0HMVM5NSKNDSR" is closed. The last processed stream ID was 1.
2023-12-06 14:38:40.980 +07:00 [DBG] Connection id "0HMVM5NSKNDSR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:38:40.980 +07:00 [DBG] The connection queue processing loop for 0HMVM5NSKNDSR completed.
2023-12-06 14:38:40.981 +07:00 [DBG] Connection id "0HMVM5NSKNDSR" stopped.
2023-12-06 14:38:51.669 +07:00 [DBG] Connection id "0HMVM5NSKNDSS" accepted.
2023-12-06 14:38:51.670 +07:00 [DBG] Connection id "0HMVM5NSKNDSS" started.
2023-12-06 14:38:51.767 +07:00 [DBG] Connection 0HMVM5NSKNDSS established using the following protocol: "Tls13"
2023-12-06 14:38:52.086 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa - -
2023-12-06 14:38:52.086 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 14:38:52.086 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 14:38:52.086 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:38:52.086 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 14:38:52.092 +07:00 [DBG] Successfully validated the token.
2023-12-06 14:38:52.092 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 14:38:52.095 +07:00 [DBG] Authorization was successful.
2023-12-06 14:38:52.095 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:38:52.096 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 14:38:52.096 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 14:38:52.096 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 14:38:52.096 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 14:38:52.096 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 14:38:52.097 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 14:38:52.097 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:38:52.101 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:38:52.219 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 14:38:52.221 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 14:38:52.222 +07:00 [DBG] Creating DbConnection.
2023-12-06 14:38:52.222 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 14:38:52.222 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:38:52.222 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:38:52.222 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:52.222 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:52.222 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 14:38:52.228 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 14:38:52.228 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:38:52.228 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:38:52.228 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:38:52.228 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 14:38:52.228 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 14:38:52.228 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:52.228 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 14:38:52.229 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 14:38:52.229 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 14:38:52.229 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 14:38:52.229 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 14:38:52.233 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 136.7502ms
2023-12-06 14:38:52.233 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:38:52.234 +07:00 [DBG] Connection id "0HMVM5NSKNDSS" completed keep alive response.
2023-12-06 14:38:52.234 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 14:38:52.234 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 14:38:52.234 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 14:38:52.235 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa - - - 200 387 application/json;+charset=utf-8 148.9333ms
2023-12-06 14:38:52.305 +07:00 [DBG] Connection id "0HMVM5NSKNDSS" reset.
2023-12-06 14:38:52.306 +07:00 [DBG] Connection id "0HMVM5NSKNDSS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:38:52.307 +07:00 [DBG] Connection id "0HMVM5NSKNDSS" disconnecting.
2023-12-06 14:38:52.317 +07:00 [DBG] Connection id "0HMVM5NSKNDSS" stopped.
2023-12-06 14:41:24.573 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 14:41:24.681 +07:00 [DBG] Hosting starting
2023-12-06 14:41:24.705 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-06 14:41:24.709 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-06 14:41:24.724 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-06 14:41:24.734 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-06 14:41:24.736 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 14:41:24.737 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-06 14:41:24.738 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 14:41:24.740 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-06 14:41:24.741 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-06 14:41:24.742 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-06 14:41:24.742 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-06 14:41:25.016 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 14:41:25.016 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 14:41:25.016 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 14:41:25.016 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 14:41:25.016 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 14:41:25.016 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 14:41:25.016 +07:00 [INF] Hosting environment: Development
2023-12-06 14:41:25.016 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 14:41:25.016 +07:00 [DBG] Hosting started
2023-12-06 14:41:25.053 +07:00 [DBG] Connection id "0HMVM5QVTE4NU" received FIN.
2023-12-06 14:41:25.057 +07:00 [DBG] Connection id "0HMVM5QVTE4NU" accepted.
2023-12-06 14:41:25.059 +07:00 [DBG] Connection id "0HMVM5QVTE4NU" started.
2023-12-06 14:41:25.092 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 14:41:25.160 +07:00 [DBG] Connection id "0HMVM5QVTE4NU" stopped.
2023-12-06 14:41:25.163 +07:00 [DBG] Connection id "0HMVM5QVTE4NU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:41:25.911 +07:00 [DBG] Connection id "0HMVM5QVTE4NV" accepted.
2023-12-06 14:41:25.912 +07:00 [DBG] Connection id "0HMVM5QVTE4NV" started.
2023-12-06 14:41:26.110 +07:00 [DBG] Connection 0HMVM5QVTE4NV established using the following protocol: "Tls13"
2023-12-06 14:41:26.609 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 14:41:26.797 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 14:41:26.955 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 14:41:26.958 +07:00 [DBG] Request did not match any endpoints
2023-12-06 14:41:27.280 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 14:41:27.609 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 14:41:27.625 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 1043.9598ms
2023-12-06 14:41:27.790 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 14:41:27.793 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 14:41:27.923 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 129.2287ms
2023-12-06 14:41:27.996 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 205.3927ms
2023-12-06 14:41:30.582 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 14:41:30.585 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 14:41:30.585 +07:00 [DBG] Request did not match any endpoints
2023-12-06 14:41:30.862 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 279.6386ms
2023-12-06 14:41:34.362 +07:00 [DBG] Connection id "0HMVM5QVTE4NV" received FIN.
2023-12-06 14:41:34.366 +07:00 [DBG] The connection queue processing loop for 0HMVM5QVTE4NV completed.
2023-12-06 14:41:34.368 +07:00 [DBG] Connection id "0HMVM5QVTE4NV" is closed. The last processed stream ID was 7.
2023-12-06 14:41:34.368 +07:00 [DBG] Connection id "0HMVM5QVTE4NV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:41:34.380 +07:00 [DBG] Connection id "0HMVM5QVTE4NV" stopped.
2023-12-06 14:44:11.335 +07:00 [DBG] Connection id "0HMVM5QVTE4O0" accepted.
2023-12-06 14:44:11.337 +07:00 [DBG] Connection id "0HMVM5QVTE4O0" started.
2023-12-06 14:44:11.357 +07:00 [DBG] Connection id "0HMVM5QVTE4O0" received FIN.
2023-12-06 14:44:11.418 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed because the remote party sent a TLS alert: 'UnknownCA'.
 ---> System.ComponentModel.Win32Exception (0x80090326): The message received was unexpected or badly formatted.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 14:44:11.427 +07:00 [DBG] Connection id "0HMVM5QVTE4O0" stopped.
2023-12-06 14:44:11.430 +07:00 [DBG] Connection id "0HMVM5QVTE4O0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:45:16.422 +07:00 [DBG] Connection id "0HMVM5QVTE4O1" accepted.
2023-12-06 14:45:16.429 +07:00 [DBG] Connection id "0HMVM5QVTE4O1" started.
2023-12-06 14:45:16.433 +07:00 [DBG] Connection id "0HMVM5QVTE4O1" received FIN.
2023-12-06 14:45:16.441 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed because the remote party sent a TLS alert: 'UnknownCA'.
 ---> System.ComponentModel.Win32Exception (0x80090326): The message received was unexpected or badly formatted.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 14:45:16.490 +07:00 [DBG] Connection id "0HMVM5QVTE4O1" stopped.
2023-12-06 14:45:16.497 +07:00 [DBG] Connection id "0HMVM5QVTE4O1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:45:33.011 +07:00 [DBG] Connection id "0HMVM5QVTE4O2" accepted.
2023-12-06 14:45:33.012 +07:00 [DBG] Connection id "0HMVM5QVTE4O2" started.
2023-12-06 14:45:33.028 +07:00 [DBG] Connection id "0HMVM5QVTE4O2" received FIN.
2023-12-06 14:45:33.029 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed because the remote party sent a TLS alert: 'UnknownCA'.
 ---> System.ComponentModel.Win32Exception (0x80090326): The message received was unexpected or badly formatted.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 14:45:33.029 +07:00 [DBG] Connection id "0HMVM5QVTE4O2" stopped.
2023-12-06 14:45:33.029 +07:00 [DBG] Connection id "0HMVM5QVTE4O2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:54:43.321 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 14:54:43.499 +07:00 [DBG] Hosting starting
2023-12-06 14:54:43.537 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-06 14:54:43.545 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-06 14:54:43.569 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-06 14:54:43.585 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-06 14:54:43.589 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 14:54:43.592 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-06 14:54:43.595 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 14:54:43.599 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-06 14:54:43.601 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-06 14:54:43.603 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-06 14:54:43.604 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-06 14:54:43.965 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 14:54:43.965 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 14:54:43.965 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 14:54:43.965 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 14:54:43.965 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 14:54:43.966 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 14:54:43.966 +07:00 [INF] Hosting environment: Development
2023-12-06 14:54:43.966 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 14:54:43.966 +07:00 [DBG] Hosting started
2023-12-06 14:54:44.308 +07:00 [DBG] Connection id "0HMVM62E3NGL9" received FIN.
2023-12-06 14:54:44.317 +07:00 [DBG] Connection id "0HMVM62E3NGL9" accepted.
2023-12-06 14:54:44.318 +07:00 [DBG] Connection id "0HMVM62E3NGL9" started.
2023-12-06 14:54:44.363 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 14:54:44.482 +07:00 [DBG] Connection id "0HMVM62E3NGL9" stopped.
2023-12-06 14:54:44.484 +07:00 [DBG] Connection id "0HMVM62E3NGL9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:54:45.901 +07:00 [DBG] Connection id "0HMVM62E3NGLA" accepted.
2023-12-06 14:54:45.901 +07:00 [DBG] Connection id "0HMVM62E3NGLA" started.
2023-12-06 14:54:45.964 +07:00 [DBG] Connection 0HMVM62E3NGLA established using the following protocol: "Tls13"
2023-12-06 14:54:46.063 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 14:54:46.099 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 14:54:46.136 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 14:54:46.136 +07:00 [DBG] Request did not match any endpoints
2023-12-06 14:54:46.338 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 14:54:46.504 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 14:54:46.512 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 451.2220ms
2023-12-06 14:54:46.616 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 14:54:46.616 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 14:54:46.637 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 20.7212ms
2023-12-06 14:54:46.656 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.2378ms
2023-12-06 14:54:49.248 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 14:54:49.248 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 14:54:49.248 +07:00 [DBG] Request did not match any endpoints
2023-12-06 14:54:49.415 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 167.2419ms
2023-12-06 14:54:52.407 +07:00 [DBG] Connection id "0HMVM62E3NGLA" received FIN.
2023-12-06 14:54:52.410 +07:00 [DBG] The connection queue processing loop for 0HMVM62E3NGLA completed.
2023-12-06 14:54:52.412 +07:00 [DBG] Connection id "0HMVM62E3NGLA" is closed. The last processed stream ID was 7.
2023-12-06 14:54:52.412 +07:00 [DBG] Connection id "0HMVM62E3NGLA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:54:52.423 +07:00 [DBG] Connection id "0HMVM62E3NGLA" stopped.
2023-12-06 14:55:17.279 +07:00 [DBG] Connection id "0HMVM62E3NGLB" accepted.
2023-12-06 14:55:17.284 +07:00 [DBG] Connection id "0HMVM62E3NGLB" started.
2023-12-06 14:55:17.319 +07:00 [DBG] Connection 0HMVM62E3NGLB established using the following protocol: "Tls13"
2023-12-06 14:55:17.322 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/UsersAuth/register application/json-patch+json 91
2023-12-06 14:55:17.332 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/register'
2023-12-06 14:55:17.336 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Register (MOC1)' with route pattern 'api/UsersAuth/register' is valid for the request path '/api/UsersAuth/register'
2023-12-06 14:55:17.337 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Register (MOC1)'
2023-12-06 14:55:17.339 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 14:55:17.418 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 14:55:17.421 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Register (MOC1)'
2023-12-06 14:55:17.447 +07:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MOC1.DTO.RegisterationRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 14:55:17.448 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 14:55:17.449 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 14:55:17.450 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 14:55:17.450 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 14:55:17.450 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 14:55:17.453 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 14:55:17.619 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-06 14:55:17.641 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 14:55:17.659 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO' ...
2023-12-06 14:55:17.661 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO' using the name '' in request data ...
2023-12-06 14:55:17.662 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 14:55:17.663 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 14:55:17.683 +07:00 [DBG] Connection id "0HMVM62E3NGLB", Request id "0HMVM62E3NGLB:00000001": started reading request body.
2023-12-06 14:55:17.684 +07:00 [DBG] Connection id "0HMVM62E3NGLB", Request id "0HMVM62E3NGLB:00000001": done reading request body.
2023-12-06 14:55:17.761 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO'.
2023-12-06 14:55:17.761 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO'.
2023-12-06 14:55:17.761 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO' ...
2023-12-06 14:55:17.770 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO'.
2023-12-06 14:55:18.261 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 14:55:18.326 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName == __username_0)'
2023-12-06 14:55:18.511 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE l.UserName == @__username_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-06 14:55:18.545 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 14:55:18.546 +07:00 [DBG] Creating DbConnection.
2023-12-06 14:55:18.571 +07:00 [DBG] Created DbConnection. (22ms).
2023-12-06 14:55:18.576 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (31ms).
2023-12-06 14:55:18.585 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (41ms).
2023-12-06 14:55:18.587 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:18.825 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:18.831 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE [l].[UserName] = @__username_0
2023-12-06 14:55:18.905 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE [l].[UserName] = @__username_0
2023-12-06 14:55:18.927 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:55:18.947 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 14:55:18.958 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 46ms reading results.
2023-12-06 14:55:18.961 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:18.971 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (9ms).
2023-12-06 14:55:18.975 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 14:55:18.976 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 14:55:18.977 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 14:55:18.977 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 14:55:18.978 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 14:55:18.978 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 14:55:19.023 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Register (MOC1) in 1569.6069ms
2023-12-06 14:55:19.023 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Register (MOC1)'
2023-12-06 14:55:19.026 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 14:55:19.029 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:19.031 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-06 14:55:19.033 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/UsersAuth/register application/json-patch+json 91 - 400 95 application/json;+charset=utf-8 1710.5542ms
2023-12-06 14:55:22.460 +07:00 [DBG] Connection id "0HMVM62E3NGLB" received FIN.
2023-12-06 14:55:22.460 +07:00 [DBG] Connection id "0HMVM62E3NGLB" is closed. The last processed stream ID was 1.
2023-12-06 14:55:22.460 +07:00 [DBG] Connection id "0HMVM62E3NGLB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:55:22.461 +07:00 [DBG] The connection queue processing loop for 0HMVM62E3NGLB completed.
2023-12-06 14:55:22.461 +07:00 [DBG] Connection id "0HMVM62E3NGLB" stopped.
2023-12-06 14:55:30.858 +07:00 [DBG] Connection id "0HMVM62E3NGLC" accepted.
2023-12-06 14:55:30.858 +07:00 [DBG] Connection id "0HMVM62E3NGLC" started.
2023-12-06 14:55:30.863 +07:00 [DBG] Connection 0HMVM62E3NGLC established using the following protocol: "Tls13"
2023-12-06 14:55:30.864 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/UsersAuth/register application/json-patch+json 92
2023-12-06 14:55:30.871 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/register'
2023-12-06 14:55:30.872 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Register (MOC1)' with route pattern 'api/UsersAuth/register' is valid for the request path '/api/UsersAuth/register'
2023-12-06 14:55:30.872 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Register (MOC1)'
2023-12-06 14:55:30.872 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 14:55:30.877 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 14:55:30.877 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Register (MOC1)'
2023-12-06 14:55:30.878 +07:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MOC1.DTO.RegisterationRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 14:55:30.878 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 14:55:30.878 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 14:55:30.878 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 14:55:30.878 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 14:55:30.878 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 14:55:30.878 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 14:55:30.883 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 14:55:30.885 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO' ...
2023-12-06 14:55:30.885 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO' using the name '' in request data ...
2023-12-06 14:55:30.886 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 14:55:30.886 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 14:55:30.886 +07:00 [DBG] Connection id "0HMVM62E3NGLC", Request id "0HMVM62E3NGLC:00000001": started reading request body.
2023-12-06 14:55:30.886 +07:00 [DBG] Connection id "0HMVM62E3NGLC", Request id "0HMVM62E3NGLC:00000001": done reading request body.
2023-12-06 14:55:30.887 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO'.
2023-12-06 14:55:30.887 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO'.
2023-12-06 14:55:30.887 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO' ...
2023-12-06 14:55:30.887 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.RegisterationRequestDTO'.
2023-12-06 14:55:30.895 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 14:55:30.901 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 14:55:30.901 +07:00 [DBG] Creating DbConnection.
2023-12-06 14:55:30.902 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 14:55:30.902 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:55:30.902 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:55:30.902 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:30.903 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:30.903 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE [l].[UserName] = @__username_0
2023-12-06 14:55:30.906 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE [l].[UserName] = @__username_0
2023-12-06 14:55:30.906 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 14:55:30.907 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 14:55:30.907 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:30.907 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 14:55:30.926 +07:00 [DBG] 'ApplicationContext' generated a temporary value for the property 'Id.LocalUser'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:55:30.935 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:55:30.937 +07:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2023-12-06 14:55:30.939 +07:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2023-12-06 14:55:30.945 +07:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2023-12-06 14:55:30.993 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:30.994 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:31.000 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 14:55:31.000 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:55:31.001 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:55:31.001 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LocalUsers] ([Name], [Password], [Role], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2023-12-06 14:55:31.037 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LocalUsers] ([Name], [Password], [Role], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2023-12-06 14:55:31.047 +07:00 [DBG] The foreign key property 'LocalUser.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-06 14:55:31.054 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 14:55:31.055 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 17ms reading results.
2023-12-06 14:55:31.057 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:31.057 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 14:55:31.065 +07:00 [DBG] An entity of type 'LocalUser' tracked by 'ApplicationContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:55:31.066 +07:00 [DBG] SaveChanges completed for 'ApplicationContext' with 1 entities written to the database.
2023-12-06 14:55:31.069 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 14:55:31.069 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 14:55:31.069 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 14:55:31.069 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 14:55:31.069 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 14:55:31.069 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 14:55:31.070 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Register (MOC1) in 191.5711ms
2023-12-06 14:55:31.070 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Register (MOC1)'
2023-12-06 14:55:31.071 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 14:55:31.071 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:31.071 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 14:55:31.071 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/UsersAuth/register application/json-patch+json 92 - 200 68 application/json;+charset=utf-8 206.6751ms
2023-12-06 14:55:32.463 +07:00 [DBG] Connection id "0HMVM62E3NGLC" received FIN.
2023-12-06 14:55:32.463 +07:00 [DBG] Connection id "0HMVM62E3NGLC" is closed. The last processed stream ID was 1.
2023-12-06 14:55:32.463 +07:00 [DBG] Connection id "0HMVM62E3NGLC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:55:32.463 +07:00 [DBG] The connection queue processing loop for 0HMVM62E3NGLC completed.
2023-12-06 14:55:32.479 +07:00 [DBG] Connection id "0HMVM62E3NGLC" stopped.
2023-12-06 14:55:45.518 +07:00 [DBG] Connection id "0HMVM62E3NGLD" accepted.
2023-12-06 14:55:45.518 +07:00 [DBG] Connection id "0HMVM62E3NGLD" started.
2023-12-06 14:55:45.521 +07:00 [DBG] Connection 0HMVM62E3NGLD established using the following protocol: "Tls13"
2023-12-06 14:55:45.523 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 55
2023-12-06 14:55:45.523 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 14:55:45.523 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 14:55:45.524 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 14:55:45.524 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 14:55:45.528 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 14:55:45.528 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 14:55:45.536 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 14:55:45.536 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 14:55:45.536 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 14:55:45.536 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 14:55:45.536 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 14:55:45.536 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 14:55:45.536 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 14:55:45.539 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 14:55:45.539 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 14:55:45.539 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 14:55:45.539 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 14:55:45.539 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 14:55:45.539 +07:00 [DBG] Connection id "0HMVM62E3NGLD", Request id "0HMVM62E3NGLD:00000001": started reading request body.
2023-12-06 14:55:45.539 +07:00 [DBG] Connection id "0HMVM62E3NGLD", Request id "0HMVM62E3NGLD:00000001": done reading request body.
2023-12-06 14:55:45.540 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 14:55:45.540 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 14:55:45.540 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 14:55:45.541 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 14:55:45.594 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 14:55:45.603 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-06 14:55:45.626 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-06 14:55:45.632 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 14:55:45.632 +07:00 [DBG] Creating DbConnection.
2023-12-06 14:55:45.632 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 14:55:45.632 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:55:45.632 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:55:45.632 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:45.632 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:45.632 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 14:55:45.639 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 14:55:45.639 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:55:45.639 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 14:55:45.639 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 14:55:45.639 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:45.639 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 14:55:45.741 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 14:55:45.741 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 14:55:45.741 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 14:55:45.741 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 14:55:45.741 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 14:55:45.741 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 14:55:45.744 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 207.6117ms
2023-12-06 14:55:45.744 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 14:55:45.744 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 14:55:45.744 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 14:55:45.744 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 14:55:45.745 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 55 - 200 362 application/json;+charset=utf-8 221.6701ms
2023-12-06 14:55:52.475 +07:00 [DBG] Connection id "0HMVM62E3NGLD" received FIN.
2023-12-06 14:55:52.475 +07:00 [DBG] Connection id "0HMVM62E3NGLD" is closed. The last processed stream ID was 1.
2023-12-06 14:55:52.475 +07:00 [DBG] Connection id "0HMVM62E3NGLD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:55:52.475 +07:00 [DBG] The connection queue processing loop for 0HMVM62E3NGLD completed.
2023-12-06 14:55:52.476 +07:00 [DBG] Connection id "0HMVM62E3NGLD" stopped.
2023-12-06 14:56:19.745 +07:00 [DBG] Connection id "0HMVM62E3NGLE" accepted.
2023-12-06 14:56:19.746 +07:00 [DBG] Connection id "0HMVM62E3NGLE" started.
2023-12-06 14:56:19.762 +07:00 [DBG] Connection 0HMVM62E3NGLE established using the following protocol: "Tls13"
2023-12-06 14:56:19.767 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7189/api/Villa/2 - -
2023-12-06 14:56:19.768 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/2'
2023-12-06 14:56:19.802 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.DeleteVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/2'
2023-12-06 14:56:19.802 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.DeleteVilla (MOC1)'
2023-12-06 14:56:19.802 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 14:56:19.843 +07:00 [DBG] Successfully validated the token.
2023-12-06 14:56:19.845 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 14:56:19.849 +07:00 [DBG] Authorization was successful.
2023-12-06 14:56:19.849 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.DeleteVilla (MOC1)'
2023-12-06 14:56:19.853 +07:00 [INF] Route matched with {action = "DeleteVilla", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteVilla(Int32) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 14:56:19.853 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 14:56:19.853 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 14:56:19.853 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 14:56:19.853 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 14:56:19.853 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 14:56:19.853 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:56:19.933 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:56:19.934 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-06 14:56:19.935 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-06 14:56:19.937 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-06 14:56:19.938 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-06 14:56:19.938 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-06 14:56:19.938 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-06 14:56:19.942 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 14:56:19.946 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(s => s.Id == __id_0)
    .FirstOrDefault()'
2023-12-06 14:56:19.952 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MOC1.Data.ApplicationContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-06 14:56:19.959 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 14:56:19.959 +07:00 [DBG] Creating DbConnection.
2023-12-06 14:56:19.959 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 14:56:19.959 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:56:19.959 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:56:19.959 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:19.959 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:19.960 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-12-06 14:56:19.967 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-12-06 14:56:19.980 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:56:19.997 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 14:56:19.997 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 29ms reading results.
2023-12-06 14:56:19.997 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:19.997 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 14:56:19.999 +07:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:56:20.001 +07:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2023-12-06 14:56:20.001 +07:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2023-12-06 14:56:20.012 +07:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2023-12-06 14:56:20.022 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:20.023 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:20.023 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 14:56:20.023 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:56:20.023 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:56:20.023 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Villas]
OUTPUT 1
WHERE [Id] = @p0;
2023-12-06 14:56:20.041 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Villas]
OUTPUT 1
WHERE [Id] = @p0;
2023-12-06 14:56:20.043 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 14:56:20.043 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 1ms reading results.
2023-12-06 14:56:20.043 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:20.043 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 14:56:20.045 +07:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:56:20.045 +07:00 [DBG] SaveChanges completed for 'ApplicationContext' with 1 entities written to the database.
2023-12-06 14:56:20.046 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-12-06 14:56:20.046 +07:00 [INF] Executed action MOC1.Controllers.VillaController.DeleteVilla (MOC1) in 193.3412ms
2023-12-06 14:56:20.046 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.DeleteVilla (MOC1)'
2023-12-06 14:56:20.047 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 14:56:20.047 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:20.047 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 14:56:20.047 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7189/api/Villa/2 - - - 204 - - 279.5171ms
2023-12-06 14:56:22.521 +07:00 [DBG] Connection id "0HMVM62E3NGLE" received FIN.
2023-12-06 14:56:22.521 +07:00 [DBG] Connection id "0HMVM62E3NGLE" is closed. The last processed stream ID was 1.
2023-12-06 14:56:22.521 +07:00 [DBG] Connection id "0HMVM62E3NGLE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:56:22.521 +07:00 [DBG] The connection queue processing loop for 0HMVM62E3NGLE completed.
2023-12-06 14:56:22.521 +07:00 [DBG] Connection id "0HMVM62E3NGLE" stopped.
2023-12-06 14:56:26.913 +07:00 [DBG] Connection id "0HMVM62E3NGLF" accepted.
2023-12-06 14:56:26.913 +07:00 [DBG] Connection id "0HMVM62E3NGLF" started.
2023-12-06 14:56:26.918 +07:00 [DBG] Connection 0HMVM62E3NGLF established using the following protocol: "Tls13"
2023-12-06 14:56:26.920 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa - -
2023-12-06 14:56:26.920 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 14:56:26.920 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 14:56:26.920 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:56:26.921 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 14:56:26.923 +07:00 [DBG] Successfully validated the token.
2023-12-06 14:56:26.923 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 14:56:26.929 +07:00 [DBG] Authorization was successful.
2023-12-06 14:56:26.929 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:56:26.932 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 14:56:26.932 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 14:56:26.932 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 14:56:26.933 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 14:56:26.933 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 14:56:26.933 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 14:56:26.933 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:56:26.933 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:56:26.948 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 14:56:27.890 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .OrderBy( => .Name)'
2023-12-06 14:56:27.895 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v
        ORDER BY v.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)'
2023-12-06 14:56:27.895 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 14:56:27.895 +07:00 [DBG] Creating DbConnection.
2023-12-06 14:56:27.895 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 14:56:27.895 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:56:27.895 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:56:27.895 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:27.896 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:27.896 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 14:56:27.919 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 14:56:27.919 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:56:27.920 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:56:27.920 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 14:56:27.920 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 1ms reading results.
2023-12-06 14:56:27.920 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:27.920 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 14:56:27.938 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 14:56:27.940 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-12-06 14:56:27.942 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-12-06 14:56:27.943 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-12-06 14:56:27.943 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 1010.0944ms
2023-12-06 14:56:27.943 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:56:27.943 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 14:56:27.943 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:27.943 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 14:56:27.943 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa - - - 406 0 - 1023.2593ms
2023-12-06 14:56:31.245 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa - -
2023-12-06 14:56:31.245 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 14:56:31.245 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 14:56:31.245 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:56:31.245 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 14:56:31.246 +07:00 [DBG] Successfully validated the token.
2023-12-06 14:56:31.246 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 14:56:31.247 +07:00 [DBG] Authorization was successful.
2023-12-06 14:56:31.247 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:56:31.248 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 14:56:31.248 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 14:56:31.248 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 14:56:31.248 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 14:56:31.248 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 14:56:31.248 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 14:56:31.248 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:56:31.249 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 14:56:31.250 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 14:56:31.252 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 14:56:31.252 +07:00 [DBG] Creating DbConnection.
2023-12-06 14:56:31.252 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 14:56:31.252 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:56:31.252 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 14:56:31.252 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:31.253 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:31.253 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 14:56:31.258 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 14:56:31.258 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:56:31.258 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 14:56:31.258 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 14:56:31.258 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 14:56:31.258 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:31.258 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 14:56:31.259 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 14:56:31.259 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 14:56:31.259 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 14:56:31.259 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 14:56:31.272 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 24.4788ms
2023-12-06 14:56:31.273 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 14:56:31.273 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 14:56:31.273 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 14:56:31.273 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 14:56:31.273 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa - - - 200 253 application/json;+charset=utf-8 28.1230ms
2023-12-06 14:56:32.532 +07:00 [DBG] Connection id "0HMVM62E3NGLF" received FIN.
2023-12-06 14:56:32.533 +07:00 [DBG] Connection id "0HMVM62E3NGLF" is closed. The last processed stream ID was 3.
2023-12-06 14:56:32.533 +07:00 [DBG] Connection id "0HMVM62E3NGLF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 14:56:32.533 +07:00 [DBG] The connection queue processing loop for 0HMVM62E3NGLF completed.
2023-12-06 14:56:32.533 +07:00 [DBG] Connection id "0HMVM62E3NGLF" stopped.
2023-12-06 15:00:12.187 +07:00 [DBG] Connection id "0HMVM62E3NGLG" accepted.
2023-12-06 15:00:12.190 +07:00 [DBG] Connection id "0HMVM62E3NGLG" started.
2023-12-06 15:00:12.213 +07:00 [DBG] Connection 0HMVM62E3NGLG established using the following protocol: "Tls13"
2023-12-06 15:00:12.350 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/Villa application/json;+charset=utf-8 162
2023-12-06 15:00:12.355 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:00:12.356 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.CreateVilla (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:00:12.356 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.CreateVilla (MOC1)'
2023-12-06 15:00:12.360 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:00:12.375 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:00:12.376 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:00:12.380 +07:00 [DBG] Authorization was successful.
2023-12-06 15:00:12.381 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.CreateVilla (MOC1)'
2023-12-06 15:00:12.406 +07:00 [INF] Route matched with {action = "CreateVilla", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.DTO.VillaDTO]] CreateVilla(MOC1.DTO.VillaDTO) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:00:12.406 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:00:12.406 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:00:12.406 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:00:12.406 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:00:12.406 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:00:12.406 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:00:12.413 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:00:12.415 +07:00 [DBG] Attempting to bind parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO' ...
2023-12-06 15:00:12.415 +07:00 [DBG] Attempting to bind parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO' using the name '' in request data ...
2023-12-06 15:00:12.416 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:00:12.416 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:00:12.424 +07:00 [DBG] Connection id "0HMVM62E3NGLG", Request id "0HMVM62E3NGLG:00000001": started reading request body.
2023-12-06 15:00:12.425 +07:00 [DBG] Connection id "0HMVM62E3NGLG", Request id "0HMVM62E3NGLG:00000001": done reading request body.
2023-12-06 15:00:12.444 +07:00 [DBG] Done attempting to bind parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO'.
2023-12-06 15:00:12.444 +07:00 [DBG] Done attempting to bind parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO'.
2023-12-06 15:00:12.444 +07:00 [DBG] Attempting to validate the bound parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO' ...
2023-12-06 15:00:12.465 +07:00 [DBG] Done attempting to validate the bound parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO'.
2023-12-06 15:00:12.478 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:00:12.481 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2023-12-06 15:00:12.503 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE LOWER(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MOC1.Data.ApplicationContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-06 15:00:12.505 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:00:12.505 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:00:12.506 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:00:12.506 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-06 15:00:12.506 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-06 15:00:12.506 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:00:12.507 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:00:12.507 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE LOWER([v].[Name]) = @__ToLower_0
2023-12-06 15:00:12.518 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE LOWER([v].[Name]) = @__ToLower_0
2023-12-06 15:00:12.519 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:00:12.519 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:00:12.519 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:00:12.519 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:00:12.556 +07:00 [DBG] 'ApplicationContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:00:12.558 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:00:12.558 +07:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2023-12-06 15:00:12.558 +07:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2023-12-06 15:00:12.558 +07:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2023-12-06 15:00:12.559 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:00:12.559 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:00:12.559 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:00:12.559 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:00:12.569 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2023-12-06 15:00:12.569 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Villas] ([Amenity], [CreatedDate], [Details], [ImageUrl], [Name], [Occupancy], [Rate], [Sqft], [UpdatedDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-12-06 15:00:12.584 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Villas] ([Amenity], [CreatedDate], [Details], [ImageUrl], [Name], [Occupancy], [Rate], [Sqft], [UpdatedDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-12-06 15:00:12.587 +07:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-06 15:00:12.587 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:00:12.587 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 3ms reading results.
2023-12-06 15:00:12.587 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:00:12.587 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:00:12.589 +07:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:00:12.589 +07:00 [DBG] SaveChanges completed for 'ApplicationContext' with 1 entities written to the database.
2023-12-06 15:00:12.594 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:00:12.594 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:00:12.594 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:00:12.594 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MOC1.DTO.VillaDTO'.
2023-12-06 15:00:12.629 +07:00 [DBG] Found the endpoints ["MOC1.Controllers.VillaController.GetVilla (MOC1)"] for address GetVilla(id=[0])
2023-12-06 15:00:12.639 +07:00 [DBG] Successfully processed template api/Villa/{id:int} for MOC1.Controllers.VillaController.GetVilla (MOC1) resulting in /api/Villa/0 and 
2023-12-06 15:00:12.643 +07:00 [DBG] Link generation succeeded for endpoints ["MOC1.Controllers.VillaController.GetVilla (MOC1)"] with result /api/Villa/0
2023-12-06 15:00:12.646 +07:00 [INF] Executed action MOC1.Controllers.VillaController.CreateVilla (MOC1) in 240.3295ms
2023-12-06 15:00:12.646 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.CreateVilla (MOC1)'
2023-12-06 15:00:12.647 +07:00 [DBG] Connection id "0HMVM62E3NGLG" completed keep alive response.
2023-12-06 15:00:12.647 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:00:12.648 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:00:12.648 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:00:12.648 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/Villa application/json;+charset=utf-8 162 - 201 125 application/json;+charset=utf-8 301.6640ms
2023-12-06 15:00:12.691 +07:00 [DBG] Connection id "0HMVM62E3NGLG" reset.
2023-12-06 15:00:12.692 +07:00 [DBG] Connection id "0HMVM62E3NGLG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:00:12.692 +07:00 [DBG] Connection id "0HMVM62E3NGLG" disconnecting.
2023-12-06 15:00:12.702 +07:00 [DBG] Connection id "0HMVM62E3NGLG" stopped.
2023-12-06 15:01:35.645 +07:00 [DBG] Connection id "0HMVM62E3NGLH" accepted.
2023-12-06 15:01:35.645 +07:00 [DBG] Connection id "0HMVM62E3NGLH" started.
2023-12-06 15:01:35.795 +07:00 [DBG] Connection 0HMVM62E3NGLH established using the following protocol: "Tls13"
2023-12-06 15:01:35.951 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa - -
2023-12-06 15:01:35.952 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:01:35.952 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:01:35.952 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:01:35.964 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:01:35.966 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:01:35.966 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:01:35.967 +07:00 [DBG] Authorization was successful.
2023-12-06 15:01:35.967 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:01:35.967 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:01:35.967 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:01:35.967 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:01:35.967 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:01:35.967 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:01:35.967 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:01:35.967 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:01:35.968 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:01:35.970 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:01:35.975 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:01:35.977 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:01:35.977 +07:00 [DBG] Created DbConnection. (2ms).
2023-12-06 15:01:35.977 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-06 15:01:35.977 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-06 15:01:35.977 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:01:35.978 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:01:35.978 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:01:36.008 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:01:36.009 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:01:36.009 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:01:36.009 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:01:36.009 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:01:36.010 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:01:36.010 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:01:36.010 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:01:36.011 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:01:36.011 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:01:36.011 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:01:36.011 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:01:36.012 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 44.881ms
2023-12-06 15:01:36.012 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:01:36.012 +07:00 [DBG] Connection id "0HMVM62E3NGLH" completed keep alive response.
2023-12-06 15:01:36.012 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:01:36.012 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:01:36.012 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:01:36.013 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa - - - 200 379 application/json;+charset=utf-8 61.1067ms
2023-12-06 15:01:36.226 +07:00 [DBG] Connection id "0HMVM62E3NGLH" reset.
2023-12-06 15:01:36.234 +07:00 [DBG] Connection id "0HMVM62E3NGLH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:01:36.235 +07:00 [DBG] Connection id "0HMVM62E3NGLH" disconnecting.
2023-12-06 15:01:36.244 +07:00 [DBG] Connection id "0HMVM62E3NGLH" stopped.
2023-12-06 15:01:53.222 +07:00 [DBG] Connection id "0HMVM62E3NGLI" accepted.
2023-12-06 15:01:53.222 +07:00 [DBG] Connection id "0HMVM62E3NGLI" started.
2023-12-06 15:01:53.276 +07:00 [DBG] Connection 0HMVM62E3NGLI established using the following protocol: "Tls13"
2023-12-06 15:01:53.530 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa - -
2023-12-06 15:01:53.530 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:01:53.530 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:01:53.530 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:01:53.531 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:01:53.531 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:01:53.532 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:01:53.532 +07:00 [DBG] Authorization was successful.
2023-12-06 15:01:53.532 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:01:53.533 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:01:53.533 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:01:53.533 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:01:53.533 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:01:53.533 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:01:53.533 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:01:53.533 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:01:53.533 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:01:53.535 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:01:53.536 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:01:53.536 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:01:53.536 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:01:53.536 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:01:53.536 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:01:53.536 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:01:53.536 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:01:53.536 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:01:53.576 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:01:53.576 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:01:53.577 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:01:53.577 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:01:53.577 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:01:53.577 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:01:53.577 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:01:53.577 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:01:53.577 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:01:53.577 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:01:53.578 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:01:53.578 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:01:53.580 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 47.4697ms
2023-12-06 15:01:53.580 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:01:53.581 +07:00 [DBG] Connection id "0HMVM62E3NGLI" completed keep alive response.
2023-12-06 15:01:53.581 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:01:53.581 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:01:53.581 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:01:53.582 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa - - - 200 379 application/json;+charset=utf-8 50.6958ms
2023-12-06 15:01:53.821 +07:00 [DBG] Connection id "0HMVM62E3NGLI" reset.
2023-12-06 15:01:53.833 +07:00 [DBG] Connection id "0HMVM62E3NGLI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:01:53.836 +07:00 [DBG] Connection id "0HMVM62E3NGLI" disconnecting.
2023-12-06 15:01:53.836 +07:00 [DBG] Connection id "0HMVM62E3NGLI" stopped.
2023-12-06 15:02:39.153 +07:00 [DBG] Connection id "0HMVM62E3NGLJ" accepted.
2023-12-06 15:02:39.154 +07:00 [DBG] Connection id "0HMVM62E3NGLJ" started.
2023-12-06 15:02:39.517 +07:00 [DBG] Connection 0HMVM62E3NGLJ established using the following protocol: "Tls13"
2023-12-06 15:02:39.920 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa - -
2023-12-06 15:02:39.921 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:02:39.921 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:02:39.921 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:02:39.921 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:02:39.922 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:02:39.922 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:02:39.923 +07:00 [DBG] Authorization was successful.
2023-12-06 15:02:39.923 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:02:39.923 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:02:39.923 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:02:39.923 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:02:39.923 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:02:39.923 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:02:39.923 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:02:39.923 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:02:39.924 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:02:39.941 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:02:39.942 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:02:39.942 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:02:39.942 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:02:39.942 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:02:39.942 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:02:39.942 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:02:39.942 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:02:39.945 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:02:39.978 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:02:39.984 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:02:39.990 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:02:39.990 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:02:39.990 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:02:39.990 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 10ms reading results.
2023-12-06 15:02:39.991 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:02:39.991 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:02:39.993 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:02:39.993 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:02:39.993 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:02:39.993 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:02:40.030 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 106.7183ms
2023-12-06 15:02:40.030 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:02:40.030 +07:00 [DBG] Connection id "0HMVM62E3NGLJ" completed keep alive response.
2023-12-06 15:02:40.031 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:02:40.031 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:02:40.031 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:02:40.031 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa - - - 200 379 application/json;+charset=utf-8 110.9222ms
2023-12-06 15:02:40.121 +07:00 [DBG] Connection id "0HMVM62E3NGLJ" reset.
2023-12-06 15:02:40.122 +07:00 [DBG] Connection id "0HMVM62E3NGLJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:02:40.122 +07:00 [DBG] Connection id "0HMVM62E3NGLJ" disconnecting.
2023-12-06 15:02:40.127 +07:00 [DBG] Connection id "0HMVM62E3NGLJ" stopped.
2023-12-06 15:06:26.980 +07:00 [DBG] Connection id "0HMVM62E3NGLK" accepted.
2023-12-06 15:06:26.981 +07:00 [DBG] Connection id "0HMVM62E3NGLK" started.
2023-12-06 15:06:27.028 +07:00 [DBG] Connection 0HMVM62E3NGLK established using the following protocol: "Tls13"
2023-12-06 15:06:27.157 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/Villa application/json;+charset=utf-8 56
2023-12-06 15:06:27.160 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:06:27.161 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.CreateVilla (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:06:27.162 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.CreateVilla (MOC1)'
2023-12-06 15:06:27.166 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:06:27.173 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:06:27.174 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:06:27.176 +07:00 [DBG] Authorization was successful.
2023-12-06 15:06:27.176 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.CreateVilla (MOC1)'
2023-12-06 15:06:27.180 +07:00 [INF] Route matched with {action = "CreateVilla", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.DTO.VillaDTO]] CreateVilla(MOC1.DTO.VillaDTO) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:06:27.180 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:06:27.180 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:06:27.180 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:06:27.180 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:06:27.180 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:06:27.181 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:06:27.186 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:06:27.191 +07:00 [DBG] Attempting to bind parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO' ...
2023-12-06 15:06:27.193 +07:00 [DBG] Attempting to bind parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO' using the name '' in request data ...
2023-12-06 15:06:27.193 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:06:27.193 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:06:27.195 +07:00 [DBG] Connection id "0HMVM62E3NGLK", Request id "0HMVM62E3NGLK:00000001": started reading request body.
2023-12-06 15:06:27.195 +07:00 [DBG] Connection id "0HMVM62E3NGLK", Request id "0HMVM62E3NGLK:00000001": done reading request body.
2023-12-06 15:06:27.213 +07:00 [DBG] Done attempting to bind parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO'.
2023-12-06 15:06:27.213 +07:00 [DBG] Done attempting to bind parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO'.
2023-12-06 15:06:27.213 +07:00 [DBG] Attempting to validate the bound parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO' ...
2023-12-06 15:06:27.235 +07:00 [DBG] Done attempting to validate the bound parameter 'villaDTO' of type 'MOC1.DTO.VillaDTO'.
2023-12-06 15:06:27.242 +07:00 [DBG] The request has model state errors, returning an error response.
2023-12-06 15:06:27.258 +07:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-12-06 15:06:27.259 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:06:27.261 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2023-12-06 15:06:27.261 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-06 15:06:27.261 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-06 15:06:27.370 +07:00 [INF] Executed action MOC1.Controllers.VillaController.CreateVilla (MOC1) in 189.653ms
2023-12-06 15:06:27.370 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.CreateVilla (MOC1)'
2023-12-06 15:06:27.370 +07:00 [DBG] Connection id "0HMVM62E3NGLK" completed keep alive response.
2023-12-06 15:06:27.370 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/Villa application/json;+charset=utf-8 56 - 400 378 application/problem+json;+charset=utf-8 213.4721ms
2023-12-06 15:06:27.438 +07:00 [DBG] Connection id "0HMVM62E3NGLK" reset.
2023-12-06 15:06:27.438 +07:00 [DBG] Connection id "0HMVM62E3NGLK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:06:27.439 +07:00 [DBG] Connection id "0HMVM62E3NGLK" disconnecting.
2023-12-06 15:06:27.449 +07:00 [DBG] Connection id "0HMVM62E3NGLK" stopped.
2023-12-06 15:07:35.794 +07:00 [DBG] Connection id "0HMVM62E3NGLL" accepted.
2023-12-06 15:07:35.794 +07:00 [DBG] Connection id "0HMVM62E3NGLL" started.
2023-12-06 15:07:35.840 +07:00 [DBG] Connection 0HMVM62E3NGLL established using the following protocol: "Tls13"
2023-12-06 15:07:35.962 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:07:35.964 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:07:35.964 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:07:35.964 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:07:35.964 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:07:35.965 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:07:35.965 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:07:35.965 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:07:35.966 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:07:35.966 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:07:35.966 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:07:35.966 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:07:35.966 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:07:35.966 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:07:35.966 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:07:35.970 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:07:35.970 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:07:35.970 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:07:35.971 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:07:35.971 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:07:35.971 +07:00 [DBG] Connection id "0HMVM62E3NGLL", Request id "0HMVM62E3NGLL:00000001": started reading request body.
2023-12-06 15:07:35.971 +07:00 [DBG] Connection id "0HMVM62E3NGLL", Request id "0HMVM62E3NGLL:00000001": done reading request body.
2023-12-06 15:07:35.971 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:07:35.971 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:07:35.971 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:07:35.972 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:07:35.982 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:07:35.988 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:07:35.988 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:07:35.989 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:07:35.989 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:07:35.990 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-06 15:07:35.990 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:07:35.992 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:07:35.994 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:07:36.010 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:07:36.012 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:07:36.012 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:07:36.012 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 2ms reading results.
2023-12-06 15:07:36.012 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:07:36.012 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:07:36.015 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:07:36.015 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:07:36.015 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:07:36.015 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:07:36.016 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 49.7784ms
2023-12-06 15:07:36.016 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:07:36.016 +07:00 [DBG] Connection id "0HMVM62E3NGLL" completed keep alive response.
2023-12-06 15:07:36.016 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:07:36.016 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:07:36.016 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:07:36.016 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 54.6842ms
2023-12-06 15:07:53.068 +07:00 [DBG] Connection id "0HMVM62E3NGLL" reset.
2023-12-06 15:07:53.068 +07:00 [DBG] Connection id "0HMVM62E3NGLL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:07:53.068 +07:00 [DBG] Connection id "0HMVM62E3NGLL" disconnecting.
2023-12-06 15:07:53.070 +07:00 [DBG] Connection id "0HMVM62E3NGLL" stopped.
2023-12-06 15:07:59.544 +07:00 [DBG] Connection id "0HMVM62E3NGLM" accepted.
2023-12-06 15:07:59.544 +07:00 [DBG] Connection id "0HMVM62E3NGLM" started.
2023-12-06 15:07:59.585 +07:00 [DBG] Connection 0HMVM62E3NGLM established using the following protocol: "Tls13"
2023-12-06 15:07:59.666 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:07:59.666 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:07:59.666 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:07:59.666 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:07:59.666 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:07:59.667 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:07:59.667 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:07:59.667 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:07:59.667 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:07:59.667 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:07:59.667 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:07:59.667 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:07:59.667 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:07:59.667 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:07:59.667 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:07:59.668 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:07:59.668 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:07:59.668 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:07:59.668 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:07:59.668 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:07:59.668 +07:00 [DBG] Connection id "0HMVM62E3NGLM", Request id "0HMVM62E3NGLM:00000001": started reading request body.
2023-12-06 15:07:59.668 +07:00 [DBG] Connection id "0HMVM62E3NGLM", Request id "0HMVM62E3NGLM:00000001": done reading request body.
2023-12-06 15:07:59.669 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:07:59.669 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:07:59.669 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:07:59.669 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:07:59.669 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:07:59.670 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:07:59.670 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:07:59.670 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:07:59.670 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:07:59.670 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:07:59.670 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:07:59.670 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:07:59.670 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:07:59.672 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:07:59.672 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:07:59.672 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:07:59.672 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:07:59.672 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:07:59.672 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:07:59.673 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:07:59.673 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:07:59.673 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:07:59.673 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:07:59.673 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 5.7199ms
2023-12-06 15:07:59.673 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:07:59.673 +07:00 [DBG] Connection id "0HMVM62E3NGLM" completed keep alive response.
2023-12-06 15:07:59.673 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:07:59.673 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:07:59.673 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:07:59.673 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 7.2437ms
2023-12-06 15:08:06.927 +07:00 [DBG] Connection id "0HMVM62E3NGLM" reset.
2023-12-06 15:08:06.927 +07:00 [DBG] Connection id "0HMVM62E3NGLM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:08:06.927 +07:00 [DBG] Connection id "0HMVM62E3NGLM" disconnecting.
2023-12-06 15:08:06.929 +07:00 [DBG] Connection id "0HMVM62E3NGLM" stopped.
2023-12-06 15:08:26.892 +07:00 [DBG] Connection id "0HMVM62E3NGLN" accepted.
2023-12-06 15:08:26.892 +07:00 [DBG] Connection id "0HMVM62E3NGLN" started.
2023-12-06 15:08:26.949 +07:00 [DBG] Connection 0HMVM62E3NGLN established using the following protocol: "Tls13"
2023-12-06 15:08:27.074 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:08:27.074 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:08:27.074 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:08:27.074 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:08:27.075 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:08:27.076 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:08:27.076 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:08:27.076 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:08:27.076 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:08:27.076 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:08:27.076 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:08:27.076 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:08:27.076 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:08:27.076 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:08:27.076 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:08:27.076 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:08:27.076 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:08:27.077 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:08:27.077 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:08:27.077 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:08:27.077 +07:00 [DBG] Connection id "0HMVM62E3NGLN", Request id "0HMVM62E3NGLN:00000001": started reading request body.
2023-12-06 15:08:27.077 +07:00 [DBG] Connection id "0HMVM62E3NGLN", Request id "0HMVM62E3NGLN:00000001": done reading request body.
2023-12-06 15:08:27.077 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:08:27.077 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:08:27.077 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:08:27.078 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:08:27.079 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:08:27.079 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:08:27.079 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:08:27.079 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:08:27.079 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:08:27.079 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:08:27.080 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:08:27.080 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:08:27.081 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:08:27.084 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:08:27.084 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:08:27.084 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:08:27.084 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:08:27.084 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:08:27.085 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:08:27.085 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:08:27.085 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:08:27.085 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:08:27.085 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:08:27.086 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 9.6124ms
2023-12-06 15:08:27.086 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:08:27.086 +07:00 [DBG] Connection id "0HMVM62E3NGLN" completed keep alive response.
2023-12-06 15:08:27.086 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:08:27.086 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:08:27.086 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:08:27.086 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 11.6562ms
2023-12-06 15:08:34.355 +07:00 [DBG] Connection id "0HMVM62E3NGLN" reset.
2023-12-06 15:08:34.356 +07:00 [DBG] Connection id "0HMVM62E3NGLN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:08:34.356 +07:00 [DBG] Connection id "0HMVM62E3NGLN" disconnecting.
2023-12-06 15:08:34.358 +07:00 [DBG] Connection id "0HMVM62E3NGLN" stopped.
2023-12-06 15:08:42.767 +07:00 [DBG] Connection id "0HMVM62E3NGLO" accepted.
2023-12-06 15:08:42.768 +07:00 [DBG] Connection id "0HMVM62E3NGLO" started.
2023-12-06 15:08:42.815 +07:00 [DBG] Connection 0HMVM62E3NGLO established using the following protocol: "Tls13"
2023-12-06 15:08:42.944 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:08:42.944 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:08:42.944 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:08:42.944 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:08:42.944 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:08:42.945 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:08:42.945 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:08:42.945 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:08:42.945 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:08:42.945 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:08:42.945 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:08:42.946 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:08:42.946 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:08:42.946 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:08:42.946 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:08:42.946 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:08:42.946 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:08:42.946 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:08:42.946 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:08:42.946 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:08:42.946 +07:00 [DBG] Connection id "0HMVM62E3NGLO", Request id "0HMVM62E3NGLO:00000001": started reading request body.
2023-12-06 15:08:42.946 +07:00 [DBG] Connection id "0HMVM62E3NGLO", Request id "0HMVM62E3NGLO:00000001": done reading request body.
2023-12-06 15:08:42.946 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:08:42.947 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:08:42.947 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:08:42.947 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:08:42.947 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:08:42.948 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:08:42.948 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:08:42.948 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:08:42.948 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:08:42.948 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:08:42.948 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:08:42.948 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:08:42.948 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:08:42.951 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:08:42.951 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:08:42.951 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:08:42.951 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:08:42.951 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:08:42.951 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:08:42.952 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:08:42.952 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:08:42.952 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:08:42.952 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:08:42.953 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 7.0567ms
2023-12-06 15:08:42.953 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:08:42.953 +07:00 [DBG] Connection id "0HMVM62E3NGLO" completed keep alive response.
2023-12-06 15:08:42.953 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:08:42.953 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:08:42.953 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:08:42.953 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 8.9278ms
2023-12-06 15:08:43.544 +07:00 [DBG] Connection id "0HMVM62E3NGLO" reset.
2023-12-06 15:08:43.547 +07:00 [DBG] Connection id "0HMVM62E3NGLO" disconnecting.
2023-12-06 15:08:43.548 +07:00 [DBG] Connection id "0HMVM62E3NGLO" stopped.
2023-12-06 15:08:43.556 +07:00 [DBG] Connection id "0HMVM62E3NGLO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:09:11.141 +07:00 [DBG] Connection id "0HMVM62E3NGLP" accepted.
2023-12-06 15:09:11.141 +07:00 [DBG] Connection id "0HMVM62E3NGLP" started.
2023-12-06 15:09:11.195 +07:00 [DBG] Connection 0HMVM62E3NGLP established using the following protocol: "Tls13"
2023-12-06 15:09:11.466 +07:00 [DBG] Connection id "0HMVM62E3NGLP" reset.
2023-12-06 15:09:11.568 +07:00 [DBG] Connection id "0HMVM62E3NGLP" disconnecting.
2023-12-06 15:09:11.569 +07:00 [DBG] Connection id "0HMVM62E3NGLP" stopped.
2023-12-06 15:09:11.569 +07:00 [DBG] Connection id "0HMVM62E3NGLP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:09:24.435 +07:00 [DBG] Connection id "0HMVM62E3NGLQ" accepted.
2023-12-06 15:09:24.435 +07:00 [DBG] Connection id "0HMVM62E3NGLQ" started.
2023-12-06 15:09:24.465 +07:00 [DBG] Connection 0HMVM62E3NGLQ established using the following protocol: "Tls13"
2023-12-06 15:09:24.536 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:09:24.536 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:09:24.536 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:09:24.536 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:09:24.536 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:09:24.537 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:09:24.537 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:09:24.537 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:09:24.537 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:09:24.537 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:09:24.537 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:09:24.537 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:09:24.537 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:09:24.537 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:09:24.537 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:09:24.547 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:09:24.548 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:09:24.548 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:09:24.548 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:09:24.548 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:09:24.548 +07:00 [DBG] Connection id "0HMVM62E3NGLQ", Request id "0HMVM62E3NGLQ:00000001": started reading request body.
2023-12-06 15:09:24.548 +07:00 [DBG] Connection id "0HMVM62E3NGLQ", Request id "0HMVM62E3NGLQ:00000001": done reading request body.
2023-12-06 15:09:24.548 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:09:24.548 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:09:24.548 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:09:24.548 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:09:24.549 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:09:24.550 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:09:24.550 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:09:24.550 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:09:24.550 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:09:24.550 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:09:24.550 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:09:24.550 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:09:24.550 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:09:24.553 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:09:24.554 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:09:24.554 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:09:24.554 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:09:24.554 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:09:24.554 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:09:24.555 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:09:24.555 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:09:24.555 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:09:24.555 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:09:24.556 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 18.5575ms
2023-12-06 15:09:24.556 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:09:24.556 +07:00 [DBG] Connection id "0HMVM62E3NGLQ" completed keep alive response.
2023-12-06 15:09:24.556 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:09:24.556 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:09:24.556 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:09:24.556 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 20.3165ms
2023-12-06 15:10:01.428 +07:00 [DBG] Connection id "0HMVM62E3NGLQ" reset.
2023-12-06 15:10:01.429 +07:00 [DBG] Connection id "0HMVM62E3NGLQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:10:01.429 +07:00 [DBG] Connection id "0HMVM62E3NGLQ" disconnecting.
2023-12-06 15:10:01.436 +07:00 [DBG] Connection id "0HMVM62E3NGLQ" stopped.
2023-12-06 15:10:13.757 +07:00 [DBG] Connection id "0HMVM62E3NGLR" accepted.
2023-12-06 15:10:13.757 +07:00 [DBG] Connection id "0HMVM62E3NGLR" started.
2023-12-06 15:10:13.807 +07:00 [DBG] Connection 0HMVM62E3NGLR established using the following protocol: "Tls13"
2023-12-06 15:10:13.897 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:10:13.897 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:10:13.897 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:10:13.897 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:10:13.897 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:10:13.898 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:10:13.898 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:10:13.899 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:10:13.899 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:10:13.899 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:10:13.899 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:10:13.899 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:10:13.899 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:10:13.899 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:10:13.899 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:10:13.900 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:10:13.900 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:10:13.900 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:10:13.900 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:10:13.900 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:10:13.900 +07:00 [DBG] Connection id "0HMVM62E3NGLR", Request id "0HMVM62E3NGLR:00000001": started reading request body.
2023-12-06 15:10:13.901 +07:00 [DBG] Connection id "0HMVM62E3NGLR", Request id "0HMVM62E3NGLR:00000001": done reading request body.
2023-12-06 15:10:13.902 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:10:13.902 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:10:13.902 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:10:13.902 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:10:13.903 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:10:13.905 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:10:13.905 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:10:13.905 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:10:13.905 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:10:13.905 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:10:13.905 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:10:13.905 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:10:13.905 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:10:13.909 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:10:13.909 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:10:13.909 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:10:13.909 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:10:13.909 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:10:13.909 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:10:13.909 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:10:13.909 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:10:13.909 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:10:13.910 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:10:13.911 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 11.5612ms
2023-12-06 15:10:13.911 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:10:13.911 +07:00 [DBG] Connection id "0HMVM62E3NGLR" completed keep alive response.
2023-12-06 15:10:13.911 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:10:13.911 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:10:13.911 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:10:13.911 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 14.4255ms
2023-12-06 15:10:14.498 +07:00 [DBG] Connection id "0HMVM62E3NGLR" reset.
2023-12-06 15:10:14.498 +07:00 [DBG] Connection id "0HMVM62E3NGLR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:10:14.498 +07:00 [DBG] Connection id "0HMVM62E3NGLR" disconnecting.
2023-12-06 15:10:14.514 +07:00 [DBG] Connection id "0HMVM62E3NGLR" stopped.
2023-12-06 15:10:50.364 +07:00 [DBG] Connection id "0HMVM62E3NGLS" accepted.
2023-12-06 15:10:50.364 +07:00 [DBG] Connection id "0HMVM62E3NGLS" started.
2023-12-06 15:10:50.408 +07:00 [DBG] Connection 0HMVM62E3NGLS established using the following protocol: "Tls13"
2023-12-06 15:10:50.573 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:10:50.573 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:10:50.574 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:10:50.574 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:10:50.574 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:10:50.574 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:10:50.575 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:10:50.575 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:10:50.575 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:10:50.575 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:10:50.575 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:10:50.575 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:10:50.575 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:10:50.575 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:10:50.575 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:10:50.575 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:10:50.576 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:10:50.576 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:10:50.576 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:10:50.576 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:10:50.576 +07:00 [DBG] Connection id "0HMVM62E3NGLS", Request id "0HMVM62E3NGLS:00000001": started reading request body.
2023-12-06 15:10:50.576 +07:00 [DBG] Connection id "0HMVM62E3NGLS", Request id "0HMVM62E3NGLS:00000001": done reading request body.
2023-12-06 15:10:50.577 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:10:50.577 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:10:50.577 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:10:50.577 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:10:50.578 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:10:50.578 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:10:50.578 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:10:50.578 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:10:50.578 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:10:50.578 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:10:50.578 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:10:50.579 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:10:50.579 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:10:50.586 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:10:50.586 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:10:50.587 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:10:50.587 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:10:50.587 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:10:50.587 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:10:50.587 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:10:50.588 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:10:50.588 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:10:50.588 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:10:50.588 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 13.2249ms
2023-12-06 15:10:50.588 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:10:50.588 +07:00 [DBG] Connection id "0HMVM62E3NGLS" completed keep alive response.
2023-12-06 15:10:50.588 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:10:50.588 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:10:50.588 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:10:50.589 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 16.0467ms
2023-12-06 15:10:51.374 +07:00 [DBG] Connection id "0HMVM62E3NGLS" reset.
2023-12-06 15:10:51.378 +07:00 [DBG] Connection id "0HMVM62E3NGLS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:10:51.379 +07:00 [DBG] Connection id "0HMVM62E3NGLS" disconnecting.
2023-12-06 15:10:51.399 +07:00 [DBG] Connection id "0HMVM62E3NGLS" stopped.
2023-12-06 15:11:13.657 +07:00 [DBG] Connection id "0HMVM62E3NGLT" accepted.
2023-12-06 15:11:13.657 +07:00 [DBG] Connection id "0HMVM62E3NGLT" started.
2023-12-06 15:11:13.708 +07:00 [DBG] Connection 0HMVM62E3NGLT established using the following protocol: "Tls13"
2023-12-06 15:11:13.858 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:11:13.859 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:11:13.860 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:11:13.860 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:11:13.860 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:11:13.860 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:11:13.860 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:11:13.861 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:11:13.861 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:11:13.861 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:11:13.861 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:11:13.861 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:11:13.861 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:11:13.861 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:11:13.861 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:11:13.862 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:11:13.862 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:11:13.862 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:11:13.862 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:11:13.862 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:11:13.862 +07:00 [DBG] Connection id "0HMVM62E3NGLT", Request id "0HMVM62E3NGLT:00000001": started reading request body.
2023-12-06 15:11:13.862 +07:00 [DBG] Connection id "0HMVM62E3NGLT", Request id "0HMVM62E3NGLT:00000001": done reading request body.
2023-12-06 15:11:13.862 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:11:13.862 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:11:13.862 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:11:13.862 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:11:13.864 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:11:13.865 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:11:13.865 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:11:13.865 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:11:13.865 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:11:13.865 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:11:13.865 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:11:13.865 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:11:13.865 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:11:13.880 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:11:13.881 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:11:13.881 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:11:13.881 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:11:13.881 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:11:13.881 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:11:13.882 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:11:13.882 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:11:13.882 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:11:13.882 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:11:13.882 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 21.4173ms
2023-12-06 15:11:13.883 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:11:13.883 +07:00 [DBG] Connection id "0HMVM62E3NGLT" completed keep alive response.
2023-12-06 15:11:13.883 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:11:13.883 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:11:13.883 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:11:13.883 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 24.9904ms
2023-12-06 15:11:14.541 +07:00 [DBG] Connection id "0HMVM62E3NGLT" reset.
2023-12-06 15:11:14.541 +07:00 [DBG] Connection id "0HMVM62E3NGLT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:11:14.542 +07:00 [DBG] Connection id "0HMVM62E3NGLT" disconnecting.
2023-12-06 15:11:14.543 +07:00 [DBG] Connection id "0HMVM62E3NGLT" stopped.
2023-12-06 15:11:30.582 +07:00 [DBG] Connection id "0HMVM62E3NGLU" accepted.
2023-12-06 15:11:30.583 +07:00 [DBG] Connection id "0HMVM62E3NGLU" started.
2023-12-06 15:11:30.610 +07:00 [DBG] Connection 0HMVM62E3NGLU established using the following protocol: "Tls13"
2023-12-06 15:11:30.772 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:11:30.772 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:11:30.772 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:11:30.772 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:11:30.773 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:11:30.773 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:11:30.774 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:11:30.774 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:11:30.774 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:11:30.774 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:11:30.774 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:11:30.774 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:11:30.774 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:11:30.774 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:11:30.774 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:11:30.774 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:11:30.774 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:11:30.775 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:11:30.775 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:11:30.775 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:11:30.775 +07:00 [DBG] Connection id "0HMVM62E3NGLU", Request id "0HMVM62E3NGLU:00000001": started reading request body.
2023-12-06 15:11:30.775 +07:00 [DBG] Connection id "0HMVM62E3NGLU", Request id "0HMVM62E3NGLU:00000001": done reading request body.
2023-12-06 15:11:30.775 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:11:30.775 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:11:30.775 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:11:30.775 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:11:30.777 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:11:30.777 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:11:30.777 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:11:30.777 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:11:30.777 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:11:30.777 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:11:30.777 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:11:30.778 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:11:30.778 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:11:30.799 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:11:30.799 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:11:30.799 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:11:30.799 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:11:30.799 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:11:30.799 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:11:30.800 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:11:30.801 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:11:30.801 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:11:30.801 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:11:30.801 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 27.2912ms
2023-12-06 15:11:30.801 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:11:30.801 +07:00 [DBG] Connection id "0HMVM62E3NGLU" completed keep alive response.
2023-12-06 15:11:30.801 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:11:30.801 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:11:30.801 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:11:30.802 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 29.5045ms
2023-12-06 15:11:31.497 +07:00 [DBG] Connection id "0HMVM62E3NGLU" reset.
2023-12-06 15:11:31.498 +07:00 [DBG] Connection id "0HMVM62E3NGLU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:11:31.498 +07:00 [DBG] Connection id "0HMVM62E3NGLU" disconnecting.
2023-12-06 15:11:31.499 +07:00 [DBG] Connection id "0HMVM62E3NGLU" stopped.
2023-12-06 15:13:37.511 +07:00 [DBG] Connection id "0HMVM62E3NGLV" accepted.
2023-12-06 15:13:37.511 +07:00 [DBG] Connection id "0HMVM62E3NGLV" started.
2023-12-06 15:13:37.559 +07:00 [DBG] Connection 0HMVM62E3NGLV established using the following protocol: "Tls13"
2023-12-06 15:13:37.651 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:13:37.651 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:13:37.651 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:13:37.651 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:13:37.651 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:13:37.651 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:13:37.651 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:13:37.651 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:13:37.652 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:13:37.652 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:13:37.652 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:13:37.652 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:13:37.652 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:13:37.652 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:13:37.652 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:13:37.652 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:13:37.652 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:13:37.652 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:13:37.652 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:13:37.652 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:13:37.652 +07:00 [DBG] Connection id "0HMVM62E3NGLV", Request id "0HMVM62E3NGLV:00000001": started reading request body.
2023-12-06 15:13:37.653 +07:00 [DBG] Connection id "0HMVM62E3NGLV", Request id "0HMVM62E3NGLV:00000001": done reading request body.
2023-12-06 15:13:37.653 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:13:37.653 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:13:37.653 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:13:37.653 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:13:37.654 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:13:37.655 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:13:37.655 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:13:37.655 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:13:37.655 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:13:37.655 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:13:37.655 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:13:37.655 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:13:37.655 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:13:37.658 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:13:37.658 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:13:37.658 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:13:37.658 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:13:37.659 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:13:37.659 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:13:37.659 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:13:37.659 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:13:37.659 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:13:37.659 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:13:37.659 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 7.6735ms
2023-12-06 15:13:37.660 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:13:37.660 +07:00 [DBG] Connection id "0HMVM62E3NGLV" completed keep alive response.
2023-12-06 15:13:37.660 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:13:37.660 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:13:37.660 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:13:37.660 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 9.1938ms
2023-12-06 15:13:48.846 +07:00 [DBG] Connection id "0HMVM62E3NGLV" reset.
2023-12-06 15:13:48.847 +07:00 [DBG] Connection id "0HMVM62E3NGLV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:13:48.847 +07:00 [DBG] Connection id "0HMVM62E3NGLV" disconnecting.
2023-12-06 15:13:48.857 +07:00 [DBG] Connection id "0HMVM62E3NGLV" stopped.
2023-12-06 15:13:55.193 +07:00 [DBG] Connection id "0HMVM62E3NGM0" accepted.
2023-12-06 15:13:55.194 +07:00 [DBG] Connection id "0HMVM62E3NGM0" started.
2023-12-06 15:13:55.225 +07:00 [DBG] Connection 0HMVM62E3NGM0 established using the following protocol: "Tls13"
2023-12-06 15:13:55.313 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:13:55.313 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:13:55.313 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:13:55.313 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:13:55.313 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:13:55.314 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:13:55.314 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:13:55.314 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:13:55.314 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:13:55.314 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:13:55.314 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:13:55.314 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:13:55.314 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:13:55.314 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:13:55.314 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:13:55.315 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:13:55.315 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:13:55.315 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:13:55.315 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:13:55.315 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:13:55.315 +07:00 [DBG] Connection id "0HMVM62E3NGM0", Request id "0HMVM62E3NGM0:00000001": started reading request body.
2023-12-06 15:13:55.315 +07:00 [DBG] Connection id "0HMVM62E3NGM0", Request id "0HMVM62E3NGM0:00000001": done reading request body.
2023-12-06 15:13:55.316 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:13:55.316 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:13:55.316 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:13:55.316 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:13:55.317 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:13:55.318 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:13:55.318 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:13:55.318 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:13:55.318 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:13:55.318 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:13:55.318 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:13:55.318 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:13:55.318 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:13:55.321 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:13:55.322 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:13:55.322 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:13:55.322 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:13:55.322 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:13:55.322 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:13:55.323 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:13:55.323 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:13:55.323 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:13:55.323 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:13:55.323 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 8.7046ms
2023-12-06 15:13:55.323 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:13:55.323 +07:00 [DBG] Connection id "0HMVM62E3NGM0" completed keep alive response.
2023-12-06 15:13:55.323 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:13:55.323 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:13:55.323 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:13:55.324 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 10.8852ms
2023-12-06 15:13:55.919 +07:00 [DBG] Connection id "0HMVM62E3NGM0" reset.
2023-12-06 15:13:55.919 +07:00 [DBG] Connection id "0HMVM62E3NGM0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:13:55.921 +07:00 [DBG] Connection id "0HMVM62E3NGM0" disconnecting.
2023-12-06 15:13:55.921 +07:00 [DBG] Connection id "0HMVM62E3NGM0" stopped.
2023-12-06 15:14:19.871 +07:00 [DBG] Connection id "0HMVM62E3NGM1" accepted.
2023-12-06 15:14:19.872 +07:00 [DBG] Connection id "0HMVM62E3NGM1" started.
2023-12-06 15:14:20.029 +07:00 [DBG] Connection 0HMVM62E3NGM1 established using the following protocol: "Tls13"
2023-12-06 15:14:20.221 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:14:20.221 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:14:20.221 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:14:20.221 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:14:20.221 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:14:20.222 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:14:20.222 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:14:20.222 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:14:20.223 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:14:20.223 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:14:20.223 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:14:20.223 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:14:20.223 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:14:20.223 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:14:20.223 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:14:20.224 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:14:20.224 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:14:20.224 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:14:20.224 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:14:20.224 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:14:20.225 +07:00 [DBG] Connection id "0HMVM62E3NGM1", Request id "0HMVM62E3NGM1:00000001": started reading request body.
2023-12-06 15:14:20.225 +07:00 [DBG] Connection id "0HMVM62E3NGM1", Request id "0HMVM62E3NGM1:00000001": done reading request body.
2023-12-06 15:14:20.225 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:14:20.225 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:14:20.225 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:14:20.225 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:14:20.227 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:14:20.227 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:14:20.227 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:14:20.227 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:14:20.228 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:14:20.228 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:14:20.228 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:14:20.229 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:14:20.229 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:14:20.233 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:14:20.233 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:14:20.234 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:14:20.234 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:14:20.234 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:14:20.234 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:14:20.234 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:14:20.235 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:14:20.235 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:14:20.235 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:14:20.235 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 12.1486ms
2023-12-06 15:14:20.235 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:14:20.235 +07:00 [DBG] Connection id "0HMVM62E3NGM1" completed keep alive response.
2023-12-06 15:14:20.235 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:14:20.236 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:14:20.236 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:14:20.236 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 15.3492ms
2023-12-06 15:14:20.775 +07:00 [DBG] Connection id "0HMVM62E3NGM1" reset.
2023-12-06 15:14:20.785 +07:00 [DBG] Connection id "0HMVM62E3NGM1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:14:20.786 +07:00 [DBG] Connection id "0HMVM62E3NGM1" disconnecting.
2023-12-06 15:14:20.789 +07:00 [DBG] Connection id "0HMVM62E3NGM1" stopped.
2023-12-06 15:16:19.116 +07:00 [DBG] Connection id "0HMVM62E3NGM2" accepted.
2023-12-06 15:16:19.117 +07:00 [DBG] Connection id "0HMVM62E3NGM2" started.
2023-12-06 15:16:19.294 +07:00 [DBG] Connection 0HMVM62E3NGM2 established using the following protocol: "Tls13"
2023-12-06 15:16:19.618 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:16:19.621 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:16:19.622 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:16:19.622 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:16:19.700 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:16:19.776 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:16:19.777 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:16:19.777 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:16:19.781 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:16:19.782 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:16:19.782 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:16:19.783 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:16:19.784 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:16:19.784 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:16:19.784 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:16:19.802 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:16:19.806 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:16:19.811 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:16:19.818 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:16:19.819 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:16:19.823 +07:00 [DBG] Connection id "0HMVM62E3NGM2", Request id "0HMVM62E3NGM2:00000001": started reading request body.
2023-12-06 15:16:19.823 +07:00 [DBG] Connection id "0HMVM62E3NGM2", Request id "0HMVM62E3NGM2:00000001": done reading request body.
2023-12-06 15:16:19.828 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:16:19.828 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:16:19.828 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:16:19.832 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:16:19.859 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:16:19.876 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:16:19.877 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:16:19.883 +07:00 [DBG] Created DbConnection. (5ms).
2023-12-06 15:16:19.884 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2023-12-06 15:16:19.886 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2023-12-06 15:16:19.887 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:16:19.890 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:16:19.891 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:16:19.926 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:16:19.930 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:16:19.932 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:16:19.932 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 5ms reading results.
2023-12-06 15:16:19.933 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:16:19.933 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:16:19.939 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:16:19.939 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:16:19.939 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:16:19.940 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:16:19.945 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 160.2152ms
2023-12-06 15:16:19.945 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:16:19.945 +07:00 [DBG] Connection id "0HMVM62E3NGM2" completed keep alive response.
2023-12-06 15:16:19.945 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:16:19.945 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:16:19.945 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:16:19.946 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 328.0035ms
2023-12-06 15:16:55.429 +07:00 [DBG] Connection id "0HMVM62E3NGM2" reset.
2023-12-06 15:16:55.437 +07:00 [DBG] Connection id "0HMVM62E3NGM2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:16:55.438 +07:00 [DBG] Connection id "0HMVM62E3NGM2" disconnecting.
2023-12-06 15:16:55.443 +07:00 [DBG] Connection id "0HMVM62E3NGM2" stopped.
2023-12-06 15:17:09.699 +07:00 [DBG] Connection id "0HMVM62E3NGM3" accepted.
2023-12-06 15:17:09.700 +07:00 [DBG] Connection id "0HMVM62E3NGM3" started.
2023-12-06 15:17:09.736 +07:00 [DBG] Connection 0HMVM62E3NGM3 established using the following protocol: "Tls13"
2023-12-06 15:17:09.899 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:17:09.900 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:17:09.900 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:17:09.900 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:17:09.900 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:17:09.901 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:17:09.901 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:17:09.901 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:17:09.901 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:17:09.901 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:17:09.901 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:17:09.901 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:17:09.901 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:17:09.901 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:17:09.901 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:17:09.902 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:17:09.902 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:17:09.902 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:17:09.903 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:17:09.903 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:17:09.903 +07:00 [DBG] Connection id "0HMVM62E3NGM3", Request id "0HMVM62E3NGM3:00000001": started reading request body.
2023-12-06 15:17:09.903 +07:00 [DBG] Connection id "0HMVM62E3NGM3", Request id "0HMVM62E3NGM3:00000001": done reading request body.
2023-12-06 15:17:09.904 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:17:09.904 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:17:09.904 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:17:09.905 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:17:09.906 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:17:09.907 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:17:09.908 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:17:09.908 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:17:09.908 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:17:09.908 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:17:09.908 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:17:09.909 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:17:09.909 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:17:09.913 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:17:09.921 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:17:09.921 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:17:09.921 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 7ms reading results.
2023-12-06 15:17:09.921 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:17:09.921 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:17:09.922 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:17:09.922 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:17:09.922 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:17:09.922 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:17:09.922 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 20.9333ms
2023-12-06 15:17:09.922 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:17:09.922 +07:00 [DBG] Connection id "0HMVM62E3NGM3" completed keep alive response.
2023-12-06 15:17:09.922 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:17:09.922 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:17:09.922 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:17:09.923 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 23.5644ms
2023-12-06 15:17:16.110 +07:00 [DBG] Connection id "0HMVM62E3NGM3" received FIN.
2023-12-06 15:17:16.110 +07:00 [DBG] Connection id "0HMVM62E3NGM3" disconnecting.
2023-12-06 15:17:16.110 +07:00 [DBG] Connection id "0HMVM62E3NGM3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:17:16.111 +07:00 [DBG] Connection id "0HMVM62E3NGM3" stopped.
2023-12-06 15:17:40.999 +07:00 [DBG] Connection id "0HMVM62E3NGM4" accepted.
2023-12-06 15:17:40.999 +07:00 [DBG] Connection id "0HMVM62E3NGM4" started.
2023-12-06 15:17:41.046 +07:00 [DBG] Connection 0HMVM62E3NGM4 established using the following protocol: "Tls13"
2023-12-06 15:17:41.148 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:17:41.148 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:17:41.148 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:17:41.148 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:17:41.148 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:17:41.149 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:17:41.149 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:17:41.149 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:17:41.149 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:17:41.149 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:17:41.149 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:17:41.149 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:17:41.149 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:17:41.149 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:17:41.149 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:17:41.149 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:17:41.149 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:17:41.150 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:17:41.150 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:17:41.150 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:17:41.150 +07:00 [DBG] Connection id "0HMVM62E3NGM4", Request id "0HMVM62E3NGM4:00000001": started reading request body.
2023-12-06 15:17:41.150 +07:00 [DBG] Connection id "0HMVM62E3NGM4", Request id "0HMVM62E3NGM4:00000001": done reading request body.
2023-12-06 15:17:41.150 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:17:41.150 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:17:41.150 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:17:41.150 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:17:41.152 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:17:41.153 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:17:41.153 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:17:41.153 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:17:41.153 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:17:41.153 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:17:41.153 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:17:41.154 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:17:41.154 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:17:41.203 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:17:41.203 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:17:41.203 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:17:41.204 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:17:41.204 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:17:41.204 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:17:41.205 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:17:41.206 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:17:41.206 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:17:41.206 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:17:41.207 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 57.6195ms
2023-12-06 15:17:41.207 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:17:41.207 +07:00 [DBG] Connection id "0HMVM62E3NGM4" completed keep alive response.
2023-12-06 15:17:41.207 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:17:41.207 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:17:41.207 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:17:41.207 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 59.2297ms
2023-12-06 15:18:01.006 +07:00 [DBG] Connection id "0HMVM62E3NGM4" reset.
2023-12-06 15:18:01.006 +07:00 [DBG] Connection id "0HMVM62E3NGM4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:18:01.006 +07:00 [DBG] Connection id "0HMVM62E3NGM4" disconnecting.
2023-12-06 15:18:01.013 +07:00 [DBG] Connection id "0HMVM62E3NGM4" stopped.
2023-12-06 15:19:44.974 +07:00 [DBG] Connection id "0HMVM62E3NGM5" accepted.
2023-12-06 15:19:44.975 +07:00 [DBG] Connection id "0HMVM62E3NGM5" started.
2023-12-06 15:19:45.048 +07:00 [DBG] Connection 0HMVM62E3NGM5 established using the following protocol: "Tls13"
2023-12-06 15:19:45.197 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:19:45.197 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:19:45.197 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:19:45.197 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:19:45.197 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:19:45.198 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:19:45.198 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:19:45.198 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:19:45.198 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:19:45.198 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:19:45.198 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:19:45.199 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:19:45.199 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:19:45.199 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:19:45.199 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:19:45.200 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:19:45.200 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:19:45.200 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:19:45.200 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:19:45.200 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:19:45.200 +07:00 [DBG] Connection id "0HMVM62E3NGM5", Request id "0HMVM62E3NGM5:00000001": started reading request body.
2023-12-06 15:19:45.200 +07:00 [DBG] Connection id "0HMVM62E3NGM5", Request id "0HMVM62E3NGM5:00000001": done reading request body.
2023-12-06 15:19:45.200 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:19:45.200 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:19:45.201 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:19:45.201 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:19:45.203 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:19:45.205 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:19:45.205 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:19:45.205 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:19:45.205 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:19:45.205 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:19:45.205 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:19:45.205 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:19:45.206 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:19:45.209 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:19:45.209 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:19:45.209 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:19:45.209 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:19:45.209 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:19:45.209 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:19:45.210 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:19:45.210 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:19:45.210 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:19:45.210 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:19:45.211 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 11.9751ms
2023-12-06 15:19:45.211 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:19:45.211 +07:00 [DBG] Connection id "0HMVM62E3NGM5" completed keep alive response.
2023-12-06 15:19:45.211 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:19:45.211 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:19:45.211 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:19:45.211 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 13.7207ms
2023-12-06 15:19:45.711 +07:00 [DBG] Connection id "0HMVM62E3NGM5" reset.
2023-12-06 15:19:45.713 +07:00 [DBG] Connection id "0HMVM62E3NGM5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:19:45.716 +07:00 [DBG] Connection id "0HMVM62E3NGM5" disconnecting.
2023-12-06 15:19:45.720 +07:00 [DBG] Connection id "0HMVM62E3NGM5" stopped.
2023-12-06 15:20:28.043 +07:00 [DBG] Connection id "0HMVM62E3NGM6" accepted.
2023-12-06 15:20:28.044 +07:00 [DBG] Connection id "0HMVM62E3NGM6" started.
2023-12-06 15:20:28.102 +07:00 [DBG] Connection 0HMVM62E3NGM6 established using the following protocol: "Tls13"
2023-12-06 15:20:28.215 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56
2023-12-06 15:20:28.215 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:20:28.215 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:20:28.215 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:20:28.215 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:20:28.215 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:20:28.215 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:20:28.215 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:20:28.216 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:20:28.216 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:20:28.216 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:20:28.216 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:20:28.216 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:20:28.216 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:20:28.216 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:20:28.216 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:20:28.216 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:20:28.216 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:20:28.216 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:20:28.216 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2023-12-06 15:20:28.216 +07:00 [DBG] Connection id "0HMVM62E3NGM6", Request id "0HMVM62E3NGM6:00000001": started reading request body.
2023-12-06 15:20:28.216 +07:00 [DBG] Connection id "0HMVM62E3NGM6", Request id "0HMVM62E3NGM6:00000001": done reading request body.
2023-12-06 15:20:28.217 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:20:28.217 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:20:28.217 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:20:28.217 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:20:28.217 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:20:28.219 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:20:28.219 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:20:28.219 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:20:28.219 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:20:28.219 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:20:28.219 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:20:28.219 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:20:28.219 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:20:28.223 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:20:28.223 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:20:28.223 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:20:28.223 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:20:28.223 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:20:28.223 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:20:28.224 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:20:28.224 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:20:28.224 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:20:28.224 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:20:28.225 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 8.7636ms
2023-12-06 15:20:28.225 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:20:28.225 +07:00 [DBG] Connection id "0HMVM62E3NGM6" completed keep alive response.
2023-12-06 15:20:28.225 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:20:28.225 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:20:28.225 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:20:28.225 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7189/api/UsersAuth/login application/json;+charset=utf-8 56 - 200 362 application/json;+charset=utf-8 10.0956ms
2023-12-06 15:20:28.849 +07:00 [DBG] Connection id "0HMVM62E3NGM6" reset.
2023-12-06 15:20:28.849 +07:00 [DBG] Connection id "0HMVM62E3NGM6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:20:28.849 +07:00 [DBG] Connection id "0HMVM62E3NGM6" disconnecting.
2023-12-06 15:20:28.861 +07:00 [DBG] Connection id "0HMVM62E3NGM6" stopped.
2023-12-06 15:39:43.093 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 15:39:43.315 +07:00 [DBG] Hosting starting
2023-12-06 15:39:43.362 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-06 15:39:43.372 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-06 15:39:43.418 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-06 15:39:43.444 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-06 15:39:43.450 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 15:39:43.453 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-06 15:39:43.457 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 15:39:43.463 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-06 15:39:43.464 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-06 15:39:43.477 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-06 15:39:43.479 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-06 15:39:44.157 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 15:39:44.157 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 15:39:44.158 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 15:39:44.158 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 15:39:44.158 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 15:39:44.158 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 15:39:44.158 +07:00 [INF] Hosting environment: Development
2023-12-06 15:39:44.158 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 15:39:44.158 +07:00 [DBG] Hosting started
2023-12-06 15:39:44.221 +07:00 [DBG] Connection id "0HMVM6RIO3KHV" received FIN.
2023-12-06 15:39:44.221 +07:00 [DBG] Connection id "0HMVM6RIO3KI0" received FIN.
2023-12-06 15:39:44.373 +07:00 [DBG] Connection id "0HMVM6RIO3KHV" accepted.
2023-12-06 15:39:44.373 +07:00 [DBG] Connection id "0HMVM6RIO3KI0" accepted.
2023-12-06 15:39:44.384 +07:00 [DBG] Connection id "0HMVM6RIO3KHV" started.
2023-12-06 15:39:44.391 +07:00 [DBG] Connection id "0HMVM6RIO3KI0" started.
2023-12-06 15:39:44.619 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 15:39:44.643 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 15:39:45.717 +07:00 [DBG] Connection id "0HMVM6RIO3KI0" stopped.
2023-12-06 15:39:45.718 +07:00 [DBG] Connection id "0HMVM6RIO3KHV" stopped.
2023-12-06 15:39:45.727 +07:00 [DBG] Connection id "0HMVM6RIO3KHV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:39:45.727 +07:00 [DBG] Connection id "0HMVM6RIO3KI0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:39:46.614 +07:00 [DBG] Connection id "0HMVM6RIO3KI1" accepted.
2023-12-06 15:39:46.615 +07:00 [DBG] Connection id "0HMVM6RIO3KI1" started.
2023-12-06 15:39:47.370 +07:00 [DBG] Connection 0HMVM6RIO3KI1 established using the following protocol: "Tls13"
2023-12-06 15:39:47.906 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 15:39:48.069 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 15:39:48.215 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 15:39:48.217 +07:00 [DBG] Request did not match any endpoints
2023-12-06 15:39:48.817 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 15:39:50.326 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 15:39:50.337 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 2442.7330ms
2023-12-06 15:39:50.533 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 15:39:50.533 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 15:39:50.551 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 19.3746ms
2023-12-06 15:39:50.706 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 174.4012ms
2023-12-06 15:39:52.232 +07:00 [DBG] Connection id "0HMVM6RIO3KI1" received FIN.
2023-12-06 15:39:52.304 +07:00 [DBG] Connection id "0HMVM6RIO3KI1" is closed. The last processed stream ID was 5.
2023-12-06 15:39:52.308 +07:00 [DBG] Connection id "0HMVM6RIO3KI1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:39:52.309 +07:00 [DBG] The connection queue processing loop for 0HMVM6RIO3KI1 completed.
2023-12-06 15:39:52.314 +07:00 [DBG] Connection id "0HMVM6RIO3KI1" stopped.
2023-12-06 15:39:52.746 +07:00 [DBG] Connection id "0HMVM6RIO3KI2" accepted.
2023-12-06 15:39:52.776 +07:00 [DBG] Connection id "0HMVM6RIO3KI2" started.
2023-12-06 15:39:52.809 +07:00 [DBG] Connection 0HMVM6RIO3KI2 established using the following protocol: "Tls13"
2023-12-06 15:39:52.824 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 15:39:52.824 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 15:39:52.824 +07:00 [DBG] Request did not match any endpoints
2023-12-06 15:39:53.337 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 513.3910ms
2023-12-06 15:40:03.044 +07:00 [DBG] Connection id "0HMVM6RIO3KI3" accepted.
2023-12-06 15:40:03.044 +07:00 [DBG] Connection id "0HMVM6RIO3KI3" started.
2023-12-06 15:40:03.045 +07:00 [DBG] Connection id "0HMVM6RIO3KI3" received FIN.
2023-12-06 15:40:03.045 +07:00 [DBG] Connection id "0HMVM6RIO3KI4" accepted.
2023-12-06 15:40:03.045 +07:00 [DBG] Connection id "0HMVM6RIO3KI4" started.
2023-12-06 15:40:03.046 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 15:40:03.046 +07:00 [DBG] Connection id "0HMVM6RIO3KI3" stopped.
2023-12-06 15:40:03.047 +07:00 [DBG] Connection id "0HMVM6RIO3KI3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:40:03.050 +07:00 [DBG] Connection 0HMVM6RIO3KI4 established using the following protocol: "Tls13"
2023-12-06 15:40:03.061 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa/?sort=Name application/json 97
2023-12-06 15:40:03.065 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/'
2023-12-06 15:40:03.067 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa/'
2023-12-06 15:40:03.067 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:40:03.068 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:40:03.325 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:40:03.329 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:40:03.334 +07:00 [DBG] Authorization was successful.
2023-12-06 15:40:03.334 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:40:03.354 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:40:03.355 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:40:03.355 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:40:03.355 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:40:03.355 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:40:03.355 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:40:03.357 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:40:03.504 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-06 15:40:03.613 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:40:04.285 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:40:05.249 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .OrderBy( => .Name)'
2023-12-06 15:40:05.396 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v
        ORDER BY v.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)'
2023-12-06 15:40:05.428 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:40:05.429 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:40:05.449 +07:00 [DBG] Created DbConnection. (15ms).
2023-12-06 15:40:05.452 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2023-12-06 15:40:05.453 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2023-12-06 15:40:05.457 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:05.672 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:05.679 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:40:05.746 +07:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:40:05.769 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:40:05.793 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:40:05.794 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:40:05.798 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:40:05.804 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 53ms reading results.
2023-12-06 15:40:05.810 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:05.817 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (7ms).
2023-12-06 15:40:05.837 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:40:05.838 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 15:40:05.838 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 15:40:05.838 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 15:40:05.838 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:40:05.838 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:40:05.918 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 2558.2238ms
2023-12-06 15:40:05.918 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:40:05.919 +07:00 [DBG] Connection id "0HMVM6RIO3KI4" completed keep alive response.
2023-12-06 15:40:05.920 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:40:05.923 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:05.924 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-06 15:40:05.925 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa/?sort=Name application/json 97 - 200 379 application/json;+charset=utf-8 2864.0562ms
2023-12-06 15:40:05.926 +07:00 [DBG] Connection id "0HMVM6RIO3KI4", Request id "0HMVM6RIO3KI4:00000001": started reading request body.
2023-12-06 15:40:05.927 +07:00 [DBG] Connection id "0HMVM6RIO3KI4", Request id "0HMVM6RIO3KI4:00000001": done reading request body.
2023-12-06 15:40:07.235 +07:00 [DBG] Connection id "0HMVM6RIO3KI2" received FIN.
2023-12-06 15:40:07.235 +07:00 [DBG] Connection id "0HMVM6RIO3KI2" is closed. The last processed stream ID was 1.
2023-12-06 15:40:07.235 +07:00 [DBG] Connection id "0HMVM6RIO3KI2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:40:07.236 +07:00 [DBG] The connection queue processing loop for 0HMVM6RIO3KI2 completed.
2023-12-06 15:40:07.236 +07:00 [DBG] Connection id "0HMVM6RIO3KI2" stopped.
2023-12-06 15:40:21.222 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa/?sort=Name%20desc application/json 97
2023-12-06 15:40:21.224 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/'
2023-12-06 15:40:21.224 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa/'
2023-12-06 15:40:21.224 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:40:21.224 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:40:21.226 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:40:21.226 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:40:21.228 +07:00 [DBG] Authorization was successful.
2023-12-06 15:40:21.228 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:40:21.228 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:40:21.228 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:40:21.228 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:40:21.228 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:40:21.228 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:40:21.228 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:40:21.228 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:40:21.229 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:40:21.244 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:40:21.248 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:40:21.248 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:40:21.249 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:40:21.249 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:40:21.249 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:40:21.249 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:21.250 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:21.250 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:40:21.259 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:40:21.260 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:40:21.260 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:40:21.260 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:40:21.260 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:40:21.260 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:40:21.260 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:21.260 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:40:21.261 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:40:21.261 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 15:40:21.261 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 15:40:21.261 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 15:40:21.261 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:40:21.261 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:40:21.262 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 33.9359ms
2023-12-06 15:40:21.263 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:40:21.263 +07:00 [DBG] Connection id "0HMVM6RIO3KI4" completed keep alive response.
2023-12-06 15:40:21.263 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:40:21.263 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:21.263 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:40:21.263 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa/?sort=Name%20desc application/json 97 - 200 379 application/json;+charset=utf-8 40.9502ms
2023-12-06 15:40:21.263 +07:00 [DBG] Connection id "0HMVM6RIO3KI4", Request id "0HMVM6RIO3KI4:00000002": started reading request body.
2023-12-06 15:40:21.263 +07:00 [DBG] Connection id "0HMVM6RIO3KI4", Request id "0HMVM6RIO3KI4:00000002": done reading request body.
2023-12-06 15:40:32.098 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa/?sort=rate application/json 97
2023-12-06 15:40:32.098 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/'
2023-12-06 15:40:32.098 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa/'
2023-12-06 15:40:32.098 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:40:32.098 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:40:32.100 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:40:32.100 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:40:32.101 +07:00 [DBG] Authorization was successful.
2023-12-06 15:40:32.102 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:40:32.103 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:40:32.103 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:40:32.103 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:40:32.103 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:40:32.104 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:40:32.104 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:40:32.104 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:40:32.106 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:40:32.164 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:40:32.165 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:40:32.165 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:40:32.165 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:40:32.165 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:40:32.165 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:40:32.165 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:32.166 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:32.166 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:40:32.171 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:40:32.171 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:40:32.171 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:40:32.171 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:40:32.171 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:40:32.172 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:40:32.172 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:32.172 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:40:32.172 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:40:32.172 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 15:40:32.172 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 15:40:32.172 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 15:40:32.172 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:40:32.172 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:40:32.172 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 68.6426ms
2023-12-06 15:40:32.172 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:40:32.172 +07:00 [DBG] Connection id "0HMVM6RIO3KI4" completed keep alive response.
2023-12-06 15:40:32.172 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:40:32.172 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:40:32.173 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:40:32.173 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa/?sort=rate application/json 97 - 200 379 application/json;+charset=utf-8 75.0528ms
2023-12-06 15:40:32.173 +07:00 [DBG] Connection id "0HMVM6RIO3KI4", Request id "0HMVM6RIO3KI4:00000003": started reading request body.
2023-12-06 15:40:32.173 +07:00 [DBG] Connection id "0HMVM6RIO3KI4", Request id "0HMVM6RIO3KI4:00000003": done reading request body.
2023-12-06 15:43:12.972 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7189/api/Villa/?sort= application/json 97
2023-12-06 15:43:12.972 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/'
2023-12-06 15:43:12.972 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa/'
2023-12-06 15:43:12.972 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:43:12.972 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:43:12.973 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:43:12.973 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:43:12.973 +07:00 [DBG] Authorization was successful.
2023-12-06 15:43:12.973 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:43:12.973 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas() on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:43:12.973 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:43:12.973 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:43:12.973 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:43:12.973 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:43:12.973 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:43:12.973 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:43:12.973 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:43:12.976 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:43:12.985 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:43:12.985 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:43:12.986 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:43:12.986 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-06 15:43:12.986 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-06 15:43:12.989 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:43:12.992 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:43:12.992 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:43:12.996 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:43:12.998 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:43:12.998 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:43:12.999 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:43:12.999 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:43:12.999 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 1ms reading results.
2023-12-06 15:43:12.999 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:43:12.999 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:43:12.999 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:43:12.999 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 15:43:12.999 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 15:43:12.999 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 15:43:12.999 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:43:12.999 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:43:13.000 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 27.3146ms
2023-12-06 15:43:13.001 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:43:13.001 +07:00 [DBG] Connection id "0HMVM6RIO3KI4" completed keep alive response.
2023-12-06 15:43:13.001 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:43:13.001 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:43:13.001 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:43:13.001 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7189/api/Villa/?sort= application/json 97 - 200 379 application/json;+charset=utf-8 29.3707ms
2023-12-06 15:43:13.001 +07:00 [DBG] Connection id "0HMVM6RIO3KI4", Request id "0HMVM6RIO3KI4:00000004": started reading request body.
2023-12-06 15:43:13.001 +07:00 [DBG] Connection id "0HMVM6RIO3KI4", Request id "0HMVM6RIO3KI4:00000004": done reading request body.
2023-12-06 15:46:16.803 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 15:46:16.914 +07:00 [DBG] Hosting starting
2023-12-06 15:46:16.941 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-06 15:46:16.945 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-06 15:46:16.961 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-06 15:46:16.971 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-06 15:46:16.973 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 15:46:16.974 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-06 15:46:16.976 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 15:46:16.978 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-06 15:46:16.979 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-06 15:46:16.980 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-06 15:46:16.981 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-06 15:46:17.417 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 15:46:17.417 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 15:46:17.417 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 15:46:17.417 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 15:46:17.418 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 15:46:17.418 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 15:46:17.418 +07:00 [INF] Hosting environment: Development
2023-12-06 15:46:17.418 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 15:46:17.418 +07:00 [DBG] Hosting started
2023-12-06 15:46:17.721 +07:00 [DBG] Connection id "0HMVM6V80QAJM" received FIN.
2023-12-06 15:46:17.726 +07:00 [DBG] Connection id "0HMVM6V80QAJM" accepted.
2023-12-06 15:46:17.727 +07:00 [DBG] Connection id "0HMVM6V80QAJM" started.
2023-12-06 15:46:17.753 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 15:46:17.809 +07:00 [DBG] Connection id "0HMVM6V80QAJM" stopped.
2023-12-06 15:46:17.811 +07:00 [DBG] Connection id "0HMVM6V80QAJM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:46:18.400 +07:00 [DBG] Connection id "0HMVM6V80QAJN" accepted.
2023-12-06 15:46:18.433 +07:00 [DBG] Connection id "0HMVM6V80QAJN" started.
2023-12-06 15:46:18.631 +07:00 [DBG] Connection 0HMVM6V80QAJN established using the following protocol: "Tls13"
2023-12-06 15:46:18.834 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 15:46:18.894 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 15:46:18.958 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 15:46:18.958 +07:00 [DBG] Request did not match any endpoints
2023-12-06 15:46:19.125 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 15:46:19.330 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 15:46:19.336 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 503.6237ms
2023-12-06 15:46:19.414 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 15:46:19.414 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 15:46:19.461 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 46.7400ms
2023-12-06 15:46:19.506 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 91.1662ms
2023-12-06 15:46:20.912 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 15:46:20.913 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 15:46:20.913 +07:00 [DBG] Request did not match any endpoints
2023-12-06 15:46:21.272 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 359.7554ms
2023-12-06 15:46:22.851 +07:00 [DBG] Connection id "0HMVM6V80QAJN" received FIN.
2023-12-06 15:46:22.855 +07:00 [DBG] The connection queue processing loop for 0HMVM6V80QAJN completed.
2023-12-06 15:46:22.860 +07:00 [DBG] Connection id "0HMVM6V80QAJN" is closed. The last processed stream ID was 7.
2023-12-06 15:46:22.861 +07:00 [DBG] Connection id "0HMVM6V80QAJN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:46:22.865 +07:00 [DBG] Connection id "0HMVM6V80QAJN" stopped.
2023-12-06 15:47:15.116 +07:00 [DBG] Connection id "0HMVM6V80QAJO" accepted.
2023-12-06 15:47:15.117 +07:00 [DBG] Connection id "0HMVM6V80QAJO" started.
2023-12-06 15:47:15.130 +07:00 [DBG] Connection 0HMVM6V80QAJO established using the following protocol: "Tls13"
2023-12-06 15:47:15.132 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa/3?query=sort%20%3D%20Name%20desc - -
2023-12-06 15:47:15.136 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/3'
2023-12-06 15:47:15.142 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/3'
2023-12-06 15:47:15.142 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 15:47:15.145 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:47:15.392 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:47:15.394 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:47:15.400 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-06 15:47:15.402 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-06 15:47:15.402 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa/3?query=sort%20%3D%20Name%20desc - - - 403 0 - 269.6210ms
2023-12-06 15:47:17.921 +07:00 [DBG] Connection id "0HMVM6V80QAJO" received FIN.
2023-12-06 15:47:17.921 +07:00 [DBG] Connection id "0HMVM6V80QAJO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:47:17.921 +07:00 [DBG] Connection id "0HMVM6V80QAJO" is closed. The last processed stream ID was 1.
2023-12-06 15:47:17.922 +07:00 [DBG] The connection queue processing loop for 0HMVM6V80QAJO completed.
2023-12-06 15:47:17.922 +07:00 [DBG] Connection id "0HMVM6V80QAJO" stopped.
2023-12-06 15:47:20.691 +07:00 [DBG] Connection id "0HMVM6V80QAJP" accepted.
2023-12-06 15:47:20.691 +07:00 [DBG] Connection id "0HMVM6V80QAJP" started.
2023-12-06 15:47:20.694 +07:00 [DBG] Connection 0HMVM6V80QAJP established using the following protocol: "Tls13"
2023-12-06 15:47:20.695 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa/3?query=sort%20%3D%20Name%20desc - -
2023-12-06 15:47:20.701 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/3'
2023-12-06 15:47:20.721 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/3'
2023-12-06 15:47:20.721 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 15:47:20.721 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:47:20.723 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:47:20.723 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:47:20.724 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-06 15:47:20.725 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-06 15:47:20.725 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa/3?query=sort%20%3D%20Name%20desc - - - 403 0 - 29.8862ms
2023-12-06 15:47:22.933 +07:00 [DBG] Connection id "0HMVM6V80QAJP" received FIN.
2023-12-06 15:47:22.934 +07:00 [DBG] Connection id "0HMVM6V80QAJP" is closed. The last processed stream ID was 1.
2023-12-06 15:47:22.934 +07:00 [DBG] Connection id "0HMVM6V80QAJP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:47:22.934 +07:00 [DBG] The connection queue processing loop for 0HMVM6V80QAJP completed.
2023-12-06 15:47:22.934 +07:00 [DBG] Connection id "0HMVM6V80QAJP" stopped.
2023-12-06 15:47:29.286 +07:00 [DBG] Connection id "0HMVM6V80QAJQ" accepted.
2023-12-06 15:47:29.286 +07:00 [DBG] Connection id "0HMVM6V80QAJQ" started.
2023-12-06 15:47:29.290 +07:00 [DBG] Connection 0HMVM6V80QAJQ established using the following protocol: "Tls13"
2023-12-06 15:47:29.292 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa/3 - -
2023-12-06 15:47:29.292 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/3'
2023-12-06 15:47:29.292 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/3'
2023-12-06 15:47:29.292 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 15:47:29.292 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:47:29.293 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:47:29.293 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:47:29.295 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-12-06 15:47:29.296 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-06 15:47:29.296 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa/3 - - - 403 0 - 4.5511ms
2023-12-06 15:47:38.105 +07:00 [DBG] Connection id "0HMVM6V80QAJQ" received FIN.
2023-12-06 15:47:38.107 +07:00 [DBG] Connection id "0HMVM6V80QAJQ" is closed. The last processed stream ID was 1.
2023-12-06 15:47:38.107 +07:00 [DBG] Connection id "0HMVM6V80QAJQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:47:38.107 +07:00 [DBG] The connection queue processing loop for 0HMVM6V80QAJQ completed.
2023-12-06 15:47:38.108 +07:00 [DBG] Connection id "0HMVM6V80QAJQ" stopped.
2023-12-06 15:48:03.356 +07:00 [DBG] Connection id "0HMVM6V80QAJR" accepted.
2023-12-06 15:48:03.356 +07:00 [DBG] Connection id "0HMVM6V80QAJR" started.
2023-12-06 15:48:03.368 +07:00 [DBG] Connection 0HMVM6V80QAJR established using the following protocol: "Tls13"
2023-12-06 15:48:03.370 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53
2023-12-06 15:48:03.370 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:48:03.370 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:48:03.370 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:48:03.370 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:48:03.371 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:48:03.371 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:48:03.372 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:48:03.407 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:48:03.409 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:48:03.410 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:48:03.410 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:48:03.411 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:48:03.411 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:48:03.413 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:48:03.604 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-06 15:48:03.632 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:48:03.651 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:48:03.654 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:48:03.655 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 15:48:03.655 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 15:48:03.663 +07:00 [DBG] Connection id "0HMVM6V80QAJR", Request id "0HMVM6V80QAJR:00000001": started reading request body.
2023-12-06 15:48:03.663 +07:00 [DBG] Connection id "0HMVM6V80QAJR", Request id "0HMVM6V80QAJR:00000001": done reading request body.
2023-12-06 15:48:03.734 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:48:03.734 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:48:03.734 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:48:03.745 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:48:04.357 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:48:04.436 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-06 15:48:04.607 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-06 15:48:04.639 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:48:04.640 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:48:04.665 +07:00 [DBG] Created DbConnection. (21ms).
2023-12-06 15:48:04.669 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (31ms).
2023-12-06 15:48:04.678 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (39ms).
2023-12-06 15:48:04.680 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:48:04.968 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:48:04.977 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:48:05.090 +07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:48:05.111 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:48:05.129 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:48:05.135 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 40ms reading results.
2023-12-06 15:48:05.136 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:48:05.141 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (4ms).
2023-12-06 15:48:05.153 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:48:05.154 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 15:48:05.154 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 15:48:05.154 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 15:48:05.155 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:48:05.155 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:48:05.201 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 1786.167ms
2023-12-06 15:48:05.201 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:48:05.204 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:48:05.209 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:48:05.212 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2023-12-06 15:48:05.213 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53 - 200 359 application/json;+charset=utf-8 1842.7665ms
2023-12-06 15:48:12.973 +07:00 [DBG] Connection id "0HMVM6V80QAJR" received FIN.
2023-12-06 15:48:12.974 +07:00 [DBG] Connection id "0HMVM6V80QAJR" is closed. The last processed stream ID was 1.
2023-12-06 15:48:12.974 +07:00 [DBG] Connection id "0HMVM6V80QAJR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:48:12.975 +07:00 [DBG] The connection queue processing loop for 0HMVM6V80QAJR completed.
2023-12-06 15:48:12.975 +07:00 [DBG] Connection id "0HMVM6V80QAJR" stopped.
2023-12-06 15:48:21.858 +07:00 [DBG] Connection id "0HMVM6V80QAJS" accepted.
2023-12-06 15:48:21.858 +07:00 [DBG] Connection id "0HMVM6V80QAJS" started.
2023-12-06 15:48:21.861 +07:00 [DBG] Connection 0HMVM6V80QAJS established using the following protocol: "Tls13"
2023-12-06 15:48:21.863 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa/3 - -
2023-12-06 15:48:21.863 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa/3'
2023-12-06 15:48:21.863 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)' with route pattern 'api/Villa/{id:int}' is valid for the request path '/api/Villa/3'
2023-12-06 15:48:21.863 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 15:48:21.885 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:48:21.891 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:48:21.892 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:48:21.899 +07:00 [DBG] Authorization was successful.
2023-12-06 15:48:21.902 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 15:48:21.912 +07:00 [INF] Route matched with {action = "GetVilla", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVilla(Int32, System.String) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:48:21.913 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:48:21.913 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:48:21.913 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:48:21.913 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:48:21.913 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:48:21.913 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:48:21.998 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:48:21.999 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-06 15:48:21.999 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-06 15:48:22.001 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-06 15:48:22.001 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-06 15:48:22.001 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-06 15:48:22.001 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-06 15:48:22.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-06 15:48:22.002 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-06 15:48:22.002 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-06 15:48:22.002 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:48:22.002 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:48:22.002 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-06 15:48:22.002 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-06 15:48:22.017 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:48:22.022 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(s => s.Id == __id_0)
    .FirstOrDefault()'
2023-12-06 15:48:22.031 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MOC1.Data.ApplicationContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-06 15:48:22.045 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:48:22.045 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:48:22.045 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:48:22.045 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:48:22.046 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:48:22.048 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:48:22.051 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:48:22.051 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-12-06 15:48:22.081 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-12-06 15:48:22.098 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:48:22.134 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:48:22.135 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 53ms reading results.
2023-12-06 15:48:22.138 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:48:22.139 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:48:22.161 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:48:22.165 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:48:22.166 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:48:22.166 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:48:22.176 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVilla (MOC1) in 263.2074ms
2023-12-06 15:48:22.177 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVilla (MOC1)'
2023-12-06 15:48:22.179 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:48:22.179 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:48:22.180 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:48:22.180 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa/3 - - - 200 190 application/json;+charset=utf-8 317.5308ms
2023-12-06 15:48:22.984 +07:00 [DBG] Connection id "0HMVM6V80QAJS" received FIN.
2023-12-06 15:48:22.984 +07:00 [DBG] Connection id "0HMVM6V80QAJS" is closed. The last processed stream ID was 1.
2023-12-06 15:48:22.985 +07:00 [DBG] Connection id "0HMVM6V80QAJS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:48:22.985 +07:00 [DBG] The connection queue processing loop for 0HMVM6V80QAJS completed.
2023-12-06 15:48:22.985 +07:00 [DBG] Connection id "0HMVM6V80QAJS" stopped.
2023-12-06 15:55:04.226 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 15:55:04.831 +07:00 [DBG] Hosting starting
2023-12-06 15:55:04.872 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-06 15:55:04.881 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-06 15:55:04.914 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-06 15:55:04.934 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-06 15:55:04.937 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 15:55:04.939 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-06 15:55:04.942 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 15:55:04.947 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-06 15:55:04.949 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-06 15:55:04.951 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-06 15:55:04.952 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-06 15:55:05.383 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 15:55:05.383 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 15:55:05.384 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 15:55:05.384 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 15:55:05.384 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 15:55:05.384 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 15:55:05.384 +07:00 [INF] Hosting environment: Development
2023-12-06 15:55:05.384 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 15:55:05.385 +07:00 [DBG] Hosting started
2023-12-06 15:55:05.531 +07:00 [DBG] Connection id "0HMVM745ACPB6" accepted.
2023-12-06 15:55:05.531 +07:00 [DBG] Connection id "0HMVM745ACPB7" accepted.
2023-12-06 15:55:05.533 +07:00 [DBG] Connection id "0HMVM745ACPB6" started.
2023-12-06 15:55:05.533 +07:00 [DBG] Connection id "0HMVM745ACPB7" started.
2023-12-06 15:55:05.572 +07:00 [DBG] Connection id "0HMVM745ACPB7" received FIN.
2023-12-06 15:55:05.572 +07:00 [DBG] Connection id "0HMVM745ACPB6" received FIN.
2023-12-06 15:55:05.614 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 15:55:05.615 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 15:55:05.698 +07:00 [DBG] Connection id "0HMVM745ACPB7" stopped.
2023-12-06 15:55:05.698 +07:00 [DBG] Connection id "0HMVM745ACPB6" stopped.
2023-12-06 15:55:05.702 +07:00 [DBG] Connection id "0HMVM745ACPB6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:55:05.702 +07:00 [DBG] Connection id "0HMVM745ACPB7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:55:06.554 +07:00 [DBG] Connection id "0HMVM745ACPB8" accepted.
2023-12-06 15:55:06.559 +07:00 [DBG] Connection id "0HMVM745ACPB8" started.
2023-12-06 15:55:06.883 +07:00 [DBG] Connection 0HMVM745ACPB8 established using the following protocol: "Tls13"
2023-12-06 15:55:07.172 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 15:55:07.254 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 15:55:07.339 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 15:55:07.340 +07:00 [DBG] Request did not match any endpoints
2023-12-06 15:55:07.562 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 15:55:07.796 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 15:55:07.800 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 642.7045ms
2023-12-06 15:55:07.873 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 15:55:07.873 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 15:55:07.942 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 68.1458ms
2023-12-06 15:55:07.990 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 117.0644ms
2023-12-06 15:55:08.551 +07:00 [DBG] Connection id "0HMVM745ACPB8" received FIN.
2023-12-06 15:55:08.566 +07:00 [DBG] The connection queue processing loop for 0HMVM745ACPB8 completed.
2023-12-06 15:55:08.569 +07:00 [DBG] Connection id "0HMVM745ACPB8" is closed. The last processed stream ID was 5.
2023-12-06 15:55:08.569 +07:00 [DBG] Connection id "0HMVM745ACPB8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:55:08.581 +07:00 [DBG] Connection id "0HMVM745ACPB8" stopped.
2023-12-06 15:55:09.657 +07:00 [DBG] Connection id "0HMVM745ACPB9" accepted.
2023-12-06 15:55:09.658 +07:00 [DBG] Connection id "0HMVM745ACPB9" started.
2023-12-06 15:55:09.664 +07:00 [DBG] Connection 0HMVM745ACPB9 established using the following protocol: "Tls13"
2023-12-06 15:55:09.669 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 15:55:09.671 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 15:55:09.671 +07:00 [DBG] Request did not match any endpoints
2023-12-06 15:55:10.011 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 342.0461ms
2023-12-06 15:55:18.563 +07:00 [DBG] Connection id "0HMVM745ACPB9" received FIN.
2023-12-06 15:55:18.565 +07:00 [DBG] Connection id "0HMVM745ACPB9" is closed. The last processed stream ID was 1.
2023-12-06 15:55:18.565 +07:00 [DBG] The connection queue processing loop for 0HMVM745ACPB9 completed.
2023-12-06 15:55:18.565 +07:00 [DBG] Connection id "0HMVM745ACPB9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:55:18.573 +07:00 [DBG] Connection id "0HMVM745ACPB9" stopped.
2023-12-06 15:55:30.780 +07:00 [DBG] Connection id "0HMVM745ACPBA" accepted.
2023-12-06 15:55:30.781 +07:00 [DBG] Connection id "0HMVM745ACPBA" started.
2023-12-06 15:55:30.787 +07:00 [DBG] Connection 0HMVM745ACPBA established using the following protocol: "Tls13"
2023-12-06 15:55:30.789 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53
2023-12-06 15:55:30.801 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 15:55:30.810 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 15:55:30.811 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:55:30.815 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:55:31.006 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 15:55:31.012 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:55:31.109 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 15:55:31.113 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:55:31.114 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:55:31.115 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 15:55:31.115 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:55:31.115 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:55:31.120 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:55:31.597 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-06 15:55:31.647 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 15:55:31.682 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:55:31.685 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 15:55:31.687 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 15:55:31.687 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 15:55:31.726 +07:00 [DBG] Connection id "0HMVM745ACPBA", Request id "0HMVM745ACPBA:00000001": started reading request body.
2023-12-06 15:55:31.727 +07:00 [DBG] Connection id "0HMVM745ACPBA", Request id "0HMVM745ACPBA:00000001": done reading request body.
2023-12-06 15:55:31.918 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:55:31.918 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:55:31.918 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 15:55:31.934 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 15:55:33.098 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:55:33.268 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-06 15:55:33.598 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-06 15:55:33.676 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:55:33.680 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:55:33.752 +07:00 [DBG] Created DbConnection. (64ms).
2023-12-06 15:55:33.770 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (95ms).
2023-12-06 15:55:33.805 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (133ms).
2023-12-06 15:55:33.813 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:55:34.380 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:55:34.407 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:55:34.676 +07:00 [INF] Executed DbCommand (276ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 15:55:34.725 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:55:34.758 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:55:34.772 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 85ms reading results.
2023-12-06 15:55:34.777 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:55:34.792 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (14ms).
2023-12-06 15:55:35.008 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:55:35.011 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 15:55:35.011 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 15:55:35.011 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 15:55:35.013 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:55:35.013 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 15:55:35.120 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 3993.8449ms
2023-12-06 15:55:35.121 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 15:55:35.125 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:55:35.133 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:55:35.138 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2023-12-06 15:55:35.139 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53 - 200 359 application/json;+charset=utf-8 4349.9179ms
2023-12-06 15:55:38.602 +07:00 [DBG] Connection id "0HMVM745ACPBA" received FIN.
2023-12-06 15:55:38.602 +07:00 [DBG] Connection id "0HMVM745ACPBA" is closed. The last processed stream ID was 1.
2023-12-06 15:55:38.602 +07:00 [DBG] Connection id "0HMVM745ACPBA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:55:38.603 +07:00 [DBG] The connection queue processing loop for 0HMVM745ACPBA completed.
2023-12-06 15:55:38.604 +07:00 [DBG] Connection id "0HMVM745ACPBA" stopped.
2023-12-06 15:55:57.967 +07:00 [DBG] Connection id "0HMVM745ACPBB" accepted.
2023-12-06 15:55:57.967 +07:00 [DBG] Connection id "0HMVM745ACPBB" started.
2023-12-06 15:55:57.974 +07:00 [DBG] Connection 0HMVM745ACPBB established using the following protocol: "Tls13"
2023-12-06 15:55:57.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa?query=sort%20%3D%20desc - -
2023-12-06 15:55:58.002 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:55:58.011 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:55:58.020 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:55:58.021 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:55:58.122 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:55:58.126 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:55:58.137 +07:00 [DBG] Authorization was successful.
2023-12-06 15:55:58.137 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:55:58.145 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas(System.String) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:55:58.145 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:55:58.145 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:55:58.145 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:55:58.145 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:55:58.145 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:55:58.145 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:55:58.308 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:55:58.319 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-06 15:55:58.322 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name 'query' in request data ...
2023-12-06 15:55:58.325 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:55:58.325 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:55:58.325 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-06 15:55:58.326 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-06 15:55:58.388 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:56:00.206 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .OrderBy( => .Name)'
2023-12-06 15:56:00.221 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v
        ORDER BY v.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)'
2023-12-06 15:56:00.238 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:56:00.238 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:56:00.239 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:56:00.239 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:56:00.239 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-06 15:56:00.242 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:00.247 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:00.249 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:56:00.321 +07:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:56:00.339 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:00.375 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:00.375 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:00.382 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:56:00.382 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 60ms reading results.
2023-12-06 15:56:00.387 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:00.387 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:56:00.436 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:56:00.439 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-12-06 15:56:00.444 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-12-06 15:56:00.444 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-12-06 15:56:00.447 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 2301.1242ms
2023-12-06 15:56:00.449 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:56:00.450 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:56:00.451 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:00.451 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:56:00.451 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa?query=sort%20%3D%20desc - - - 406 0 - 2472.8010ms
2023-12-06 15:56:03.615 +07:00 [DBG] Connection id "0HMVM745ACPBB" received FIN.
2023-12-06 15:56:03.615 +07:00 [DBG] Connection id "0HMVM745ACPBB" is closed. The last processed stream ID was 1.
2023-12-06 15:56:03.616 +07:00 [DBG] Connection id "0HMVM745ACPBB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:56:03.616 +07:00 [DBG] The connection queue processing loop for 0HMVM745ACPBB completed.
2023-12-06 15:56:03.616 +07:00 [DBG] Connection id "0HMVM745ACPBB" stopped.
2023-12-06 15:56:06.909 +07:00 [DBG] Connection id "0HMVM745ACPBC" accepted.
2023-12-06 15:56:06.909 +07:00 [DBG] Connection id "0HMVM745ACPBC" started.
2023-12-06 15:56:06.914 +07:00 [DBG] Connection 0HMVM745ACPBC established using the following protocol: "Tls13"
2023-12-06 15:56:06.917 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa - -
2023-12-06 15:56:06.917 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:56:06.917 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:56:06.918 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:56:06.918 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:56:06.922 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:56:06.923 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:56:06.926 +07:00 [DBG] Authorization was successful.
2023-12-06 15:56:06.927 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:56:06.927 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas(System.String) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:56:06.927 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:56:06.928 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:56:06.928 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:56:06.928 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:56:06.928 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:56:06.928 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:56:06.929 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:56:06.930 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-06 15:56:06.930 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name '' in request data ...
2023-12-06 15:56:06.934 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'query' of type 'System.String'.
2023-12-06 15:56:06.934 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:56:06.935 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:56:06.935 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-06 15:56:06.935 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-06 15:56:07.015 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:56:07.019 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:56:07.019 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:56:07.019 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:56:07.019 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:56:07.019 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:56:07.019 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:07.019 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:07.019 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:56:07.026 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:56:07.027 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:07.027 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:07.027 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:07.028 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:56:07.028 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 1ms reading results.
2023-12-06 15:56:07.028 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:07.028 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:56:07.028 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:56:07.028 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-12-06 15:56:07.029 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-12-06 15:56:07.029 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-12-06 15:56:07.029 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 100.6411ms
2023-12-06 15:56:07.029 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:56:07.029 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:56:07.029 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:07.029 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:56:07.029 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa - - - 406 0 - 112.7533ms
2023-12-06 15:56:08.638 +07:00 [DBG] Connection id "0HMVM745ACPBC" received FIN.
2023-12-06 15:56:08.638 +07:00 [DBG] Connection id "0HMVM745ACPBC" is closed. The last processed stream ID was 1.
2023-12-06 15:56:08.638 +07:00 [DBG] Connection id "0HMVM745ACPBC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:56:08.639 +07:00 [DBG] The connection queue processing loop for 0HMVM745ACPBC completed.
2023-12-06 15:56:08.639 +07:00 [DBG] Connection id "0HMVM745ACPBC" stopped.
2023-12-06 15:56:15.800 +07:00 [DBG] Connection id "0HMVM745ACPBD" accepted.
2023-12-06 15:56:15.801 +07:00 [DBG] Connection id "0HMVM745ACPBD" started.
2023-12-06 15:56:15.810 +07:00 [DBG] Connection 0HMVM745ACPBD established using the following protocol: "Tls13"
2023-12-06 15:56:15.814 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa?query=sort%20%3D%20desc - -
2023-12-06 15:56:15.815 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:56:15.815 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:56:15.815 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:56:15.815 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:56:15.816 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:56:15.816 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:56:15.820 +07:00 [DBG] Authorization was successful.
2023-12-06 15:56:15.820 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:56:15.821 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas(System.String) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:56:15.821 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:56:15.821 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:56:15.821 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:56:15.821 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:56:15.821 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:56:15.821 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:56:15.827 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:56:15.827 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-06 15:56:15.828 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name 'query' in request data ...
2023-12-06 15:56:15.828 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:56:15.828 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:56:15.828 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-06 15:56:15.828 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-06 15:56:15.833 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:56:15.834 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:56:15.834 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:56:15.834 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:56:15.835 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:56:15.835 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-06 15:56:15.835 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:15.835 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:15.835 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:56:15.844 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:56:15.845 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:15.845 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:15.845 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:15.845 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:56:15.846 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 1ms reading results.
2023-12-06 15:56:15.846 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:15.846 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:56:15.846 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:56:15.847 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:56:15.847 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:56:15.847 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:56:15.851 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 30.4017ms
2023-12-06 15:56:15.851 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:56:15.851 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:56:15.852 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:15.852 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:56:15.852 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa?query=sort%20%3D%20desc - - - 200 379 application/json;+charset=utf-8 37.6031ms
2023-12-06 15:56:18.641 +07:00 [DBG] Connection id "0HMVM745ACPBD" received FIN.
2023-12-06 15:56:18.642 +07:00 [DBG] Connection id "0HMVM745ACPBD" is closed. The last processed stream ID was 1.
2023-12-06 15:56:18.642 +07:00 [DBG] The connection queue processing loop for 0HMVM745ACPBD completed.
2023-12-06 15:56:18.642 +07:00 [DBG] Connection id "0HMVM745ACPBD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:56:18.644 +07:00 [DBG] Connection id "0HMVM745ACPBD" stopped.
2023-12-06 15:56:21.827 +07:00 [DBG] Connection id "0HMVM745ACPBE" accepted.
2023-12-06 15:56:21.827 +07:00 [DBG] Connection id "0HMVM745ACPBE" started.
2023-12-06 15:56:21.831 +07:00 [DBG] Connection 0HMVM745ACPBE established using the following protocol: "Tls13"
2023-12-06 15:56:21.833 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa?query=sort%20%3D%20asc - -
2023-12-06 15:56:21.833 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:56:21.833 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:56:21.833 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:56:21.834 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:56:21.834 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:56:21.834 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:56:21.834 +07:00 [DBG] Authorization was successful.
2023-12-06 15:56:21.835 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:56:21.835 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas(System.String) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:56:21.835 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:56:21.835 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:56:21.835 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:56:21.835 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:56:21.835 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:56:21.835 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:56:21.835 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:56:21.835 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-06 15:56:21.835 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name 'query' in request data ...
2023-12-06 15:56:21.836 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:56:21.836 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:56:21.836 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-06 15:56:21.836 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-06 15:56:21.836 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:56:21.837 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:56:21.837 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:56:21.837 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:56:21.837 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:56:21.837 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:56:21.837 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:21.837 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:21.837 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:56:21.845 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:56:21.845 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:21.845 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:21.845 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:56:21.845 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:56:21.845 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:56:21.845 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:21.846 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:56:21.846 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:56:21.846 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:56:21.846 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:56:21.846 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:56:21.846 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 11.4123ms
2023-12-06 15:56:21.846 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:56:21.846 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:56:21.847 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:56:21.847 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:56:21.847 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa?query=sort%20%3D%20asc - - - 200 379 application/json;+charset=utf-8 14.0642ms
2023-12-06 15:56:23.654 +07:00 [DBG] Connection id "0HMVM745ACPBE" received FIN.
2023-12-06 15:56:23.654 +07:00 [DBG] Connection id "0HMVM745ACPBE" is closed. The last processed stream ID was 1.
2023-12-06 15:56:23.654 +07:00 [DBG] The connection queue processing loop for 0HMVM745ACPBE completed.
2023-12-06 15:56:23.654 +07:00 [DBG] Connection id "0HMVM745ACPBE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:56:23.655 +07:00 [DBG] Connection id "0HMVM745ACPBE" stopped.
2023-12-06 15:57:02.477 +07:00 [DBG] Connection id "0HMVM745ACPBF" accepted.
2023-12-06 15:57:02.477 +07:00 [DBG] Connection id "0HMVM745ACPBF" started.
2023-12-06 15:57:02.497 +07:00 [DBG] Connection 0HMVM745ACPBF established using the following protocol: "Tls13"
2023-12-06 15:57:02.522 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa?query=sort - -
2023-12-06 15:57:02.523 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:57:02.524 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:57:02.524 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:57:02.524 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:57:02.525 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:57:02.525 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:57:02.526 +07:00 [DBG] Authorization was successful.
2023-12-06 15:57:02.526 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:57:02.526 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas(System.String) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:57:02.526 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:57:02.526 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:57:02.526 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:57:02.526 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:57:02.526 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:57:02.526 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:57:02.526 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:57:02.527 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-06 15:57:02.527 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name 'query' in request data ...
2023-12-06 15:57:02.527 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:57:02.527 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:57:02.527 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-06 15:57:02.527 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-06 15:57:02.529 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:57:02.529 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:57:02.529 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:57:02.530 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:57:02.530 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:57:02.530 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:57:02.530 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:02.530 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:02.530 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:57:02.539 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:57:02.540 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:57:02.540 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:57:02.540 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:57:02.540 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:57:02.540 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:57:02.540 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:02.540 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:57:02.541 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:57:02.541 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:57:02.541 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:57:02.541 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:57:02.541 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 15.3351ms
2023-12-06 15:57:02.541 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:57:02.542 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:57:02.542 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:02.542 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:57:02.542 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa?query=sort - - - 200 379 application/json;+charset=utf-8 19.7416ms
2023-12-06 15:57:03.716 +07:00 [DBG] Connection id "0HMVM745ACPBF" received FIN.
2023-12-06 15:57:03.716 +07:00 [DBG] Connection id "0HMVM745ACPBF" is closed. The last processed stream ID was 1.
2023-12-06 15:57:03.716 +07:00 [DBG] Connection id "0HMVM745ACPBF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:57:03.717 +07:00 [DBG] The connection queue processing loop for 0HMVM745ACPBF completed.
2023-12-06 15:57:03.717 +07:00 [DBG] Connection id "0HMVM745ACPBF" stopped.
2023-12-06 15:57:06.089 +07:00 [DBG] Connection id "0HMVM745ACPBG" accepted.
2023-12-06 15:57:06.089 +07:00 [DBG] Connection id "0HMVM745ACPBG" started.
2023-12-06 15:57:06.115 +07:00 [DBG] Connection 0HMVM745ACPBG established using the following protocol: "Tls13"
2023-12-06 15:57:06.119 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa?query=asc - -
2023-12-06 15:57:06.125 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:57:06.125 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:57:06.125 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:57:06.125 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:57:06.135 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:57:06.136 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:57:06.136 +07:00 [DBG] Authorization was successful.
2023-12-06 15:57:06.139 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:57:06.139 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas(System.String) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:57:06.139 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:57:06.139 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:57:06.139 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:57:06.139 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:57:06.139 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:57:06.139 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:57:06.139 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:57:06.139 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-06 15:57:06.140 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name 'query' in request data ...
2023-12-06 15:57:06.140 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:57:06.140 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:57:06.140 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-06 15:57:06.140 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-06 15:57:06.140 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:57:06.141 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:57:06.141 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:57:06.141 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:57:06.141 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:57:06.141 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:57:06.141 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:06.141 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:06.141 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:57:06.147 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:57:06.147 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:57:06.147 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:57:06.147 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:57:06.147 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:57:06.148 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:57:06.148 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:06.148 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:57:06.148 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:57:06.148 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:57:06.148 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:57:06.148 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:57:06.149 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 9.7504ms
2023-12-06 15:57:06.149 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:57:06.150 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:57:06.150 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:06.150 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:57:06.150 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa?query=asc - - - 200 379 application/json;+charset=utf-8 31.4419ms
2023-12-06 15:57:08.715 +07:00 [DBG] Connection id "0HMVM745ACPBG" received FIN.
2023-12-06 15:57:08.715 +07:00 [DBG] Connection id "0HMVM745ACPBG" is closed. The last processed stream ID was 1.
2023-12-06 15:57:08.715 +07:00 [DBG] Connection id "0HMVM745ACPBG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:57:08.716 +07:00 [DBG] The connection queue processing loop for 0HMVM745ACPBG completed.
2023-12-06 15:57:08.716 +07:00 [DBG] Connection id "0HMVM745ACPBG" stopped.
2023-12-06 15:57:38.704 +07:00 [DBG] Connection id "0HMVM745ACPBH" accepted.
2023-12-06 15:57:38.705 +07:00 [DBG] Connection id "0HMVM745ACPBH" started.
2023-12-06 15:57:38.723 +07:00 [DBG] Connection 0HMVM745ACPBH established using the following protocol: "Tls13"
2023-12-06 15:57:38.739 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/api/Villa?query=sort%3Dasc - -
2023-12-06 15:57:38.740 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Villa'
2023-12-06 15:57:38.743 +07:00 [DBG] Endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)' with route pattern 'api/Villa' is valid for the request path '/api/Villa'
2023-12-06 15:57:38.743 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:57:38.744 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 15:57:38.756 +07:00 [DBG] Successfully validated the token.
2023-12-06 15:57:38.756 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-06 15:57:38.756 +07:00 [DBG] Authorization was successful.
2023-12-06 15:57:38.756 +07:00 [INF] Executing endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:57:38.757 +07:00 [INF] Route matched with {action = "GetVillas", controller = "Villa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MOC1.Models.APIResponse]] GetVillas(System.String) on controller MOC1.Controllers.VillaController (MOC1).
2023-12-06 15:57:38.757 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 15:57:38.757 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 15:57:38.757 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-06 15:57:38.757 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 15:57:38.757 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 15:57:38.757 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:57:38.765 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.VillaController (MOC1)
2023-12-06 15:57:38.765 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' ...
2023-12-06 15:57:38.767 +07:00 [DBG] Attempting to bind parameter 'query' of type 'System.String' using the name 'query' in request data ...
2023-12-06 15:57:38.768 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:57:38.768 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'System.String'.
2023-12-06 15:57:38.768 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'System.String' ...
2023-12-06 15:57:38.768 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'System.String'.
2023-12-06 15:57:38.769 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 15:57:38.769 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 15:57:38.769 +07:00 [DBG] Creating DbConnection.
2023-12-06 15:57:38.769 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 15:57:38.769 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:57:38.769 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-06 15:57:38.769 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:38.770 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:38.770 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:57:38.776 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY [v].[Name]
2023-12-06 15:57:38.776 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:57:38.776 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:57:38.776 +07:00 [DBG] Context 'ApplicationContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 15:57:38.776 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 15:57:38.776 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 0ms reading results.
2023-12-06 15:57:38.776 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:38.777 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 15:57:38.777 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 15:57:38.777 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-12-06 15:57:38.777 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 15:57:38.777 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MOC1.DTO.VillaDTO, MOC1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-06 15:57:38.777 +07:00 [INF] Executed action MOC1.Controllers.VillaController.GetVillas (MOC1) in 20.2371ms
2023-12-06 15:57:38.777 +07:00 [INF] Executed endpoint 'MOC1.Controllers.VillaController.GetVillas (MOC1)'
2023-12-06 15:57:38.777 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 15:57:38.777 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 15:57:38.777 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 15:57:38.778 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/api/Villa?query=sort%3Dasc - - - 200 379 application/json;+charset=utf-8 38.1830ms
2023-12-06 15:57:43.786 +07:00 [DBG] Connection id "0HMVM745ACPBH" received FIN.
2023-12-06 15:57:43.786 +07:00 [DBG] Connection id "0HMVM745ACPBH" is closed. The last processed stream ID was 1.
2023-12-06 15:57:43.786 +07:00 [DBG] Connection id "0HMVM745ACPBH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 15:57:43.786 +07:00 [DBG] The connection queue processing loop for 0HMVM745ACPBH completed.
2023-12-06 15:57:43.787 +07:00 [DBG] Connection id "0HMVM745ACPBH" stopped.
2023-12-06 16:24:12.430 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-06 16:24:12.831 +07:00 [DBG] Hosting starting
2023-12-06 16:24:12.875 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-06 16:24:12.882 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-89ab2015-9967-47e1-965a-65d13ae4bf9f.xml'.
2023-12-06 16:24:12.901 +07:00 [DBG] Found key {89ab2015-9967-47e1-965a-65d13ae4bf9f}.
2023-12-06 16:24:12.915 +07:00 [DBG] Considering key {89ab2015-9967-47e1-965a-65d13ae4bf9f} with expiration date 2024-02-25 02:03:06Z as default key.
2023-12-06 16:24:12.918 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 16:24:12.920 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-06 16:24:12.922 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-06 16:24:12.925 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-06 16:24:12.927 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-06 16:24:12.929 +07:00 [DBG] Using key {89ab2015-9967-47e1-965a-65d13ae4bf9f} as the default key.
2023-12-06 16:24:12.931 +07:00 [DBG] Key ring with default key {89ab2015-9967-47e1-965a-65d13ae4bf9f} was loaded during application startup.
2023-12-06 16:24:13.528 +07:00 [INF] Now listening on: https://localhost:7189
2023-12-06 16:24:13.528 +07:00 [INF] Now listening on: http://localhost:5275
2023-12-06 16:24:13.528 +07:00 [DBG] Loaded hosting startup assembly MOC1
2023-12-06 16:24:13.528 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-06 16:24:13.528 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-06 16:24:13.529 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-06 16:24:13.529 +07:00 [INF] Hosting environment: Development
2023-12-06 16:24:13.529 +07:00 [INF] Content root path: D:\MOC1
2023-12-06 16:24:13.529 +07:00 [DBG] Hosting started
2023-12-06 16:24:13.691 +07:00 [DBG] Connection id "0HMVM7KEA4N61" accepted.
2023-12-06 16:24:13.691 +07:00 [DBG] Connection id "0HMVM7KEA4N62" accepted.
2023-12-06 16:24:13.692 +07:00 [DBG] Connection id "0HMVM7KEA4N62" started.
2023-12-06 16:24:13.692 +07:00 [DBG] Connection id "0HMVM7KEA4N61" started.
2023-12-06 16:24:13.717 +07:00 [DBG] Connection id "0HMVM7KEA4N62" received FIN.
2023-12-06 16:24:13.717 +07:00 [DBG] Connection id "0HMVM7KEA4N61" received FIN.
2023-12-06 16:24:13.752 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 16:24:13.752 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-06 16:24:13.831 +07:00 [DBG] Connection id "0HMVM7KEA4N62" stopped.
2023-12-06 16:24:13.831 +07:00 [DBG] Connection id "0HMVM7KEA4N61" stopped.
2023-12-06 16:24:13.834 +07:00 [DBG] Connection id "0HMVM7KEA4N61" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 16:24:13.834 +07:00 [DBG] Connection id "0HMVM7KEA4N62" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 16:24:14.704 +07:00 [DBG] Connection id "0HMVM7KEA4N63" accepted.
2023-12-06 16:24:14.709 +07:00 [DBG] Connection id "0HMVM7KEA4N63" started.
2023-12-06 16:24:14.969 +07:00 [DBG] Connection 0HMVM7KEA4N63 established using the following protocol: "Tls13"
2023-12-06 16:24:15.168 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/index.html - -
2023-12-06 16:24:15.602 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-06 16:24:15.656 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-06 16:24:15.656 +07:00 [DBG] Request did not match any endpoints
2023-12-06 16:24:15.903 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-06 16:24:16.168 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-06 16:24:16.174 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/index.html - - - 200 - text/html;charset=utf-8 1021.2526ms
2023-12-06 16:24:16.303 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_vs/browserLink - -
2023-12-06 16:24:16.303 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - -
2023-12-06 16:24:16.356 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_framework/aspnetcore-browser-refresh.js - - - 200 12340 application/javascript;+charset=utf-8 52.7779ms
2023-12-06 16:24:16.437 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 134.0396ms
2023-12-06 16:24:18.099 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - -
2023-12-06 16:24:18.099 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-06 16:24:18.099 +07:00 [DBG] Request did not match any endpoints
2023-12-06 16:24:18.675 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7189/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 576.1135ms
2023-12-06 16:24:21.069 +07:00 [DBG] Connection id "0HMVM7KEA4N63" received FIN.
2023-12-06 16:24:21.073 +07:00 [DBG] The connection queue processing loop for 0HMVM7KEA4N63 completed.
2023-12-06 16:24:21.078 +07:00 [DBG] Connection id "0HMVM7KEA4N63" is closed. The last processed stream ID was 7.
2023-12-06 16:24:21.078 +07:00 [DBG] Connection id "0HMVM7KEA4N63" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 16:24:21.087 +07:00 [DBG] Connection id "0HMVM7KEA4N63" stopped.
2023-12-06 16:24:34.147 +07:00 [DBG] Connection id "0HMVM7KEA4N64" accepted.
2023-12-06 16:24:34.148 +07:00 [DBG] Connection id "0HMVM7KEA4N64" started.
2023-12-06 16:24:34.159 +07:00 [DBG] Connection 0HMVM7KEA4N64 established using the following protocol: "Tls13"
2023-12-06 16:24:34.163 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53
2023-12-06 16:24:34.178 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 16:24:34.188 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 16:24:34.190 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 16:24:34.195 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 16:24:34.488 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 16:24:34.496 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 16:24:34.566 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 16:24:34.569 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 16:24:34.570 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 16:24:34.571 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 16:24:34.571 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 16:24:34.571 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 16:24:34.575 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 16:24:34.934 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-06 16:24:35.023 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 16:24:35.060 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 16:24:35.063 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 16:24:35.064 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 16:24:35.064 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 16:24:35.107 +07:00 [DBG] Connection id "0HMVM7KEA4N64", Request id "0HMVM7KEA4N64:00000001": started reading request body.
2023-12-06 16:24:35.108 +07:00 [DBG] Connection id "0HMVM7KEA4N64", Request id "0HMVM7KEA4N64:00000001": done reading request body.
2023-12-06 16:24:35.273 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 16:24:35.273 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 16:24:35.273 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 16:24:35.285 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 16:24:36.431 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 16:24:36.595 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(s => s.UserName.ToLower() == __ToLower_0)'
2023-12-06 16:24:37.162 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE LOWER(l.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MOC1.Data.ApplicationContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-12-06 16:24:37.267 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 16:24:37.273 +07:00 [DBG] Creating DbConnection.
2023-12-06 16:24:37.345 +07:00 [DBG] Created DbConnection. (62ms).
2023-12-06 16:24:37.362 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (98ms).
2023-12-06 16:24:37.392 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (130ms).
2023-12-06 16:24:37.399 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 16:24:38.085 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 16:24:38.114 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 16:24:38.286 +07:00 [INF] Executed DbCommand (182ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 16:24:38.344 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 16:24:38.382 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 16:24:38.405 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 105ms reading results.
2023-12-06 16:24:38.408 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 16:24:38.414 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (6ms).
2023-12-06 16:24:38.707 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 16:24:38.711 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 16:24:38.711 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 16:24:38.711 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 16:24:38.714 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 16:24:38.715 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 16:24:38.847 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 4267.5753ms
2023-12-06 16:24:38.848 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 16:24:38.855 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 16:24:38.864 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 16:24:38.872 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2023-12-06 16:24:38.874 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53 - 200 359 application/json;+charset=utf-8 4711.5579ms
2023-12-06 16:24:41.096 +07:00 [DBG] Connection id "0HMVM7KEA4N64" received FIN.
2023-12-06 16:24:41.096 +07:00 [DBG] Connection id "0HMVM7KEA4N64" is closed. The last processed stream ID was 1.
2023-12-06 16:24:41.096 +07:00 [DBG] Connection id "0HMVM7KEA4N64" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 16:24:41.096 +07:00 [DBG] The connection queue processing loop for 0HMVM7KEA4N64 completed.
2023-12-06 16:24:41.097 +07:00 [DBG] Connection id "0HMVM7KEA4N64" stopped.
2023-12-06 16:25:19.020 +07:00 [DBG] Connection id "0HMVM7KEA4N65" accepted.
2023-12-06 16:25:19.023 +07:00 [DBG] Connection id "0HMVM7KEA4N65" started.
2023-12-06 16:25:19.050 +07:00 [DBG] Connection 0HMVM7KEA4N65 established using the following protocol: "Tls13"
2023-12-06 16:25:19.070 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53
2023-12-06 16:25:19.093 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-12-06 16:25:19.093 +07:00 [DBG] Endpoint 'MOC1.Controllers.UsersController.Login (MOC1)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-12-06 16:25:19.093 +07:00 [DBG] Request matched endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 16:25:19.094 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-06 16:25:19.098 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-06 16:25:19.099 +07:00 [INF] Executing endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 16:25:19.100 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MOC1.DTO.LoginRequestDTO) on controller MOC1.Controllers.UsersController (MOC1).
2023-12-06 16:25:19.100 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-06 16:25:19.100 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-06 16:25:19.100 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2023-12-06 16:25:19.100 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-06 16:25:19.100 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-06 16:25:19.100 +07:00 [DBG] Executing controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 16:25:19.103 +07:00 [DBG] Executed controller factory for controller MOC1.Controllers.UsersController (MOC1)
2023-12-06 16:25:19.104 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 16:25:19.105 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' using the name '' in request data ...
2023-12-06 16:25:19.105 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 16:25:19.106 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-06 16:25:19.106 +07:00 [DBG] Connection id "0HMVM7KEA4N65", Request id "0HMVM7KEA4N65:00000001": started reading request body.
2023-12-06 16:25:19.107 +07:00 [DBG] Connection id "0HMVM7KEA4N65", Request id "0HMVM7KEA4N65:00000001": done reading request body.
2023-12-06 16:25:19.107 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 16:25:19.107 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 16:25:19.107 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO' ...
2023-12-06 16:25:19.108 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MOC1.DTO.LoginRequestDTO'.
2023-12-06 16:25:19.150 +07:00 [DBG] Entity Framework Core 7.0.14 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.14' with options: None
2023-12-06 16:25:19.164 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-06 16:25:19.164 +07:00 [DBG] Creating DbConnection.
2023-12-06 16:25:19.165 +07:00 [DBG] Created DbConnection. (0ms).
2023-12-06 16:25:19.165 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-06 16:25:19.165 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-06 16:25:19.166 +07:00 [DBG] Opening connection to database 'VillaDb' on server '.'.
2023-12-06 16:25:19.170 +07:00 [DBG] Opened connection to database 'VillaDb' on server '.'.
2023-12-06 16:25:19.170 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 16:25:19.181 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0
2023-12-06 16:25:19.183 +07:00 [DBG] Context 'ApplicationContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-06 16:25:19.185 +07:00 [DBG] Closing data reader to 'VillaDb' on server '.'.
2023-12-06 16:25:19.185 +07:00 [DBG] A data reader for 'VillaDb' on server '.' is being disposed after spending 4ms reading results.
2023-12-06 16:25:19.186 +07:00 [DBG] Closing connection to database 'VillaDb' on server '.'.
2023-12-06 16:25:19.186 +07:00 [DBG] Closed connection to database 'VillaDb' on server '.' (0ms).
2023-12-06 16:25:19.189 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-06 16:25:19.189 +07:00 [DBG] No information found on request to perform content negotiation.
2023-12-06 16:25:19.189 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-06 16:25:19.189 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-06 16:25:19.190 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-06 16:25:19.190 +07:00 [INF] Executing OkObjectResult, writing value of type 'MOC1.Models.APIResponse'.
2023-12-06 16:25:19.192 +07:00 [INF] Executed action MOC1.Controllers.UsersController.Login (MOC1) in 91.5624ms
2023-12-06 16:25:19.192 +07:00 [INF] Executed endpoint 'MOC1.Controllers.UsersController.Login (MOC1)'
2023-12-06 16:25:19.192 +07:00 [DBG] 'ApplicationContext' disposed.
2023-12-06 16:25:19.193 +07:00 [DBG] Disposing connection to database 'VillaDb' on server '.'.
2023-12-06 16:25:19.193 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-06 16:25:19.193 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7189/api/UsersAuth/login application/json-patch+json 53 - 200 359 application/json;+charset=utf-8 128.7020ms
2023-12-06 16:25:21.152 +07:00 [DBG] Connection id "0HMVM7KEA4N65" received FIN.
2023-12-06 16:25:21.153 +07:00 [DBG] Connection id "0HMVM7KEA4N65" is closed. The last processed stream ID was 1.
2023-12-06 16:25:21.153 +07:00 [DBG] Connection id "0HMVM7KEA4N65" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-06 16:25:21.153 +07:00 [DBG] The connection queue processing loop for 0HMVM7KEA4N65 completed.
2023-12-06 16:25:21.154 +07:00 [DBG] Connection id "0HMVM7KEA4N65" stopped.
